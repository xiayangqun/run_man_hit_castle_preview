System.register("chunks:///_virtual/PlayPagePushNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./HtsHelper.ts","./MutualPushItemCtrl.ts"],(function(e){"use strict";var t,r,n,l,i,o,s,a,u,c,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Tween,a=e.Vec3,u=e.log,c=e.Component},function(e){p=e.HtsHelper},function(e){g=e.MutualPushItemCtrl}],execute:function(){var h,y,P,d,C;i._RF.push({},"037b7Gk2CtKC4Fc8I7gvO66","PlayPagePushNodeCtrl",void 0);var f=o.ccclass,m=o.property;e("PlayPagePushNodeCtrl",(h=f("PlayPagePushNodeCtrl"),y=m(g),h((C=t((d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(l(t),"itemCtrl",C,l(t)),t}r(t,e);var i=t.prototype;return i.start=function(){new s(this.itemCtrl.node).to(.1,{eulerAngles:new a(0,0,25)}).to(.1,{eulerAngles:new a(0,0,-25)}).to(.1,{eulerAngles:new a(0,0,25)}).to(.1,{eulerAngles:new a(0,0,-25)}).to(.1,{eulerAngles:new a(0,0,0)}).delay(2).union().repeatForever().start()},i.onEnable=function(){u("playPageIcon show"),p.iconArray.length>0?(this.itemCtrl.node.active=!0,this.itemCtrl.init(p.iconArray,p.getHtsIds().iconBid)):this.itemCtrl.node.active=!1},t}(c)).prototype,"itemCtrl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=d))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/progress_lottery_config.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0674dizdkxCKrNzX96Q3zxR","progress_lottery_config",void 0);e("progress_lottery_config",[{type:"hat",index:2},{type:"hat",index:6},{type:"shoes",index:2},{type:"cannon",index:1},{type:"hat",index:9},{type:"hat",index:14},{type:"shoes",index:5},{type:"cannon",index:7},{type:"hat",index:17},{type:"hat",index:22},{type:"cannon",index:8},{type:"hat",index:26},{type:"hat",index:29},{type:"hat",index:34}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterTT.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t.view},function(t){a=t.PlatformNotify},function(t){s=t.AdapterBase},function(t){c=t.PlatformConfig}],execute:function(){o._RF.push({},"07f46SoTyFPR54r/kXSb+m6","AdapterTT",void 0);t("AdapterTT",function(t){function o(){var e;return e=t.call(this)||this,n(i(e),"_video",null),n(i(e),"_banner",null),n(i(e),"_bannerWidth",.8),n(i(e),"_bannerStyleWidth",0),n(i(e),"_bannerStyleHeight",0),n(i(e),"_interstitial",null),n(i(e),"_grid",null),n(i(e),"_gameBanner",null),n(i(e),"_gameBannerBottomBorder",-1),n(i(e),"_gameBannerTopBorder",-1),n(i(e),"_gameIcon",null),n(i(e),"_gameIconLeftBorder",-1),n(i(e),"_gameIconBottomBorder",-1),n(i(e),"_gameClubButton",null),n(i(e),"_customAd",null),n(i(e),"_startRecordTimeStamp",0),n(i(e),"_videoPath",""),e._initOther(),e._createVideo(),e._createBanner(),e._createInterstitialAd(),console.log("AdapterTT 初始化成功了"),e}e(o,t);var s=o.prototype;return s._initOther=function(){tt.showShareMenu&&tt.showShareMenu({}),tt.onShareAppMessage((function(){return{title:c.tt.shareTitle,imageUrl:c.tt.shareImage}}))},s._createVideo=function(){var t=this;if(!c.tt.videoId)return console.log("PlatformConfig.tt.videoId 的配置为空。跳过创建video广告");this._video=tt.createRewardedVideoAd({adUnitId:c.tt.videoId}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(t){console.log("激励视频 广告加载失败",t)})),this._video.onClose((function(e){e&&e.isEnded||void 0===e?(t._cb&&t._cb(!0),t._cb=null):(t._cb&&t._cb(!1,"观看完整视频广告才能获得奖励"),t._cb=null)}))},s.showVideo=function(t,e){var n=this;this._cb=e;var i=this._video;if(null==i)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var o=i.show();o&&o.catch((function(t){i.load().then((function(){i.show()}),(function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},s._createBanner=function(){var t=this;if(!tt.createBannerAd)return console.log("当前平台不支持Banner");var e=r.getVisibleSize(),n=tt.createBannerAd({adUnitId:c.tt.bannerId,adIntervals:30,style:o.convertToTTStyle(e.width/2,50,e.width*this._bannerWidth,100)});n.onLoad((function(){console.log("banner 广告加载成功")})),n.onError((function(t){console.log("banner 加载失败",t)})),n.onResize((function(e){var i=e.width,o=e.height;if(0==t._bannerStyleHeight){var s=window.tt.getSystemInfoSync(),c=(s.screenWidth,s.screenHeight),h=o*(r.getVisibleSize().height/c);a.postNotice(a.BANNER_SHOW_HEIGHT,{height:h})}t._bannerStyleWidth=e.width,t._bannerStyleHeight=e.height;var l=window.tt.getSystemInfoSync(),d=l.screenWidth,u=l.screenHeight;Math.abs(u-o-n.style.top)>=5&&(n.style.top=u-o),Math.abs((d-i)/2-n.style.left)>=5&&(n.style.left=(d-i)/2)})),this._banner=n},s.showBanner=function(t){var e=this;if(!tt.createBannerAd)return console.log("当前平台不支持Banner");null==this._banner&&(this._createBanner(),setTimeout((function(){e.showBanner(t)}),2));var n=t.width||this._bannerWidth;if(n!=this._bannerWidth){this._bannerWidth=n;var i=r.getVisibleSize(),s=o.convertToTTStyle(i.width/2,50,i.width*n,100);this._banner.style=s,setTimeout((function(){e._banner.show().then((function(){var t=window.tt.getSystemInfoSync(),n=(t.screenWidth,t.screenHeight),i=r.getVisibleSize().height/n,o=e._bannerStyleHeight*i;a.postNotice(a.BANNER_SHOW_HEIGHT,{height:o})}))}),2e3)}else this._banner.show().then((function(){var t=window.tt.getSystemInfoSync(),n=(t.screenWidth,t.screenHeight),i=r.getVisibleSize().height/n,o=e._bannerStyleHeight*i;a.postNotice(a.BANNER_SHOW_HEIGHT,{height:o})})),console.log(this._banner)},s.hideBanner=function(t){if(!tt.createBannerAd)return console.log("当前平台不支持Banner");t.tryDestroy?(this._banner&&(this._banner.destroy(),this._banner=null),this._createBanner()):this._banner&&this._banner.hide(),a.postNotice(a.BANNER_SHOW_HEIGHT,{height:0})},s._createInterstitialAd=function(){},s.showInterstitialAd=function(t){this._interstitial&&this._interstitial.show().catch((function(t){console.error("插屏广告展现失败了",t)}))},o.convertToTTStyle=function(t,e,n,i){var o=window.tt.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight),a=cc.view.getVisibleSize().height/r,s=n/a,c=i/a;return{left:t/a-s/2,top:r-e/a-c/2,width:s,height:c}},s.share=function(t,e){this._videoPath?this.shareRecordVideo(t):tt.shareAppMessage({templateId:c.tt.shareId,query:"",success:function(){t&&t(!0)},fail:function(){t&&t(!1,"分享取消了")}})},s.hadShareAbility=function(){return!0},s.hadCollectAbility=function(){return!1},s.hadRecordAbility=function(){return!0},s.startRecord=function(){var t=this;if("devtools"==tt.getSystemInfoSync().platform)return console.log("dev不能录屏");var e=tt.getGameRecorderManager();0==e._recording?(e.onStart((function(e){t._startRecordTimeStamp=dayjs().unix(),t._videoPath="",a.postNotice(a.RECORDING_STATE,!1)})),e.start({duration:300})):console.log("正在录屏中，切勿重复发起录制")},s.endRecord=function(){var t=this;if("devtools"==tt.getSystemInfoSync().platform)return console.log("dev不能录屏");if(dayjs().unix()-this._startRecordTimeStamp>3){var e=tt.getGameRecorderManager();e.onStop((function(e){t._videoPath=e.videoPath,a.postNotice(a.RECORDING_STATE,!0)})),e.stop({duration:300})}else tt.showToast({title:"录屏时间不能少于3秒",icon:"none"})},s.isRecording=function(){return tt.getGameRecorderManager()._recording},s.shareRecordVideo=function(t){var e=this;tt.shareAppMessage({channel:"video",query:"",extra:{videoPath:this._videoPath,videoTopics:["变色","小人","跑酷"]},success:function(){t(!0),e._videoPath=""},fail:function(e){t(!1,"分享取消")}})},s.vibrateShort=function(t){tt.vibrateShort({})},o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/AlertLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./BaseUILayerCtrl.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,c,l,u,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,c=t.Label,l=t.find},function(t){u=t.CLIP},function(t){p=t.AudioHelper},function(t){f=t.BaseUILayerCtrl}],execute:function(){var h,y,C,d,L;a._RF.push({},"09eb31r6bNBEbAra0ohN1Ks","AlertLayerCtrl",void 0);var b=s.ccclass,A=s.property;t("AlertLayerCtrl",(h=b("AlertLayerCtrl"),y=A({type:c}),h((L=e((d=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"desLabel",L,r(e)),o(r(e),"config",{}),e}i(e,t);var a=e.prototype;return a.init=function(t){this.config=t,this.desLabel.string=t.msg,t.parent?this.node.parent=t.parent:this.node.parent=l("Canvas")},a.start=function(){},a.onCancelButtonClick=function(){p.play("audio",u.CLICK_BACK_BUTTON),this.config.cancelCb&&this.config.cancelCb(this),this.playOutAction()},a.onSureButtonClick=function(){p.play("audio",u.CLICK_NORMAL_BUTTON),this.config.sureCb&&this.config.sureCb(this),this.playOutAction()},a.onOutActionFinish=function(){this.node.destroy()},e}(f)).prototype,"desLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=d))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleDiamond.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./PlatformManager.ts","./ObstaclePick.ts"],(function(t){"use strict";var e,n,i,o,a,r,c,s,l,u,d,p,f,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.CCInteger,s=t.Tween,l=t.Vec3},function(t){u=t.CLIP},function(t){d=t.AudioHelper},function(t){p=t.NotificationCenter,f=t.NCKeys},function(t){h=t.PlatformManager},function(t){b=t.ObstaclePick}],execute:function(){var y,g,m,v,D;a._RF.push({},"0a8b02gy0tNC5qlKxn50ldB","ObstacleDiamond",void 0);var A=r.ccclass,N=r.property;t("ObstacleDiamond",(y=A("ObstacleDiamond"),g=N({type:c,tooltip:"获得宝石的数量"}),y((D=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(o(e),"diamondNum",D,o(e)),e}n(e,t);var a=e.prototype;return a.onEnable=function(){var e=this;t.prototype.onEnable.call(this),new s(this.node).to(5,{eulerAngles:new l(0,360,0)}).call((function(){e.node.eulerAngles=new l(0,0,0)})).union().repeatForever().start()},a.onPicked=function(){var t=this;d.play("audio",u.SMALL_DIAMOND),h.getInstance().vibrateShort("light"),p.postNotice(f.PLAY_GET_DIAMOND,this.diamondNum);var e=this.node.scale.x;e*=1.4,new s(this.node).to(.3,{scale:new l(e,e,e)},{easing:"backOut"}).to(.1,{scale:new l(0,0,0)}).call((function(){t.node.destroy()})).start()},e}(b)).prototype,"diamondNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/moreGameInnerNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./HtsHelper.ts","./Utils.ts","./MutualPushItemCtrl.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,s,c,u,p,h,m,f,d,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.Node,c=e.CCFloat,u=e.Vec3,p=e.instantiate,h=e.macro,m=e.UITransform,f=e.Component},function(e){d=e.HtsHelper},function(e){v=e.Utils},function(e){y=e.MutualPushItemCtrl}],execute:function(){var g,b,P,C,I,F,w,A,H;o._RF.push({},"0ac3aAywF1Bm5YPeA+Jl2sP","moreGameInnerNodeCtrl",void 0);var S=a.ccclass,_=a.property;e("MoreGameInnerNodeCtrl",(g=S("MoreGameInnerNodeCtrl"),b=_(l),P=_(s),C=_(c),g((w=t((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"itemPrefab",w,r(t)),i(r(t),"content",A,r(t)),i(r(t),"itemScale",H,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){if(d.moreArray.length>0){for(var e=v.shuffle(d.moreArray),t=d.getHtsIds().moreBid,n=new u(this.itemScale,this.itemScale,this.itemScale),i=0;i<e.length;i++){var r,o=p(this.itemPrefab);o.scale=n,null===(r=o.getComponent(y))||void 0===r||r.init(e[i],t),o.parent=this.content}this.schedule(this.updateForPos,0,h.REPEAT_FOREVER,2)}else this.node.active=!1},o.onDestroy=function(){},o.updateForPos=function(e){var t,n,i,r=null===(t=this.content.getComponent(m))||void 0===t?void 0:t.height,o=null===(n=this.content.parent)||void 0===n||null===(i=n.getComponent(m))||void 0===i?void 0:i.height;if(r<=o)this.unschedule(this.updateForPos);else{var a=new u(this.content.position);a.y+=.5,a.y>r-o/5&&(a.y=o/2),this.content.position=a}},t}(f)).prototype,"itemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(F.prototype,"content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(F.prototype,"itemScale",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=F))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterQQ.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts","./NotificationCenter.ts","./LocalData.ts"],(function(t){"use strict";var e,n,o,i,r,s,a,c,l,h,d;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,r=t.view},function(t){s=t.PlatformNotify},function(t){a=t.AdapterBase},function(t){c=t.PlatformConfig},function(t){l=t.NotificationCenter,h=t.NCKeys},function(t){d=t.LocalData}],execute:function(){i._RF.push({},"0c5f75rwnVKfIzmvdd2WiNn","AdapterQQ",void 0);t("AdapterQQ",function(t){function i(){var e;return e=t.call(this)||this,n(o(e),"_video",null),n(o(e),"_bottomBanner",null),n(o(e),"_bottomBannerShowed",!1),n(o(e),"_bottomBannerInViewed",!0),n(o(e),"_bottomBannerLeft",-1),n(o(e),"_bottomBannerTop",-1),n(o(e),"_bannerWidth",1),n(o(e),"_interstitial",null),n(o(e),"_blockAd",null),n(o(e),"_authSetting",{}),e._initOther(),e._createVideo(),e._createBanner(),e._createInterstitialAd(),console.log("AdapterQQ 初始化成功了"),e}e(i,t);var a=i.prototype;return a._initOther=function(){var t=this;window.qq.showShareMenu({withShareTicket:!0,menus:["qq","qzone","wechatFriends","wechatMoment"]}),window.qq.onShareAppMessage((function(){return{title:c.qq.shareTitle,imageUrl:c.qq.shareImage}})),qq.getSetting({success:function(e){t._authSetting=e.authSetting,t._authSetting["scope.recentColorSign"]||qq.authorize({scope:"scope.recentColorSign",success:function(){qq.addRecentColorSign({complete:function(t){console.log("addRecentColorSign complete: ",t)}})}})}}),qq.onShow((function(){console.log("游戏进入了前台了"),l.postNotice(h.EVENT_SHOW,null)})),qq.onHide((function(){console.log("游戏进入了后台了"),d.save(),l.postNotice(h.EVENT_HIDE,null)}))},a._createVideo=function(){var t=this;if(!c.qq.videoId)return console.log("PlatformConfig.qq.videoId 的配置为空。跳过创建video广告");this._video=qq.createRewardedVideoAd({adUnitId:c.qq.videoId}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(t){console.log("激励视频 广告加载失败",t)})),this._video.onClose((function(e){e&&e.isEnded?(t._cb&&t._cb(!0),t._cb=null):(t._cb&&t._cb(!1,"观看完整视频广告才能获得奖励"),t._cb=null)}))},a.showVideo=function(t,e){var n=this;this._cb=e;var o=this._video;if(null==o)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var i=o.show();i&&i.catch((function(t){o.load().then((function(){o.show()}),(function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},a._createBanner=function(){var t=this,e=r.getVisibleSize(),n=qq.createBannerAd({adUnitId:c.qq.bannerId,adIntervals:30,style:i.convertToQQStyle(e.width/2,62,e.width*this._bannerWidth,124)});n.onLoad((function(){console.log("banner 广告加载成功")})),n.onError((function(t){console.log("banner 加载失败",t)})),n.onResize((function(e){console.log("onResize",e),n.style.width=e.width,n.style.height=e.height,console.log(n.style.width,n.style.height);var o=window.qq.getSystemInfoSync(),i=o.screenWidth,r=o.screenHeight;Math.abs(r-n.style.height-n.style.top)>=5&&(t._bottomBannerTop=r-n.style.height,t._bottomBannerInViewed&&(n.style.top=t._bottomBannerTop),console.log("screenHeight height top",r,n.style.height,n.style.top)),Math.abs((i-n.style.width)/2-n.style.left)>=5&&(t._bottomBannerLeft=(i-n.style.width)/2,t._bottomBannerInViewed&&(n.style.left=t._bottomBannerLeft))})),this._bottomBanner=n},a.showBanner=function(t){var e=this;null==this._bottomBanner&&(this._createBanner(),setTimeout((function(){e.showBanner(t)}),2));var n=t.width||this._bannerWidth;if(n!=this._bannerWidth){this._bannerWidth=n;var o=r.getVisibleSize(),a=i.convertToQQStyle(o.width/2,62,o.width*n,124);this._bottomBanner.style=a,setTimeout((function(){e._bottomBanner.show();var t=window.qq.getSystemInfoSync(),n=(t.screenWidth,t.screenHeight),o=r.getVisibleSize().height/n,i=e._bottomBanner.style.height*o;s.postNotice(s.BANNER_SHOW_HEIGHT,{height:i})}),2e3)}else{this._bottomBanner.show();var c=window.qq.getSystemInfoSync(),l=(c.screenWidth,c.screenHeight),h=r.getVisibleSize().height/l,d=this._bottomBanner.style.height*h;s.postNotice(s.BANNER_SHOW_HEIGHT,{height:d}),console.log(this._bottomBanner)}},a.hideBanner=function(t){t.tryDestroy?(this._bottomBanner&&(this._bottomBanner.destroy(),this._bottomBanner=null),this._createBanner()):this._bottomBanner&&this._bottomBanner.hide(),s.postNotice(s.BANNER_SHOW_HEIGHT,{height:0})},a.inViewBanner=function(){this._bottomBannerInViewed=!0,this._bottomBanner?(this._bottomBanner.style.left=this._bottomBannerLeft,this._bottomBanner.style.top=this._bottomBannerTop):this._createBanner()},a.outViewBanner=function(){if(this._bottomBannerInViewed=!1,this._bottomBanner){var t=window.wx.getSystemInfoSync(),e=t.screenWidth;t.screenHeight;this._bottomBanner.style.left=e+1}else this._createBanner()},a._createInterstitialAd=function(){if(!c.qq.interstitialId)return console.log("PlatformConfig.qq.interstitialId 为空。跳过创建插屏广告");this._interstitial=qq.createInterstitialAd({adUnitId:c.qq.interstitialId}),this._interstitial.onLoad((function(){console.log("插屏广告加载成功")})),this._interstitial.onError((function(t){console.log("插屏创建失败,",t)}))},a.showInterstitialAd=function(t){this._interstitial&&this._interstitial.show().catch((function(t){console.error("插屏广告展现失败了",t)}))},a.showAppBox=function(){var t=qq.createAppBox({adUnitId:c.qq.appBoxId});t.load().then((function(){t.show()})).catch((function(t){console.log("appBox Error",t)}))},a.showBlockAd=function(t){var e=this;this._blockAd&&this._blockAd.destroy();var n=i.convertToQQStyle(t.center.x,t.center.y,t.size,t.size);this._blockAd=qq.createBlockAd({adUnitId:c.qq.blockId,style:n,size:1,orientation:"landscape"}),this._blockAd.onLoad((function(t){console.log("blockAd onLoad",t),e._blockAd.show()})),this._blockAd.onError((function(t){console.log("blockAd onError",t)}))},a.hideBlockAd=function(t){this._blockAd&&(t.tryDestroy?(this._blockAd.destroy(),this._blockAd=null):this._blockAd.hide())},a.addColorSign=function(){qq.addColorSign({complete:function(t){console.log("addColorSign complete",t)}})},i.convertToQQStyle=function(t,e,n,o){var i=window.qq.getSystemInfoSync(),s=(i.screenWidth,i.screenHeight),a=r.getVisibleSize().height/s,c=n/a,l=o/a;return{left:t/a-c/2,top:s-e/a-l/2,width:c,height:l}},a.share=function(t,e){qq.shareAppMessage({title:c.qq.shareTitle,imageUrl:c.qq.shareImage}),setTimeout((function(){Math.random()>.7?t&&t(!1,"请分享给不同的好友"):t&&t(!0),t=null}),2e3)},a.tryShortcutIndesktop=function(t){qq.saveAppToDesktop({})},a.vibrateShort=function(t){qq.vibrateShort()},a.hadShareAbility=function(){return!0},a.hadCollectAbility=function(){return!0},a.hadColorSignAbility=function(){return!0},a.exitGame=function(){qq.exitMiniProgram()},i}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/RecordNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./PlatformNotify.ts","./AudioHelper.ts","./PlatformManager.ts","./Utils.ts"],(function(e){"use strict";var t,r,n,i,o,a,s,c,l,d,f,u,p,m,h,g,y,b,R,O,C,P,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,c=e.Sprite,l=e.SpriteFrame,d=e.Tween,f=e.Vec3,u=e.TweenSystem,p=e.Prefab,m=e.find,h=e.log,g=e.instantiate,y=e.Component},function(e){b=e.PlatformJudge},function(e){R=e.CLIP},function(e){O=e.PlatformNotify},function(e){C=e.AudioHelper},function(e){P=e.PlatformManager},function(e){S=e.Utils}],execute:function(){var v,F,T,w,N,A,I,_,z,L,D,E,M,H,x;a._RF.push({},"0df84Vf/yxLfqhm46KHnl2N","RecordNodeCtrl",void 0);var B=s.ccclass,U=s.property;e("RecordNodeCtrl",(v=B("RecordNodeCtrl"),F=U(c),T=U(l),w=U(l),N=U(c),A=U(l),I=U(l),v((L=t((z=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(i(t),"icon",L,i(t)),n(i(t),"recordFrameOn",D,i(t)),n(i(t),"recordFrameOff",E,i(t)),n(i(t),"desSpr",M,i(t)),n(i(t),"desOn",H,i(t)),n(i(t),"desOff",x,i(t)),o(i(t),"startRecordTimeStamp",0),o(i(t),"needPop",!1),t}r(t,e);var a=t.prototype;return a.start=function(){b.isTT?(O.addObserver(O.RECORDING_STATE,this.onRecordStateChanged,this),this.onRecordStateChanged()):this.node.active=!1},a.onDestroy=function(){O.removeObserver(O.RECORDING_STATE,this)},a.onRecordStateChanged=function(e){P.getInstance().isRecording()?(this.icon.spriteFrame=this.recordFrameOn,this.desSpr.spriteFrame=this.desOn,new d(this.icon.node).to(.2,{scale:new f(1.2,1.2,1.2)}).to(.2,{scale:new f(.9,.9,.9)}).union().repeatForever().start(),this.startRecordTimeStamp=dayjs().unix()):(this.icon.spriteFrame=this.recordFrameOff,this.desSpr.spriteFrame=this.desOff,u.instance.ActionManager.removeAllActionsFromTarget(this.icon.node),this.icon.node.scale=f.ONE);this.needPop&&e&&(S.loadResWithCorrection("Platform/prefab/shareRecordLayer",p,(function(e,t){if(!m("Canvas/shareRecordLayer")){if(e)return h(e);g(t).parent=m("Canvas")}})),this.needPop=!1)},a.onSelfButtonClick=function(){C.play("audio",R.CLICK_NORMAL_BUTTON),P.getInstance().isRecording()?(P.getInstance().endRecord(),this.needPop=!0):P.getInstance().startRecord()},t}(y)).prototype,"icon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"recordFrameOn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(z.prototype,"recordFrameOff",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(z.prototype,"desSpr",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(z.prototype,"desOn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(z.prototype,"desOff",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerCannonCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(n){"use strict";var e,o,r,t,a,c,i,s,d,l,h,u,p,f;return{setters:[function(n){e=n.inheritsLoose,o=n.defineProperty,r=n.assertThisInitialized},function(n){t=n.cclegacy,a=n._decorator,c=n.Tween,i=n.Vec3,s=n.Prefab,d=n.instantiate,l=n.Layers,h=n.MeshRenderer,u=n.UIMeshRenderer,p=n.Component},function(n){f=n.Utils}],execute:function(){var C;t._RF.push({},"0e440bpCkVNGq00TMH/YKVv","ShopLayerCannonCtrl",void 0);var y=a.ccclass;a.property,n("ShopLayerCannonCtrl",y("ShopLayerCannonCtrl")(C=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return e=n.call.apply(n,[this].concat(a))||this,o(r(e),"_curCannonIndex",-1),e}e(t,n);var a=t.prototype;return a.start=function(){var n=this;new c(this.node).to(15,{eulerAngles:new i(0,360,0)}).call((function(){n.node.eulerAngles=i.ZERO})).union().repeatForever().start()},a.setCannonIndex=function(n){var e=this;if(this._curCannonIndex!=n){this._curCannonIndex=n;var o=n;f.loadResWithCorrection("cannon/cannon"+o,s,(function(n,r){n||o==e._curCannonIndex&&(e._cannonNode&&e._cannonNode.destroy(),e._cannonNode=d(r),e._cannonNode.parent=e.node,e._cannonNode.scale=new i(160,160,160),e._cannonNode.position=new i(0,-100,0),e.changedNodeLayerAndUIMesh(e._cannonNode))}))}},a.changedNodeLayerAndUIMesh=function(n){if(n.layer=l.Enum.UI_2D,n.getComponent(h)&&n.addComponent(u),n.children.length>0)for(var e=n.children,o=0;o<e.length;o++)this.changedNodeLayerAndUIMesh(e[o])},t}(p))||C);t._RF.pop()}}}));

System.register("chunks:///_virtual/CustomSliderCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,i,o,n,s,l,a;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){n=r.cclegacy,s=r._decorator,l=r.ProgressBar,a=r.Component}],execute:function(){var c,u,p,d,f;n._RF.push({},"0edd3G93/RDpLGfLp1n5zPf","CustomSliderCtrl",void 0);var g=s.ccclass,y=s.property;r("CustomSliderCtrl",(c=g("CustomSliderCtrl"),u=y(l),c((f=e((d=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=r.call.apply(r,[this].concat(n))||this,i(o(e),"bar",f,o(e)),e}return t(e,r),e.prototype.onSliderSliding=function(r){this.bar.progress=r.progress},e}(a)).prototype,"bar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AdapterBase.ts","./AdapterBD.ts","./AdapterHW.ts","./AdapterMZ.ts","./AdApterOppo.ts","./AdapterQQ.ts","./AdapterTT.ts","./AdapterVivo.ts","./AdapterWX.ts","./RemoteConfig.ts"],(function(t){"use strict";var e,r,n,i,o,a,c,s,d,u,h,A,p,l;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy,n=t._decorator},function(t){i=t.PlatformJudge},function(t){o=t.AdapterBase},function(t){a=t.AdapterBD},function(t){c=t.AdapterHW},function(t){s=t.AdapterMZ},function(t){d=t.AdApterOppo},function(t){u=t.AdapterQQ},function(t){h=t.AdapterTT},function(t){A=t.AdapterVivo},function(t){p=t.AdapterWX},function(t){l=t.RemoteConfig}],execute:function(){r._RF.push({},"12d26VasGRGhrR0eyU/BNr9","PlatformManager",void 0);n.ccclass,n.property;var f=t("PlatformManager",function(){function t(){var t=this;e(this,"_curAdapter",null),e(this,"_onRemoteInitFinishCallArray",[]),e(this,"_nearestVibrateTimestampMillisecond",0),i.isWX?this._curAdapter=new p:i.isOppo?this._curAdapter=new d:i.isVivo?this._curAdapter=new A:i.isMZ?this._curAdapter=new s:i.isQQ?this._curAdapter=new u:i.isHW?this._curAdapter=new c:i.isTT?this._curAdapter=new h:i.isBD?this._curAdapter=new a:this._curAdapter=new o,console.log("PlatformJudge",i.getPlatformName()),l.init((function(){console.log("RemoteConfig inited");for(var e=0;e<t._onRemoteInitFinishCallArray.length;e++)t._onRemoteInitFinishCallArray[e]();t._onRemoteInitFinishCallArray.length=0}))}t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance};var r=t.prototype;return r.addRemoteInitFinishListener=function(t){if(l.inited)return t();this._onRemoteInitFinishCallArray.push(t)},r.showVideo=function(t,e){this._curAdapter.showVideo(t,e)},r.showBanner=function(t){this._curAdapter.showBanner(t)},r.hideBanner=function(t){this._curAdapter.hideBanner(t)},r.inViewBanner=function(){this._curAdapter.inViewBanner()},r.outViewBanner=function(){this._curAdapter.outViewBanner()},r.showInterstitialAd=function(t){this._curAdapter.showInterstitialAd(t)},r.share=function(t,e){this._curAdapter.share(t,e)},r.showGameClub=function(t){this._curAdapter.showGameClub(t)},r.showAppBox=function(){this._curAdapter.showAppBox()},r.showBlockAd=function(t){this._curAdapter.showBlockAd(t)},r.hideBlockAd=function(t){this._curAdapter.hideBlockAd(t)},r.addColorSign=function(){this._curAdapter.addColorSign()},r.hadShareAbility=function(){return this._curAdapter.hadShareAbility()},r.hadCollectAbility=function(){return this._curAdapter.hadCollectAbility()},r.hadNativeAdInfo=function(){return this._curAdapter.hadNativeAdInfo()},r.hadColorSignAbility=function(){return this._curAdapter.hadColorSignAbility()},r.tryShortcutIndesktop=function(t){this._curAdapter.tryShortcutIndesktop(t)},r.getNativeAdInfo=function(t){return this._curAdapter.getNativeAdInfo(t)},r.tryLoadNativeAdInfo=function(t){this._curAdapter.tryLoadNativeAdInfo(t)},r.trackEvent=function(t,e){this._curAdapter.trackEvent(t,e)},r.hadRecordAbility=function(){return this._curAdapter.hadRecordAbility()},r.startRecord=function(){this._curAdapter.startRecord()},r.endRecord=function(){this._curAdapter.endRecord()},r.isRecording=function(){return this._curAdapter.isRecording()},r.shareRecordVideo=function(t){this._curAdapter.shareRecordVideo(t)},r.needPrivacyAgreement=function(){return this._curAdapter.needPrivacyAgreement()},r.vibrateShort=function(t){var e=(new Date).getTime();e-this._nearestVibrateTimestampMillisecond>100&&(this._nearestVibrateTimestampMillisecond=e,this._curAdapter.vibrateShort(t))},r.exitGame=function(){this._curAdapter.exitGame()},r.triggerGC=function(){this._curAdapter.triggerGC()},r.login=function(t){this._curAdapter.login(t)},t}());e(f,"_instance",null),globalThis.PlatformManager=f,r._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressBarTickCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,i,s,u,n,a,l,o,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,s=r.assertThisInitialized,u=r.defineProperty},function(r){n=r.cclegacy,a=r._decorator,l=r.ProgressBar,o=r.error,c=r.Component}],execute:function(){var h,p,b,m,f;n._RF.push({},"13654yVfs9EpYJ26ox12U8g","ProgressBarTickCtrl",void 0);var N=a.ccclass,d=a.property;r("ProgressBarTickCtrl",(h=N("ProgressBarTickCtrl"),p=d(l),h((f=e((m=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n))||this,i(s(e),"progressBar",f,s(e)),u(s(e),"curNumber",null),u(s(e),"intervalPerUpdate",null),u(s(e),"finalNumber",null),e}t(e,r);var n=e.prototype;return n.tickProgress=function(r,e,t){if(void 0===t&&(t=1),"number"!=typeof e)return o("finalNumber 必须是数字哦");null===(r=null===r?this.curNumber:r)||r==e?(this.curNumber=e,this.finalNumber=e,this.progressBar.progress=e):(this.curNumber=r,this.finalNumber=e,this.intervalPerUpdate=(e-r)/(33*t),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.progressBar.progress=this.curNumber)},n.updateForNumber=function(r){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber)),this.progressBar.progress=this.curNumber},n.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},e}(c)).prototype,"progressBar",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Cannon.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(t){"use strict";var e,n,o,r,i,c,s,a,l,u;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator},function(t){c=t.GameState},function(t){s=t.NotificationCenter,a=t.NCKeys},function(t){l=t.HeroCtrl},function(t){u=t.ObstacleBase}],execute:function(){var f;r._RF.push({},"13e1bxFoSZIuo5QntAmPkyu","Cannon",void 0);var p=i.ccclass;i.property,t("Cannon",p("Cannon")(f=function(t){function r(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(o(e),"effected",!0),e}return e(r,t),r.prototype.onTriggerEnter=function(t){this.effected&&t.otherCollider&&t.otherCollider.node&&t.otherCollider.getComponent(l)&&(s.postNotice(a.GAME_STATE,{state:c.PREPARE}),this.effected=!1)},r}(u))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlOppo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RemoteConfig.ts","./PlatformManager.ts"],(function(n){"use strict";var e,t,r,a,o,s,i,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,a=n.game,o=n.PhysicsSystem,s=n.Component},function(n){i=n.RemoteConfig},function(n){c=n.PlatformManager}],execute:function(){var u;t._RF.push({},"140b9UtlIBCQ5MCSxP4HfSN","BannerCtrlOppo",void 0);var p=r.ccclass;r.property,n("BannerCtrlOppo",p("BannerCtrlOppo")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var r=t.prototype;return r.start=function(){var n=this;a.setFrameRate(30),o.instance.fixedTimeStep=.0333333,c.getInstance().addRemoteInitFinishListener((function(){n.schedule(n.takeTurnBanner,i.bannerTakeTurnInterval),c.getInstance().showBanner({type:"native"})}))},r.takeTurnBanner=function(){c.getInstance().hideBanner({}),c.getInstance().showBanner({type:"native"})},t}(s))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/TouchForMoveNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./HeroCtrl.ts"],(function(t){"use strict";var i,e,n,o,r,s,c,h,l,a,d,u,T,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Node,h=t.view,l=t.Component},function(t){a=t.GameState,d=t.Config},function(t){u=t.NotificationCenter,T=t.NCKeys},function(t){p=t.HeroCtrl}],execute:function(){var f,C,v,g,E,S,N;r._RF.push({},"142abQL0GNGJ5t3rDlZD6cK","TouchForMoveNodeCtrl",void 0);var _=s.ccclass,y=s.property;t("TouchForMoveNodeCtrl",(f=_("TouchForMoveNodeCtrl"),C=y(p),v=y(c),f((S=i((E=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(o(i),"heroCtrl",S,o(i)),n(o(i),"tipNode",N,o(i)),i}e(i,t);var r=i.prototype;return r.onLoad=function(){this._visibleSize=h.getVisibleSize()},r.reset=function(){this.tipNode.active=!0},r.onEnable=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onFingerSliding,this),this.node.on(c.EventType.TOUCH_END,this.onFindersSlidingEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onFindersSlidingEnd,this)},r.onDisable=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_MOVE,this.onFingerSliding,this),this.node.off(c.EventType.TOUCH_END,this.onFindersSlidingEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onFindersSlidingEnd,this)},r.onTouchStart=function(){this.heroCtrl.setTouchStartX(),this.tipNode.active&&(this.tipNode.active=!1,u.postNotice(T.GAME_STATE,{state:a.RUN}),u.postNotice(T.SHOW_TRY_OUT_PAGE,null))},r.onFingerSliding=function(t){var i=t.getUIStartLocation(),e=t.getUILocation().x-i.x;e=e/this._visibleSize.width*d.constant.FLOOR_WIDTH*d.constant.TOUCH_SENSITIVITY,this.heroCtrl.setTouchTargetX(e)},r.onFindersSlidingEnd=function(){this.heroCtrl._touchTargetX=-100},i}(l)).prototype,"heroCtrl",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(E.prototype,"tipNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformJudge.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"15568dSFdJIGYCmW7jiRUWT","PlatformJudge",void 0);var i=n("PlatformJudge",function(){function n(){}return n.getPlatformName=function(){return n.isWX?"wx":n.isOppo?"oppo":n.isVivo?"vivo":n.isMZ?"mz":n.isQQ?"qq":n.isTT?"tt":n.isHW?"hw":n.isBD?"bd":"dev"},e(n,null,[{key:"isOppo",get:function(){return window.qg&&window.qg.setLoadingProgress&&!window.hbs&&"undefined"==typeof mz_jsb}},{key:"isVivo",get:function(){return window.qg&&!window.qg.setLoadingProgress&&!window.hbs&&"undefined"==typeof mz_jsb}},{key:"isMZ",get:function(){return"undefined"!=typeof mz_jsb}},{key:"isQQ",get:function(){return window.qq}},{key:"isWX",get:function(){return window.wx&&!window.qq&&!window.tt}},{key:"isWXDev",get:function(){return!!n.isWX&&"devtools"==window.wx.getSystemInfoSync().brand}},{key:"isTT",get:function(){return window.tt}},{key:"isHW",get:function(){return window.hbs}},{key:"isBD",get:function(){return window.swan}},{key:"isStrict",get:function(){return n.isTT}}]),n}());globalThis.PlatformJudge=i,t._RF.pop()}}}));

System.register("chunks:///_virtual/YangQunTouchNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./YangQunHeroTest.ts","./YangQunHunmanTest.ts"],(function(n){"use strict";var t,e,i,o,r,s,a,u,h,c,l,T;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,a=n.Node,u=n.view,h=n.Component},function(n){c=n.Config},function(n){l=n.YangQunHeroTest},function(n){T=n.YangQunHunmanTest}],execute:function(){var g,f,p,d,C,y,S;r._RF.push({},"1584f43kqdG5qPpqyHMObj4","YangQunTouchNodeCtrl",void 0);var v=s.ccclass,E=s.property;n("YangQunTouchNodeCtrl",(g=v("YangQunTouchNodeCtrl"),f=E(l),p=E([T]),g((y=t((C=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,i(o(t),"heroCtrl",y,o(t)),i(o(t),"humanCtrls",S,o(t)),t}e(t,n);var r=t.prototype;return r.onEnable=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_MOVE,this.onFingerSliding,this),this.node.on(a.EventType.TOUCH_END,this.onFingerSliding,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onFingerSliding,this)},r.onDisable=function(){this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_MOVE,this.onFingerSliding,this),this.node.off(a.EventType.TOUCH_END,this.onFingerSliding,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onFingerSliding,this)},r.start=function(){},r.onTouchStart=function(){this.heroCtrl.setTouchStartX()},r.onFingerSliding=function(n){var t=n.getUIStartLocation(),e=n.getUILocation().x-t.x;e=e/u.getVisibleSize().width*c.constant.FLOOR_WIDTH*c.constant.TOUCH_SENSITIVITY,this.heroCtrl.setTouchTargetX(e)},t}(h)).prototype,"heroCtrl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(C.prototype,"humanCtrls",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=C))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,n,i,s,l,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,l=e.Node,c=e.Collider,a=e.Component}],execute:function(){var u,g,d,f,p;i._RF.push({},"16e6dMDintBN4QUskS7rtVD","ObstacleBase",void 0);var h=s.ccclass,v=s.property;e("ObstacleBase",(u=h("ObstacleBase"),g=v([l]),u((p=t((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,o(n(t),"colliderNodes",p,n(t)),t}r(t,e);var i=t.prototype;return i.onEnable=function(){for(var e=0;e<this.colliderNodes.length;e++)for(var t=this.colliderNodes[e].getComponents(c),r=0;r<t.length;r++)t[r].on("onTriggerEnter",this.onTriggerEnter,this)},i.onDisable=function(){for(var e=0;e<this.colliderNodes.length;e++)for(var t=this.colliderNodes[e].getComponents(c),r=0;r<t.length;r++)t[r].off("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(e){},i.startAction=function(){},t}(a)).prototype,"colliderNodes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformNotify.ts",["cc"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.cclegacy,r=t.assert}],execute:function(){e._RF.push({},"185378bGldIPYnOOYrHaxNu","PlatformNotify",void 0);t("PlatformNotify",{BANNER_SHOW_HEIGHT:"BANNER_SHOW_HEIGHT",NATIVE_AD_LOADED:"NATIVE_AD_LOADED",BGM_SWITCH:"BGM_SWITCH",RECORDING_STATE:"RECORDING_STATE",ON_SHOW:"ON_SHOW",ON_HIED:"ON_HIDE",_observers:{},addObserver:function(t,e,s){r(null!=t,"key  cant be null"),r(null!=e,"fun  cant be null"),r(null!=s,"target  cant be null"),null==this._observers[t]&&(this._observers[t]=[]),this._observers[t].push({fun:e,target:s})},removeObserver:function(t,e){null==e&&r(!1,"target must not be null"),null!=this._observers[t]&&(this._observers[t]=this._observers[t].filter((function(t){return t.target!=e})))},postNotice:function(t,e){null!=this._observers[t]&&this._observers[t].forEach((function(t){t.fun.call(t.target,e)}))}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleMath.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./PlatformManager.ts","./ServantContainerCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(t){"use strict";var e,i,r,n,a,o,s,l,u,h,p,c,b,m,f,g,d,y,O,C,v,w,F,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.defineProperty,o=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.Sprite,h=t.SpriteFrame,p=t.Label,c=t.CCInteger,b=t.Enum,m=t.find,f=t.Tween,g=t.Vec3},function(t){d=t.CLIP},function(t){y=t.AudioHelper},function(t){O=t.MathOperation,C=t.HeroState},function(t){v=t.PlatformManager},function(t){w=t.ServantContainerCtrl},function(t){F=t.HeroCtrl},function(t){_=t.ObstacleBase}],execute:function(){var M,P,S,z,L,U,D,H,I,k,B,N,R,A,E,x,T;s._RF.push({},"18e70+alNRDY7t7+GMN/I+t","ObstacleMath",void 0);var j=l.ccclass,V=l.property;t("ObstacleMath",(M=j("ObstacleMath"),P=V(u),S=V(u),z=V(h),L=V(p),U=V(p),D=V({type:c,tooltip:"右边的数字"}),H=V({type:b(O),tooltip:"数学符号，分别是加减乘除, 先填好数字"}),M((B=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"bg0",B,n(e)),r(n(e),"bg1",N,n(e)),r(n(e),"frames",R,n(e)),r(n(e),"label0",A,n(e)),r(n(e),"label1",E,n(e)),r(n(e),"num",x,n(e)),r(n(e),"_mathOperation",T,n(e)),a(n(e),"effected",!0),e}i(e,t);var s=e.prototype;return s.onTriggerEnter=function(t){if(0!=this.effected&&t.otherCollider&&t.otherCollider.node){var e=t.otherCollider.node.getComponent(F);return e&&e.state==C.RUN?(this.effected=!1,void this.onPicked()):void 0}},s.onPicked=function(){var t=this;(this._mathOperation!=O.PLUS&&this._mathOperation!=O.MUL||y.play("audio",d.PLUS_BUFFER),v.getInstance().vibrateShort("medium"),0==m("servantContainer").getComponent(w).solveMath(this._mathOperation,this.num))&&m("hero").getComponent(F).startDead();new f(this.node).to(.2,{scale:new g(1.1,1.1,1.1)},{easing:"backOut"}).to(.2,{scale:new g(0,0,0)}).call((function(){t.node.destroy()})).start()},o(e,[{key:"mathOperation",get:function(){return this._mathOperation},set:function(t){this._mathOperation=t,t==O.PLUS?(this.label0.string="+ "+this.num,this.label1.string="+ "+this.num,this.bg0.spriteFrame=this.frames[0],this.bg1.spriteFrame=this.frames[0]):t==O.SUB?(this.label0.string="- "+this.num,this.label1.string="- "+this.num,this.bg0.spriteFrame=this.frames[1],this.bg1.spriteFrame=this.frames[1]):t==O.MUL?(this.label0.string="x "+this.num,this.label1.string="x "+this.num,this.bg0.spriteFrame=this.frames[0],this.bg1.spriteFrame=this.frames[0]):t==O.DIV&&(this.label0.string="÷ "+this.num,this.label1.string="÷ "+this.num,this.bg0.spriteFrame=this.frames[1],this.bg1.spriteFrame=this.frames[1])}}]),e}(_)).prototype,"bg0",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(k.prototype,"bg1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(k.prototype,"frames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(k.prototype,"label0",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(k.prototype,"label1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(k.prototype,"num",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=e(k.prototype,"_mathOperation",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.NONE}}),e(k.prototype,"mathOperation",[H],Object.getOwnPropertyDescriptor(k.prototype,"mathOperation"),k.prototype),I=k))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./BaseUILayerCtrl.ts","./ProgressBarTickCtrl.ts"],(function(e){"use strict";var t,i,r,o,n,s,a,l,c,u,p,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,l=e.Label},function(e){c=e.Config},function(e){u=e.NotificationCenter,p=e.NCKeys},function(e){g=e.BaseUILayerCtrl},function(e){f=e.ProgressBarTickCtrl}],execute:function(){var d,h,P,b,L,y,v;s._RF.push({},"1ab4fASbjNMCKBoEJxuIruS","LoadingPageCtrl",void 0);var R=a.ccclass,A=a.property;e("LoadingPageCtrl",(d=R("LoadingPageCtrl"),h=A(l),P=A(f),d((y=t((L=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,r(o(t),"versionLabel",y,o(t)),r(o(t),"progressTick",v,o(t)),n(o(t),"loadedRemain",3),t}i(t,e);var s=t.prototype;return s.onEnable=function(){e.prototype.onEnable.call(this),this.progressTick.tickProgress(0,.9,7),this.versionLabel.string="version:"+c.version,u.addObserver(p.MAP_RES_LOAD_PROGRESS,this.onMapResLoadProgress,this)},s.onDisable=function(){u.removeObserver(p.MAP_RES_LOAD_PROGRESS,this)},s.onMapResLoadProgress=function(){this.loadedRemain--,this.loadedRemain<=0&&this.playOutAction()},s.onOutActionFinish=function(){u.postNotice(p.LOADING_PAGE_DISAPPEAR,null),u.postNotice(p.BASEUILAYER_HIDE,{name:this.node.name,ctrl:this}),this.node.destroy()},t}(g)).prototype,"versionLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(L.prototype,"progressTick",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=L))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterVivo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts","./Utils.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,l,v,h,_,d;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.view,s=t.Prefab,c=t.find,l=t.instantiate},function(t){v=t.PlatformNotify},function(t){h=t.AdapterBase},function(t){_=t.PlatformConfig},function(t){d=t.Utils}],execute:function(){o._RF.push({},"1d44fml4nxGh4xpkvuzpebg","AdapterVivo",void 0);a.ccclass,a.property,t("AdapterVivo",function(t){function o(){var n;return n=t.call(this)||this,e(i(n),"_video",null),e(i(n),"_banner",null),e(i(n),"_interstitialNatives",[]),e(i(n),"_interstitialNativeUsedCount",0),e(i(n),"_bannerNatives",[]),e(i(n),"_bannerNativeUsedCount",0),e(i(n),"_initedTimeStamp",0),e(i(n),"_cb",null),n._initedTimeStamp=dayjs().unix(),n._createVideo(),n._createBanner(),n._createNative(),n}n(o,t);var a=o.prototype;return a._createVideo=function(){var t=this;this._video=qg.createRewardedVideoAd({posId:_.vivo.videoId}),this._video.onLoad((function(){console.log("video onLoad")})),this._video.onError((function(t){console.log("video onError",t)})),this._video.onClose((function(n){console.log("video onClose",n),n&&n.isEnded?(t._cb&&t._cb(!0,null),t._cb=null):(t._cb&&t._cb(!1,"观看完整视频才能获得奖励"),t._cb=null),v.postNotice(v.BGM_SWITCH,!0),t._video.load()}))},a.showVideo=function(t,n){var e=this;this._cb=n;var i=this._video.show();i&&i.then((function(){v.postNotice(v.BGM_SWITCH,!1)})).catch((function(){e._video.load().then((function(){v.postNotice(v.BGM_SWITCH,!1),e._video.show()})).catch((function(){e._cb&&e._cb(!1,"暂无广告"),e._cb=null}))}))},a._createBanner=function(){var t=this;if(!_.vivo.bannerId)return console.log("bannerId未设置，跳过创建");var n=r.getVisibleSize(),e=o.convertToVivoStyle(n.width/2,50,n.width,100);this._banner=qg.createBannerAd({posId:_.vivo.bannerId,style:e,adIntervals:30}),this._banner.style=e,this._banner.onLoad((function(){console.log("banner onLoad")})),this._banner.onError((function(t){console.log("banner onError",t)})),this._banner.onSize((function(n){Object.assign(t._banner.style,n),console.log("banner onResize",n,t._banner);var e=t._banner.style,i=window.qg.getSystemInfoSync(),o=i.screenWidth,a=i.screenHeight;(Math.abs(o-(e.width+2*e.left))>=5||Math.abs(a-e.top-e.height)>=5)&&(t._banner.style.left=(o-e.width)/2,t._banner.style.top=a-e.height)}))},a.getNativeBannerPrefab=function(t){if(this._nativeBannerPrefab)return t(this._nativeBannerPrefab);d.loadResWithCorrection("Platform/prefab/nativeBanner",s,(function(n,e){return t(n?null:e)}))},a.showBanner=function(t){var n=this;if("native"==t.type){var e=this.getNativeAdInfo({pos:"banner"});e?this._showNativeBanner(e):(console.log("native 没有填充。所以尝试实时的填充"),this.tryLoadNativeAdInfo({pos:"banner"}),v.addObserver(v.NATIVE_AD_LOADED,(function(){v.removeObserver(v.NATIVE_AD_LOADED,n);var t=n.getNativeAdInfo({pos:"banner"});t?n._showNativeBanner(t):(console.log("native 实时的填充也没有拉取到。所以暂时普通的banner"),n._showDefaultBanner(!0),setTimeout((function(){n.tryLoadNativeAdInfo({pos:"banner"}),console.log("展示普通banner的时候，再次尝试一下拉取原生")}),5e3))}),this))}else this._showDefaultBanner(!0)},a._showNativeBanner=function(t){var n=c("Canvas/nativeBanner");n?(n.active=!0,n.getComponent("NativeBannerCtrl").init(t),v.postNotice(v.BANNER_SHOW_HEIGHT,{height:120})):this.getNativeBannerPrefab((function(n){if(n&&!c("Canvas/nativeBanner")){var e=l(n);e.getComponent("NativeBannerCtrl").init(t),e.parent=c("Canvas"),v.postNotice(v.BANNER_SHOW_HEIGHT,{height:120})}}))},a._showDefaultBanner=function(t){var n=this,e=window.qg.getSystemInfoSync(),i=(e.screenWidth,e.screenHeight),o=r.getVisibleSize().height/i;this._banner?(this._banner.show().catch((function(){n._banner.destroy(),n._createBanner()})),v.postNotice(v.BANNER_SHOW_HEIGHT,{height:this._banner.style.height*o})):(this._createBanner(),t&&setTimeout((function(){n._showDefaultBanner(!1)}),2e3))},a.hideBanner=function(t){var n=c("Canvas/nativeBanner");n&&(t.tryDestroy?n.destroy():n.active=!1,this.tryLoadNativeAdInfo({pos:"banner"})),this._banner&&(t.tryDestroy?(this._banner.destroy(),this._banner=null,this._createBanner()):this._banner.hide()),v.postNotice(v.BANNER_SHOW_HEIGHT,{height:0})},a.hadShareAbility=function(){return!1},a.hadCollectAbility=function(){return!0},a.tryShortcutIndesktop=function(t){qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){t(!0)},fail:function(e){t(!1,"创建图标失败了"),console.log("installShortcut fail",n)},complete:function(){}}):t(!1,"桌面图标已经存在了")},fail:function(t){},complete:function(){}})},a._createNative=function(){var t=this;this.___createNative(_.vivo.nativeIds.banner0,0,(function(n){t._bannerNatives.push(n)})),this.___createNative(_.vivo.nativeIds.interstitial0,2,(function(n){t._interstitialNatives.push(n)}))},a.___createNative=function(t,n,e){setTimeout((function(){console.log("native create",t);var n=qg.createNativeAd({posId:t});n.onLoad((function(e){console.log("native onLoad",e,t),n.adList=e.adList,v.postNotice(v.NATIVE_AD_LOADED,null)})),n.onError((function(n){console.log("natve onError",n,t)})),n.load(),n.____id=t,e(n)}),5e3*n)},a.getNativeAdInfo=function(t){if("banner"==t.pos){var n=this._bannerNativeUsedCount%this._bannerNatives.length;this._bannerNativeUsedCount++;for(var e=0;e<this._bannerNatives.length;e++){var i=this._bannerNatives[e];if(e!=n&&i&&(!i.adList||0==i.adList.length)){i.load(),console.log("native loading",i.____id);break}}var o=this._bannerNatives[n];if(o&&o.adList&&o.adList.length>0){var a=o.adList.shift(),r={native:o,info:a};return console.log("消耗了native info",a,o.____id),r}return null}var s=this._interstitialNativeUsedCount%this._interstitialNatives.length;this._interstitialNativeUsedCount++;for(var c=0;c<this._interstitialNatives.length;c++){var l=this._interstitialNatives[c];if(c!=s&&l&&(!l.adList||0==l.adList.length)){l.load(),console.log("native loading",l.____id);break}}var v=this._interstitialNatives[s];if(v&&v.adList&&v.adList.length>0){var h=v.adList.shift(),_={native:v,info:h};return console.log("消耗了native info",h,v.____id),_}return null},a.tryLoadNativeAdInfo=function(t){for(var n="banner"==t.pos?this._bannerNatives:this._interstitialNatives,e=0;e<n.length;e++){var i=n[e];if(i&&(!i.adList||0==i.adList.length)){i.load(),console.log("native loading",i.____id);break}}},o.convertToVivoStyle=function(t,n,e,i){var o=window.qg.getSystemInfoSync(),a=(o.screenWidth,o.screenHeight),s=r.getVisibleSize().height/a,c=e/s,l=i/s;return{left:t/s-c/2,top:a-n/s-l/2,width:c,height:l}},a.vibrateShort=function(t){qg.vibrateShort()},a.triggerGC=function(){qg.triggerGC()},o}(h));o._RF.pop()}}}));

System.register("chunks:///_virtual/PendulumDeadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Deadly.ts"],(function(e){"use strict";var t,r,n,i,o,l,u,a,c,s,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,u=e._decorator,a=e.Node,c=e.CCFloat,s=e.Tween,p=e.Vec3},function(e){y=e.Deadly}],execute:function(){var d,g,f,b,h,A,m,w,v,D,_;l._RF.push({},"1fe99Sfzt1FjqREv+oL5evV","PendulumDeadly",void 0);var P=u.ccclass,z=u.property;e("PendulumDeadly",(d=P("PendulumDeadly"),g=z(a),f=z({type:c,tooltip:"摆动的角度，数字的正负表示摆动的方向"}),b=z({type:c,tooltip:"第一次摆动之前的延迟，利用此属性可以让一系列摆锤错落有序"}),h=z({type:c,tooltip:"摆动一个来回需要的时间周期"}),d((w=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"body",w,i(t)),n(i(t),"_endAugler",v,i(t)),n(i(t),"delay",D,i(t)),n(i(t),"time",_,i(t)),t}r(t,e);var l=t.prototype;return l.start=function(){this.startAction()},l.startAction=function(){var e=this;this.scheduleOnce((function(){new s(e.body).to(e.time/2,{eulerAngles:new p(0,0,e.endAugler)},{easing:"quadInOut"}).to(e.time/2,{eulerAngles:new p(0,0,-e.endAugler)},{easing:"quadInOut"}).union().repeatForever().start()}),this.delay)},o(t,[{key:"scale",get:function(){return this.body.scale.x},set:function(e){this.body.scale=new p(e,e,e)}},{key:"endAugler",get:function(){return this._endAugler},set:function(e){this._endAugler=e,this.body.eulerAngles=new p(0,0,-e)}}]),t}(y)).prototype,"body",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(m.prototype,"scale",[z],Object.getOwnPropertyDescriptor(m.prototype,"scale"),m.prototype),v=t(m.prototype,"_endAugler",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(m.prototype,"endAugler",[f],Object.getOwnPropertyDescriptor(m.prototype,"endAugler"),m.prototype),D=t(m.prototype,"delay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(m.prototype,"time",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),A=m))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/MoveBoxDeadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Deadly.ts"],(function(e){"use strict";var t,i,o,r,a,n,l,c,p,s,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){n=e.cclegacy,l=e._decorator,c=e.Node,p=e.CCFloat,s=e.Tween,u=e.Vec3},function(e){y=e.Deadly}],execute:function(){var b,w,d,f,g,m,h,v,x,z,D,F,L,R,N,B,M,_,O,A;n._RF.push({},"2273adN2WxIZ7+BxsWy2zc9","MoveBoxDeadly",void 0);var C=l.ccclass,P=l.property;e("MoveBoxDeadly",(b=C("MoveBoxDeadly"),w=P(c),d=P(c),f=P(c),g=P(c),m=P(c),h=P({type:p,tooltip:"机关的尺寸"}),v=P({type:p,tooltip:"从左到右一次的时间"}),x=P({type:p,tooltip:"运动到最左边或者最右边后停留多少秒"}),z=P({type:p,tooltip:"第一次运动的时候会延迟几秒才动起来"}),b((L=t((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(r(t),"ballLeft",L,r(t)),o(r(t),"boxLeft",R,r(t)),o(r(t),"ballRight",N,r(t)),o(r(t),"boxRight",B,r(t)),o(r(t),"rigidNode",M,r(t)),o(r(t),"time",_,r(t)),o(r(t),"wait",O,r(t)),o(r(t),"delay",A,r(t)),t}i(t,e);var n=t.prototype;return n.start=function(){this.startAction()},n.startAction=function(){var e=this;this.scheduleOnce((function(){var t=new s(e.ballLeft);t.to(e.time,{scale:new u(0,1,1)}).delay(e.wait).to(e.time,{scale:u.ONE}).delay(e.wait).union().repeatForever().start(),(t=new s(e.boxLeft)).to(e.time,{position:new u(-1,.5,0)}).delay(e.wait).to(e.time,{position:new u(-3,.5,0)}).delay(e.wait).union().repeatForever().start(),(t=new s(e.ballRight)).to(e.time,{scale:new u(1,1,1)}).delay(e.wait).to(e.time,{scale:new u(0,1,1)}).delay(e.wait).union().repeatForever().start(),(t=new s(e.boxRight)).to(e.time,{position:new u(3,.5,0)}).delay(e.wait).to(e.time,{position:new u(1,.5,0)}).delay(e.wait).union().repeatForever().start(),e.rigidNode&&(t=new s(e.rigidNode)).to(e.time,{position:new u(1,0,0)}).delay(e.wait).to(e.time,{position:new u(-1,0,0)}).delay(e.wait).union().repeatForever().start()}),this.delay)},a(t,[{key:"scale",get:function(){return this.node.scale.x},set:function(e){this.node.scale=new u(e,e,e)}}]),t}(y)).prototype,"ballLeft",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(F.prototype,"boxLeft",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(F.prototype,"ballRight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(F.prototype,"boxRight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(F.prototype,"rigidNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(F.prototype,"scale",[h],Object.getOwnPropertyDescriptor(F.prototype,"scale"),F.prototype),_=t(F.prototype,"time",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=t(F.prototype,"wait",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=t(F.prototype,"delay",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=F))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayPageProgressCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,c,d,p,u,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Label,c=e.ProgressBar,d=e.Vec3,p=e.Tween,u=e.Component},function(e){b=e.NotificationCenter,h=e.NCKeys}],execute:function(){var g,f,P,v,y,m,C,L,N;a._RF.push({},"237b95ya6BBpbsoCDtMeDCi","PlayPageProgressCtrl",void 0);var w=o.ccclass,k=o.property,_=[.25,.5,.75,1];e("PlayPageProgressCtrl",(g=w("PlayPageProgressCtrl"),f=k([s]),P=k(l),v=k(c),g((C=t((m=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(n(t),"diamondNodes",C,n(t)),r(n(t),"pinkLabel",L,n(t)),r(n(t),"bar",N,n(t)),t}i(t,e);var a=t.prototype;return a.onEnable=function(){this.bar.progress=0;for(var e=0;e<this.diamondNodes.length;e++)this.diamondNodes[e].active=!1;b.addObserver(h.CASTLE_PROGRESS,this.onCastleProgress,this)},a.onDisable=function(){b.removeObserver(h.CASTLE_PROGRESS,this)},a.onCastleProgress=function(e){var t=this;this.bar.progress=e;for(var i=0;i<_.length;i++){if(e>=_[i]&&0==this.diamondNodes[i].active){this.diamondNodes[i].active=!0,this.diamondNodes[i].scale=new d(1,1,1);var r=new p(this.diamondNodes[i]);r.to(.2,{scale:new d(1.4,1.4,1.4)}).to(.2,{scale:new d(1,1,1)}).start(),b.postNotice(h.PLAY_GET_DIAMOND,25),this.pinkLabel.string="+"+25*(i+1)+"   ",this.pinkLabel.node.active=!0,this.pinkLabel.node.scale=new d(0,0,0),p.stopAllByTarget(this.pinkLabel.node),(r=new p(this.pinkLabel.node)).to(.3,{scale:new d(1,1,1)},{easing:"backOut"}).delay(.5).call((function(){t.pinkLabel.node.active=!1})).start()}}},t}(u)).prototype,"diamondNodes",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(m.prototype,"pinkLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(m.prototype,"bar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=m))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShareRecordLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts"],(function(e){"use strict";var t,r,a,o,i,n,l,s,c,u,d,p,f,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,n=e._decorator,l=e.Label,s=e.Node},function(e){c=e.CLIP},function(e){u=e.AudioHelper},function(e){d=e.LocalData},function(e){p=e.RemoteConfig},function(e){f=e.PlatformManager},function(e){h=e.BaseUILayerCtrl},function(e){y=e.Utils}],execute:function(){var b,m,L,g,C,S,R,T,v,_,A;i._RF.push({},"25ab8gSGq1MZrP6+bdWeh98","ShareRecordLayerCtrl",void 0);var B=n.ccclass,D=n.property;e("ShareRecordLayerCtrl",(b=B("ShareRecordLayerCtrl"),m=D(l),L=D(l),g=D(s),C=D(s),b((T=t((R=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,a(o(t),"diamondLabel",T,o(t)),a(o(t),"numLabel",v,o(t)),a(o(t),"closeNode0",_,o(t)),a(o(t),"closeNode1",A,o(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.refresh()},i.refresh=function(){this.diamondLabel.string="分享录屏即可获得"+p.shareDiamond+"钻石",this.numLabel.string="(今日还可领取"+(5-d.todayShareSucessTime)+"次)"},i.onShareButtonClick=function(){var e=this;u.play("audio",c.CLICK_NORMAL_BUTTON),f.getInstance().vibrateShort("light"),f.getInstance().shareRecordVideo((function(t,r){t?(d.todayShareSucessTime<5&&(d.diamond+=p.shareDiamond,y.popToast("恭喜获得"+p.shareDiamond+"钻石"),d.todayShareSucessTime++),e.playOutAction()):y.popToast(r)}))},i.onCloseButtonClick=function(){u.play("audio",c.CLICK_BACK_BUTTON),this.playOutAction()},t}(h)).prototype,"diamondLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(R.prototype,"numLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(R.prototype,"closeNode0",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(R.prototype,"closeNode1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=R))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/SeaCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./HeroCtrl.ts"],(function(e){"use strict";var t,r,i,o,n,s,a,l,c,p,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,l=e.Node,c=e.MeshRenderer,p=e.Component},function(e){u=e.Config,h=e.HeroState},function(e){f=e.HeroCtrl}],execute:function(){var d,m,z,C,y,O,S,b,g;s._RF.push({},"286bfIkmDpFzq58BP+QNlS0","SeaCtrl",void 0);var H=a.ccclass,v=a.property;e("SeaCtrl",(d=H("SeaCtrl"),m=v(l),z=v(f),C=v(c),d((S=t((O=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(o(t),"cameraNode",S,o(t)),i(o(t),"heroCtrl",b,o(t)),i(o(t),"meshRenderer",g,o(t)),n(o(t),"hOffset",null),t}r(t,e);var s=t.prototype;return s.onLoad=function(){var e=this.meshRenderer.material;this.pass=e.passes[0],this.hOffset=this.pass.getHandle("offset")},s.lateUpdate=function(){var e=this.node.position;e.z=this.cameraNode.position.z-50,e.z<u.constant.HERO_SHOT_POSITION.z-39&&(e.z=u.constant.HERO_SHOT_POSITION.z-39),this.node.position=e,this.heroCtrl.state!=h.SHOT&&this.pass.setUniform(this.hOffset,this.heroCtrl.node.position.z)},t}(p)).prototype,"cameraNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(O.prototype,"heroCtrl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(O.prototype,"meshRenderer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/RotationDeadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Deadly.ts"],(function(t){"use strict";var e,r,o,i,n,l,a,s,u,c,p,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){l=t.cclegacy,a=t._decorator,s=t.Node,u=t.CCFloat,c=t.CCInteger,p=t.Tween,y=t.Vec3},function(t){g=t.Deadly}],execute:function(){var d,b,f,h,A,w,D,m,v,_,z;l._RF.push({},"29ddd8ZHrlNoo+o790uWmbt","RotationDeadly",void 0);var R=a.ccclass,C=a.property;t("RotationDeadly",(d=R("RotationDeadly"),b=C(s),f=C({type:u,tooltip:"起始角度"}),h=C({type:c,tooltip:"旋转的方向，只能填写 360 或者 -360"}),A=C({type:u,tooltip:"旋转一周花费的时间，秒"}),d((m=e((D=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,o(i(e),"body",m,i(e)),o(i(e),"_startAugler",v,i(e)),o(i(e),"endAugler",_,i(e)),o(i(e),"time",z,i(e)),e}r(e,t);var l=e.prototype;return l.start=function(){this.startAction()},l.startAction=function(){var t=this;p.stopAllByTarget(this.body),new p(this.body).to(this.time,{eulerAngles:new y(0,this.startAugler+this.endAugler,0)}).call((function(){t.body.eulerAngles=new y(0,t.startAugler,0)})).union().repeatForever().start()},n(e,[{key:"scale",get:function(){return this.body.scale.x},set:function(t){this.body.scale=new y(t,t,t)}},{key:"startAugler",get:function(){return this._startAugler},set:function(t){this._startAugler=t,this.body.eulerAngles=new y(0,t,0)}}]),e}(g)).prototype,"body",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e(D.prototype,"scale",[C],Object.getOwnPropertyDescriptor(D.prototype,"scale"),D.prototype),v=e(D.prototype,"_startAugler",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(D.prototype,"startAugler",[f],Object.getOwnPropertyDescriptor(D.prototype,"startAugler"),D.prototype),_=e(D.prototype,"endAugler",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),z=e(D.prototype,"time",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),w=D))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlBD.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RemoteConfig.ts","./PlatformManager.ts"],(function(n){"use strict";var e,t,r,a,s,o,c,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,a=n.game,s=n.PhysicsSystem,o=n.Component},function(n){c=n.RemoteConfig},function(n){i=n.PlatformManager}],execute:function(){var u;t._RF.push({},"29ef0A/BAFP/bsHMQHuPZW5","BannerCtrlBD",void 0);var f=r.ccclass;r.property,n("BannerCtrlBD",f("BannerCtrlBD")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var r=t.prototype;return r.start=function(){var n=this;i.getInstance().addRemoteInitFinishListener((function(){a.setFrameRate(30),s.instance.fixedTimeStep=.0333333,n.scheduleOnce((function(){n.schedule(n.takeTurnBanner,c.bannerTakeTurnInterval),i.getInstance().showBanner({})}),8)}))},r.takeTurnBanner=function(){i.getInstance().hideBanner({tryDestroy:!0}),this.scheduleOnce((function(){i.getInstance().showBanner({type:"native"})}),2)},t}(o))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/TryOutLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts","./HeroCtrl.ts","./TryOutHeroCtrl.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,l,u,c,d,h,f,p,y,C,I,v,b,g,O,T,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,u=t.CCBoolean,c=t.Vec3,d=t.find},function(t){h=t.PlatformJudge},function(t){f=t.CLIP},function(t){p=t.AudioHelper},function(t){y=t.HeroState},function(t){C=t.NotificationCenter,I=t.NCKeys},function(t){v=t.LocalData},function(t){b=t.PlatformManager},function(t){g=t.BaseUILayerCtrl},function(t){O=t.Utils},function(t){T=t.HeroCtrl},function(t){m=t.TryOutHeroCtrl}],execute:function(){var N,H,L,x,B,A,U,_,w,P,S;a._RF.push({},"2b2296Um4ZH65mFE/cJnWQD","TryOutLayerCtrl",void 0);var D=s.ccclass,z=s.property;t("TryOutLayerCtrl",(N=D("TryOutLayerCtrl"),H=z(m),L=z(l),x=z(l),B=z(u),N((_=e((U=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(i(e),"tryOutHeroCtrl",_,i(e)),o(i(e),"videoIcon",w,i(e)),o(i(e),"labelNode",P,i(e)),o(i(e),"hadNativeNode",S,i(e)),r(i(e),"hatIndex",-1),r(i(e),"shoesIndex",-1),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.hadNativeNode&&b.getInstance().hideBanner({})},a.init=function(t,e){this.hatIndex=t,this.shoesIndex=e,this.tryOutHeroCtrl.setHatIndex(t),this.tryOutHeroCtrl.setShoesIndex(e),0==v.levelIndex&&(this.videoIcon.active=!1,this.labelNode.position=new c(0,0,0))},a.start=function(){if(d("hero").getComponent(T).state=y.WAIT,h.isOppo||h.isVivo){var t=d("bg/inner/noThanks",this.node);t.active=!0,(t=d("bg/inner/closeButton",this.node)).active=!1}else if(h.isStrict){var e=d("bg/inner/strictButton",this.node),n=d("bg/inner/adButton",this.node);e.active=!0,n.position=new c(115,-212,0)}},a.onDestroy=function(){d("hero").getComponent(T).state=y.RUN,b.getInstance().startRecord()},a.onTryOutButtonClick=function(){p.play("audio",f.CLICK_NORMAL_BUTTON),b.getInstance().vibrateShort("medium"),0==this.videoIcon.active?this.sucessTryOut():b.getInstance().showVideo({},this.onAdComplete.bind(this))},a.onAdComplete=function(t,e){t?this.sucessTryOut():O.popToast(e)},a.sucessTryOut=function(){C.postNotice(I.TRY_OUT_SUCESS,{hatIndex:this.hatIndex,shoesIndex:this.shoesIndex}),this.playOutAction()},e}(g)).prototype,"tryOutHeroCtrl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(U.prototype,"videoIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(U.prototype,"labelNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(U.prototype,"hadNativeNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=U))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/ServantBulletCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./Config.ts","./NotificationCenter.ts","./LocalData.ts","./shot_lv_config.ts","./DiamondCtrl.ts"],(function(t){"use strict";var o,e,i,n,r,s,l,a,c,h,d,u,f,p,C,g,m,y,v,B,w;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,l=t._decorator,a=t.Material,c=t.RigidBody,h=t.Collider,d=t.MeshRenderer,u=t.Vec3,f=t.Tween,p=t.Component},function(t){C=t.PlatformJudge},function(t){g=t.MankindColor},function(t){m=t.NotificationCenter,y=t.NCKeys},function(t){v=t.LocalData},function(t){B=t.shot_lv_config},function(t){w=t.DiamondCtrl}],execute:function(){var D,_,E,L,R;s._RF.push({},"2d8ebp9/xRLu5DGrBhwU211","ServantBulletCtrl",void 0);var N=l.ccclass,P=l.property;t("ServantBulletCtrl",(D=N("ServantBulletCtrl"),_=P([a]),D((R=o((L=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return o=t.call.apply(t,[this].concat(s))||this,i(n(o),"mats",R,n(o)),r(n(o),"color",g.NONE),o}e(o,t);var s=o.prototype;return s.startShot=function(t,o,e,i){this.rigidBody=this.getComponent(c),this.collider=this.getComponent(h),this.meshRenderer=this.getComponent(d),this.meshRenderer.material=this.mats[i],this.color=i,this.node.position=t,this.node.rotation=e;var n=new u;u.transformQuat(n,new u(0,50,0),e),this.rigidBody.setAngularVelocity(n),this.rigidBody.mass=B[v.shotLV].mass,this.rigidBody.setLinearVelocity(o),this.collider.on("onCollisionEnter",this.onCollisionEnter,this),this.node.scale=new u(1,1,1),new f(this.node).to(.05,{scale:new u(3,3,3)}).start()},s.onCollisionEnter=function(t){this.collider.off("onCollisionEnter",this.onCollisionEnter,this);var o=t.otherCollider.getComponent(w);o&&o.hit(),C.isTT||m.postNotice(y.DEAD_EFFECT,{pos:this.node.worldPosition,color:this.color}),this.node.destroy()},o}(p)).prototype,"mats",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=L))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./NotificationCenter.ts","./hat_config.ts","./shoes_config.ts","./cannon_config.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./ShopLayerCannonCtrl.ts","./ShopLayerHeroCtrl.ts","./BaseUILayerFromMainPageCtrl.ts","./ShopLayerItemCtrl.ts"],(function(e){"use strict";var t,n,o,i,a,s,r,h,l,c,d,g,p,u,I,m,f,_,b,C,y,v,w,N,S,T,x,L,P,A,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.defineProperty},function(e){s=e.cclegacy,r=e._decorator,h=e.Node,l=e.ToggleContainer,c=e.view,d=e.UITransform,g=e.Vec3,p=e.Widget,u=e.Tween,I=e.find},function(e){m=e.CLIP},function(e){f=e.AudioHelper},function(e){_=e.PlatformConfig},function(e){b=e.NotificationCenter,C=e.NCKeys},function(e){y=e.hat_config},function(e){v=e.shoes_config},function(e){w=e.cannon_config},function(e){N=e.LocalData,S=e.type2name},function(e){T=e.PlatformManager},function(e){x=e.Utils},function(e){L=e.ShopLayerCannonCtrl},function(e){P=e.ShopLayerHeroCtrl},function(e){A=e.BaseUILayerFromMainPageCtrl},function(e){D=e.ShopLayerItemCtrl}],execute:function(){var O,k,M,B,E,H,z,U,R,K,F,V,Y,Z,j,W,q,G,J,Q,X,$,ee,te,ne;s._RF.push({},"2ede7laeTpEPZwUMlTdh0A2","ShopLayerCtrl",void 0);var oe=r.ccclass,ie=r.property;e("ShopLayerCtrl",(O=oe("ShopLayerCtrl"),k=ie(h),M=ie(h),B=ie(h),E=ie(h),H=ie(h),z=ie(h),U=ie([D]),R=ie([D]),K=ie(l),F=ie(P),V=ie(L),O((j=t((Z=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(i(t),"topNode",j,i(t)),o(i(t),"diamondNode",W,i(t)),o(i(t),"backNode",q,i(t)),o(i(t),"bottomNode",G,i(t)),o(i(t),"leftNode",J,i(t)),o(i(t),"rightNode",Q,i(t)),o(i(t),"twoItems",X,i(t)),o(i(t),"eightItems",$,i(t)),o(i(t),"bottomToggles",ee,i(t)),o(i(t),"heroCtrl",te,i(t)),o(i(t),"cannonCtrl",ne,i(t)),a(i(t),"_pageType","hat"),a(i(t),"_hatPageIndex",0),a(i(t),"_shoesPageIndex",0),a(i(t),"_cannonPageIndex",0),a(i(t),"_hatSelectedIndex",0),a(i(t),"_shoesSelectedIndex",0),a(i(t),"_cannonSelectedIndex",0),t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=c.getVisibleSize();if(e.height<1136){var t,n=this.bottomNode.getComponent(d);n.height=e.height-50-200-66,this.bottomNode.getChildByName("shader").getComponent(d).height=n.height-10,this.bottomNode.getChildByName("left").position=new g(-313,.66*n.height,0),this.bottomNode.getChildByName("right").position=new g(313,.66*n.height,0),null===(t=this.bottomNode.getChildByName("toggles").getComponent(p))||void 0===t||t.updateAlignment();var o=this.bottomNode.getChildByName("bottomInnerNode"),i=(n.height-200)/610;o.scale=new g(i,i,i),o.position=new g(0,200+305*i,0),this.topNode.position=new g(0,e.height/2-50-100,0)}T.getInstance().trackEvent("wx",{branchId:_.wx.tracks.SHOP_ADD_DIAMOND,eventType:1})},s.playInAction=function(){var e=c.getVisibleSize(),t=this.bottomNode.getComponent(d);this.bottomNode.position=new g(0,-e.height/2-t.height-100,0);var n=new u(this.bottomNode);n.to(.5,{position:new g(0,-e.height/2-5,0)},{easing:"backOut"}).start(),this.backNode.position=new g(-480,e.height/2-168,0),(n=new u(this.backNode)).to(.5,{position:new g(-280,e.height/2-168,0)},{easing:"backOut"}).start(),this.diamondNode.position=new g(453,e.height/2-168,0),(n=new u(this.diamondNode)).to(.5,{position:new g(253,e.height/2-168,0)},{easing:"backOut"}).start();var o=I("bottom/bottomInnerNode/unlockButton/light",this.node);(n=new u(o)).to(6,{eulerAngles:new g(0,0,360)}).call((function(){o.eulerAngles=g.ZERO})).union().repeatForever().start()},s.onEnable=function(){e.prototype.onEnable.call(this),b.addObserver(C.SHOP_LAYER_ITEM_SELECTED,this.onShopItemSelected,this)},s.onDisable=function(){b.removeObserver(C.SHOP_LAYER_ITEM_SELECTED,this)},s.onShopItemSelected=function(e){var t=e.type,n=e.index;this["_"+t+"SelectedIndex"]=n;for(var o=0;o<this.twoItems.length;o++)this.twoItems[o].node.active&&this.twoItems[o].refresh(this.twoItems[o]._index==n);for(var i=0;i<this.eightItems.length;i++)this.eightItems[i].node.active&&this.eightItems[i].refresh(this.eightItems[i]._index==n);"hat"==t?this.heroCtrl.setHatIndex(n):"shoes"==t?this.heroCtrl.setShoesIndex(n):this.cannonCtrl.setCannonIndex(n)},s.start=function(){this._hatSelectedIndex=N.curHatIndex,this._shoesSelectedIndex=N.curShoesIndex,this._cannonSelectedIndex=N.curCannonIndex,this._turnPage(this._pageType,this._hatPageIndex),this.heroCtrl.setHatIndex(this._hatSelectedIndex),this.heroCtrl.setShoesIndex(this._shoesSelectedIndex),this.heroCtrl.showHat(),this.cannonCtrl.setCannonIndex(this._cannonSelectedIndex)},s.onDestroy=function(){N.curHatIndex=this._hatSelectedIndex,N.curShoesIndex=this._shoesSelectedIndex,N.curCannonIndex=this._cannonSelectedIndex},s._turnPage=function(e,t,n){void 0===n&&(n=-1);var o,i;i="hat"==e?y:"shoes"==e?v:w,o=Math.floor((i.length-1)/10),this.leftNode.active=t>0,this.rightNode.active=t<o,this.bottomToggles.toggleItems[t].isChecked=!0;for(var a=[],s=[],r=10*t;r<10*t+10&&r<i.length;r++)"ad"==i[r].access?a.push(r):s.push(r);for(var h=0;h<2;h++)null!=a[h]?(this.twoItems[h].node.active=!0,this.twoItems[h].init(e,a[h],i[a[h]],this["_"+e+"SelectedIndex"]==a[h])):this.twoItems[h].node.active=!1;for(var l=0;l<8;l++){if(null!=s[l]){if(this.eightItems[l].node.active=!0,this.eightItems[l].init(e,s[l],i[s[l]],this["_"+e+"SelectedIndex"]==s[l]),s[l]==n)new u(this.eightItems[l].node).to(.5,{scale:new g(1.5,1.5,1.5)}).to(.5,{scale:new g(1,1,1)}).union().repeat(2).start()}else this.eightItems[l].node.active=!1}},s.onLeftButtonClick=function(){f.play("audio",m.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("light"),this["_"+this._pageType+"PageIndex"]--,this._turnPage(this._pageType,this["_"+this._pageType+"PageIndex"])},s.onRightButtonClick=function(){f.play("audio",m.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("light"),this["_"+this._pageType+"PageIndex"]++,this._turnPage(this._pageType,this["_"+this._pageType+"PageIndex"])},s.onToggleClick=function(e,t){var n;f.play("audio",m.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("light"),this._pageType=t,n="hat"==t?y:"shoes"==t?v:w;for(var o=Math.floor((n.length-1)/10),i=0;i<this.bottomToggles.node.children.length;i++)this.bottomToggles.node.children[i].active=i<=o;this.bottomToggles.node.position=new g(23.333*(3-o),-163,0),"hat"==t?(this.heroCtrl.node.active=!0,this.cannonCtrl.node.active=!1,this.heroCtrl.showHat()):"shoes"==t?(this.heroCtrl.node.active=!0,this.cannonCtrl.node.active=!1,this.heroCtrl.showShoes()):(this.heroCtrl.node.active=!1,this.cannonCtrl.node.active=!0),this._turnPage(this._pageType,this["_"+this._pageType+"PageIndex"])},s.onDiamondButtonClick=function(){f.play("audio",m.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("light"),T.getInstance().trackEvent("wx",{branchId:_.wx.tracks.SHOP_ADD_DIAMOND,eventType:2}),T.getInstance().showVideo({branchId:_.wx.tracks.SHOP_ADD_DIAMOND},this.onDiamondAdComplete.bind(this))},s.onDiamondAdComplete=function(e,t){e?(N.cumVideoConunt++,N.diamond+=500,x.popToast("恭喜获得500钻石"),N.save()):x.popToast(t)},s.onRandomUnlockButtonClick=function(){if(f.play("audio",m.CLICK_NORMAL_BUTTON),T.getInstance().vibrateShort("light"),N.diamond>=2500){var e=N.randomUnlockItem(this._pageType);-1!=e?(N.diamond-=2500,this["_"+this._pageType+"PageIndex"]=Math.floor(e/10),this._turnPage(this._pageType,this["_"+this._pageType+"PageIndex"],e)):x.popToast("当前没有可用钻石解锁的"+S[this._pageType])}else x.popToast("你的钻石不足")},t}(A)).prototype,"topNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(Z.prototype,"diamondNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(Z.prototype,"backNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(Z.prototype,"bottomNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(Z.prototype,"leftNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(Z.prototype,"rightNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(Z.prototype,"twoItems",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(Z.prototype,"eightItems",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(Z.prototype,"bottomToggles",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(Z.prototype,"heroCtrl",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(Z.prototype,"cannonCtrl",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=Z))||Y));s._RF.pop()}}}));

System.register("chunks:///_virtual/LocalData.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./hat_config.ts","./shoes_config.ts","./cannon_config.ts","./PlatformManager.ts","./Utils.ts"],(function(t){"use strict";var n,e,o,s,i,a,r,h,c,u,d,l,f,_,g;return{setters:[function(t){n=t.createClass,e=t.defineProperty},function(t){o=t.cclegacy,s=t.log,i=t.game,a=t.Game,r=t.sys},function(t){h=t.Config},function(t){c=t.NotificationCenter,u=t.NCKeys},function(t){d=t.hat_config},function(t){l=t.shoes_config},function(t){f=t.cannon_config},function(t){_=t.PlatformManager},function(t){g=t.Utils}],execute:function(){o._RF.push({},"2f67crPiRZA1oxh1JiHY9YS","LocalData",void 0);t("type2name",{diamond:"钻石",shoes:"鞋子",hat:"帽子",cannon:"大炮"});var m="run_man_with_hit_castle",k=!1,y=t("LocalDataClass",function(){function t(){e(this,"version",""),e(this,"saveTimeStamp",0),e(this,"levelIndex",0),e(this,"_diamond",0),e(this,"_diamondLV",0),e(this,"_shotLV",0),e(this,"_unlockShoes",[]),e(this,"_tryOutShoes",{}),e(this,"_curShoesIndex",-1),e(this,"_unlockHat",[]),e(this,"_tryOutHat",{}),e(this,"_curHatIndex",-1),e(this,"_unlockCannon",[0]),e(this,"_tryOutCannon",{}),e(this,"_curCannonIndex",0),e(this,"_pickKeyNum",0),e(this,"progressLotteryIndex",0),e(this,"progressLotteryRate",0),e(this,"threeLotteryIndex",0),e(this,"nineLotteryIndex",0),e(this,"orderIndex",0),e(this,"orderState","notYet"),e(this,"orderTimeStamp",0),e(this,"todayGetedCollectReward",!1),e(this,"gudieMark",{}),e(this,"_cumVideoConunt",0),e(this,"freeCount",0),e(this,"freeTimeStamp",0),e(this,"todayShareSucessTime",0),e(this,"signinCanGetDay",1),e(this,"signinGetTime",0),e(this,"signinAnotherReward",!0),e(this,"grabFree",!0),e(this,"tryOutHatIndex",-1),e(this,"tryOutShoesIndex",-1),e(this,"acceptPrivacy",!1)}var o=t.prototype;return o.shoesUnlocked=function(t){return-1!=this._unlockShoes.indexOf(t)},o.hatUnlocked=function(t){return-1!=this._unlockHat.indexOf(t)},o.cannonUnlocked=function(t){return-1!=this._unlockCannon.indexOf(t)},o.itemUnlocked=function(t,n){return"shoes"==t?this.shoesUnlocked(n):"hat"==t?this.hatUnlocked(n):"cannon"==t&&this.cannonUnlocked(n)},o.addOrUnlockItem=function(t,n){var e="";"shoes"==t&&0==this.shoesUnlocked(n)?(this._unlockShoes.push(n),e=""):"hat"==t&&0==this.hatUnlocked(n)?(this._unlockHat.push(n),e=""):"cannon"==t&&0==this.cannonUnlocked(n)?(this._unlockCannon.push(n),e=""):I.diamond+=n,""!=e&&_.getInstance().trackEvent("",{branchId:e,branchDim:n.toString(),eventType:1})},o.addOrTryOutItem=function(t,n){this.addOrUnlockItem(t,n),"hat"==t?this._tryOutHat[n]=dayjs().unix()+7200:"shoes"==t?this._tryOutShoes[n]=dayjs().unix()+7200:"cannon"==t&&(this._tryOutCannon[n]=dayjs().unix()+7200)},o.equipItem=function(t,n){switch(t){case"hat":I.curHatIndex=n;break;case"shoes":I.curShoesIndex=n;break;case"cannon":I.curCannonIndex=n;break;default:s("不可装备")}},o.getItemName=function(t,n){switch(t){case"hat":return d[n].name;case"shoes":return l[n].name;case"cannon":return f[n].name;case"diamond":return n+"钻石"}},o.randomUnlockHat=function(){for(var t=[],n=0;n<d.length;n++)"diamond"==d[n].access&&0==this.hatUnlocked(n)&&t.push(n);if(0==t.length)return-1;var e=Math.floor(t.length*Math.random());return this._unlockHat.push(t[e]),_.getInstance().trackEvent("",{branchId:"BCBgAAoXHx5d0rIBcVl4Wh",branchDim:t[e].toString(),eventType:1}),t[e]},o.randomUnlockShoes=function(){for(var t=[],n=0;n<l.length;n++)"diamond"==l[n].access&&0==this.shoesUnlocked(n)&&t.push(n);if(0==t.length)return-1;var e=Math.floor(t.length*Math.random());return this._unlockShoes.push(t[e]),_.getInstance().trackEvent("",{branchId:"BCBgAAoXHx5d0rIBcVl4Wg",branchDim:t[e].toString(),eventType:1}),t[e]},o.randomUnlockCannon=function(){for(var t=[],n=0;n<f.length;n++)"diamond"==f[n].access&&0==this.cannonUnlocked(n)&&t.push(n);if(0==t.length)return-1;var e=Math.floor(t.length*Math.random());return this._unlockCannon.push(t[e]),_.getInstance().trackEvent("",{branchId:"BCBgAAoXHx5d0rIBcVl4Wn",branchDim:t[e].toString(),eventType:1}),t[e]},o.randomUnlockItem=function(t){return"hat"==t?this.randomUnlockHat():"shoes"==t?this.randomUnlockShoes():"cannon"==t?this.randomUnlockCannon():-1},o.getRandomTryOutHat=function(){for(var t=[],n=0;n<d.length;n++)0==this.hatUnlocked(n)&&t.push(n);return 0==t.length?-1:t[Math.floor(t.length*Math.random())]},o.getRandomGrayHat=function(){for(var t=[],n=0;n<d.length;n++)"diamond"==d[n].access&&0==this.hatUnlocked(n)&&t.push(n);return 0==t.length?-1:t[Math.floor(t.length*Math.random())]},o.getRandomGrayShoes=function(){for(var t=[],n=0;n<l.length;n++)"diamond"==l[n].access&&0==this.shoesUnlocked(n)&&t.push(n);return 0==t.length?-1:t[Math.floor(t.length*Math.random())]},o.getRandomGrayCannon=function(){for(var t=[],n=0;n<f.length;n++)"diamond"==f[n].access&&0==this.cannonUnlocked(n)&&t.push(n);return 0==t.length?-1:t[Math.floor(t.length*Math.random())]},o.getRandomTryOutShoesOrAlreadyGet=function(){for(var t=[],n=0;n<l.length;n++)0==this.shoesUnlocked(n)&&t.push(n);if(0==t.length){var e=Math.floor(this._unlockShoes.length*Math.random());return this._unlockShoes[e]}return t[Math.floor(t.length*Math.random())]},o.refreshTryOutItem=function(){var t=dayjs().unix(),n=Object.keys(this._tryOutHat);if(n.length>0){for(var e=0;e<n.length;e++){var o=n[e];if(this._tryOutHat[o]<=t){delete this._tryOutHat[o];var s=this._unlockHat.indexOf(parseInt(o));-1!=s&&(this._unlockHat.splice(s,1),console.log("hat "+o+"过期了，去除"))}}0==this.hatUnlocked(I.curHatIndex)&&(I.curHatIndex=-1)}var i=Object.keys(this._tryOutShoes);if(i.length>0){for(var a=0;a<i.length;a++){var r=i[a];if(this._tryOutShoes[r]<=t){delete this._tryOutShoes[r];var h=this._unlockShoes.indexOf(parseInt(r));-1!=h&&(this._unlockShoes.splice(h,1),console.log("shoes "+r+"过期了，去除"))}}0==this.shoesUnlocked(I.curShoesIndex)&&(I.curShoesIndex=-1)}var c=Object.keys(this._tryOutCannon);if(c.length>0){for(var u=0;u<c.length;u++){var d=c[u];if(this._tryOutCannon[d]<=t){delete this._tryOutCannon[d];var l=this._unlockCannon.indexOf(parseInt(d));-1!=l&&(this._unlockCannon.splice(l,1),console.log("cannon "+d+"过期了，去除"))}}0==this.cannonUnlocked(I.curCannonIndex)&&(I.curCannonIndex=0)}},o.refreshSigninData=function(t,n){this.signinCanGetDay=t,this.signinGetTime=n},o.init=function(){var t=this;return 1!=k&&(this.load(),this.refreshTryOutItem(),i.on(a.EVENT_HIDE,(function(){console.log("游戏进入了后台了"),t.save(),c.postNotice(u.EVENT_HIDE,null)})),i.on(a.EVENT_SHOW,(function(){console.log("游戏进入了前台了"),c.postNotice(u.EVENT_SHOW,null)})),k=!0,!0)},o.load=function(){var t=r.localStorage.getItem(m);if(null!=t&&""!=t){try{var n=JSON.parse(t);Object.assign(this,n)}catch(t){return console.log("加载存档出错了",t),r.localStorage.setItem(m,""),void this.load()}this.version!=h.version&&(this.updateVersion(),this.version=h.version)}else console.log("初始化存档"),this.version=h.version,this.saveTimeStamp=g.getCurTime();0!=g.offsetDay(this.saveTimeStamp,g.getCurTime())&&(this.todayShareSucessTime=0,this.freeCount=0,this.todayGetedCollectReward=!1)},o.save=function(){if(!k)return console.log("存档顺序混乱，先save 再load了");this.saveTimeStamp=dayjs().unix();var t=JSON.stringify(this);r.localStorage.setItem(m,t)},o.clear=function(){console.log("存档 clear");var n=new t;Object.assign(this,n),this.save()},o.updateVersion=function(){},n(t,[{key:"diamond",get:function(){return this._diamond},set:function(t){this._diamond=t,k&&c.postNotice(u.LOCALDATA_DIAMOND,this._diamond)}},{key:"diamondLV",get:function(){return this._diamondLV},set:function(t){this._diamondLV=t,k&&c.postNotice(u.LOCALDATA_DIAMOND_LV,this._diamondLV)}},{key:"shotLV",get:function(){return this._shotLV},set:function(t){this._shotLV=t,k&&c.postNotice(u.LOCALDATA_SHOT_LV,this._shotLV)}},{key:"curShoesIndex",get:function(){return this._curShoesIndex},set:function(t){this._curShoesIndex!=t&&(this._curShoesIndex=t,k&&c.postNotice(u.LOCALDATA_SHOES_INDEX,t))}},{key:"curHatIndex",get:function(){return this._curHatIndex},set:function(t){this._curHatIndex!=t&&(this._curHatIndex=t,k&&c.postNotice(u.LOCALDATA_HAT_INDEX,t))}},{key:"curCannonIndex",get:function(){return this._curCannonIndex},set:function(t){this._curCannonIndex!=t&&(this._curCannonIndex=t,k&&c.postNotice(u.LOCALDATA_CANNON_INDEX,t))}},{key:"pickKeyNum",get:function(){return this._pickKeyNum},set:function(t){this._pickKeyNum!=t&&(this._pickKeyNum=t,k&&c.postNotice(u.LOCALDATA_PICK_KEY_NUM,this._pickKeyNum))}},{key:"cumVideoConunt",get:function(){return this._cumVideoConunt},set:function(t){this._cumVideoConunt=t,k&&c.postNotice(u.CUM_VIDEO_COUNT,this._cumVideoConunt)}}]),t}()),I=t("LocalData",new y);globalThis.LocalData=I,o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageConfig.ts",["cc","./Config.ts"],(function(n){"use strict";var g,t;return{setters:[function(n){g=n.cclegacy},function(n){t=n.Config}],execute:function(){g._RF.push({},"309b4D+UsFPwZ3ojA/OMzxX","LanguageConfig",void 0);var e=n("LanguageConfig",{get:function(n){return this[n][t.language]}});globalThis.LanguageConfig=e,g._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressLotteryPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./LocalData.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts","./progress_lottery_config.ts"],(function(t){"use strict";var e,r,n,i,o,a,s,l,c,u,g,p,f,d,h,y,b,v,L,P,C,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.SpriteAtlas,l=t.Sprite,c=t.Node,u=t.Toggle,g=t.Tween,p=t.Vec3,f=t.find},function(t){d=t.PlatformJudge},function(t){h=t.CLIP},function(t){y=t.AudioHelper},function(t){b=t.PlatformConfig},function(t){v=t.LocalData},function(t){L=t.PlatformManager},function(t){P=t.BaseUILayerCtrl},function(t){C=t.Utils},function(t){m=t.progress_lottery_config}],execute:function(){var T,I,O,R,_,w,A,x,B,S,k;o._RF.push({},"328e0Pom4pKn71gHc360hD0","ProgressLotteryPageCtrl",void 0);var E=a.ccclass,U=a.property;t("ProgressLotteryPageCtrl",(T=E("ProgressLotteryPageCtrl"),I=U(s),O=U(l),R=U(c),_=U(u),T((x=e((A=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(i(e),"atlas",x,i(e)),n(i(e),"icon",B,i(e)),n(i(e),"light",S,i(e)),n(i(e),"toggle",k,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){var t=this,e=m[v.progressLotteryIndex];if(this.icon.spriteFrame=this.atlas.getSpriteFrame(""+e.type+e.index),new g(this.light).to(8,{eulerAngles:new p(0,0,360)}).call((function(){t.light.eulerAngles=p.ZERO})).union().repeatForever().start(),d.isStrict){var r=f("bg/cancelButton",this.node),n=f("bg/strictButton",this.node),i=f("bg/sureButton",this.node);r.active=!1,n.active=!0,i.position=new p(80,-150,0)}else{var o=f("bg/cancelButton",this.node);o.active=!1,this.scheduleOnce((function(){o.active=!0}),d.isOppo||d.isVivo?0:2)}d.isQQ&&(f("bg/Toggle",this.node).active=!1);L.getInstance().trackEvent("wx",{branchId:b.wx.tracks.PROGRESS_LOTTERY,eventType:1})},o.onGetButtonClick=function(){y.play("audio",h.CLICK_NORMAL_BUTTON),L.getInstance().trackEvent("wx",{branchId:b.wx.tracks.PROGRESS_LOTTERY,eventType:2}),L.getInstance().showVideo({branchId:b.wx.tracks.PROGRESS_LOTTERY},this.onAdComplete.bind(this))},o.onAdComplete=function(t,e){if(t){var r=m[v.progressLotteryIndex];v.addOrUnlockItem(r.type,r.index),v.progressLotteryRate=0,this.toggle.isChecked&&v.equipItem(r.type,r.index),this.playOutAction()}else C.popToast(e)},o.onCancelButtonClick=function(){y.play("audio",h.CLICK_NORMAL_BUTTON),v.progressLotteryRate=0,this.playOutAction()},e}(P)).prototype,"atlas",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(A.prototype,"icon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(A.prototype,"light",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(A.prototype,"toggle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=A))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterBD.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts"],(function(e){"use strict";var t,n,i,o,r,s,a,h,l;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.view},function(e){a=e.PlatformNotify},function(e){h=e.AdapterBase},function(e){l=e.PlatformConfig}],execute:function(){o._RF.push({},"35016UohblOpoYyUSs/v/KR","AdapterBD",void 0);r.ccclass,r.property,e("AdapterBD",function(e){function o(){var t;return t=e.call(this)||this,n(i(t),"_video",null),n(i(t),"_banner",null),n(i(t),"_bannerWidth",.7),t._initOther(),t._createVideo(),setTimeout((function(){t._createBanner()}),6e3),console.log("AdapterBD 初始化成功了"),t}t(o,e);var r=o.prototype;return r._initOther=function(){window.swan.showShareMenu({}),window.swan.onShareAppMessage((function(){return{title:l.bd.shareTitle,imageUrl:l.bd.shareImageUrl}}))},r._createVideo=function(){var e=this;if(!l.bd.videoId)return console.log("PlatformConfig.bd.videoId 的配置为空。跳过创建video广告");this._video=swan.createRewardedVideoAd({adUnitId:l.bd.videoId,appSid:l.bd.appSid}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(e){console.log("激励视频 广告加载失败",e)})),this._video.onClose((function(t){t&&t.isEnded||void 0===t?(e._cb&&e._cb(!0),e._cb=null):(e._cb&&e._cb(!1,"观看完整视频广告才能获得奖励"),e._cb=null),a.postNotice(a.BGM_SWITCH,!0)}))},r.showVideo=function(e,t){var n=this;this._cb=t;var i=this._video;if(null==i)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var o=i.show();o&&o.then((function(){a.postNotice(a.BGM_SWITCH,!1)})).catch((function(e){i.load().then((function(){a.postNotice(a.BGM_SWITCH,!1),i.show()})).catch((function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},r._createBanner=function(){if(!l.bd.bannerId)return console.log("PlatformConfig.bd.bannerId 不存在，不创建Banner");var e=s.getVisibleSize(),t=swan.createBannerAd({adUnitId:l.bd.bannerId,appSid:l.bd.appSid,style:o.convertToBDStyle(e.width/2,50,e.width*this._bannerWidth,100)});t.onLoad((function(){console.log("banner 广告加载成功")})),t.onError((function(e){console.log("banner 加载失败",e)})),t.onResize((function(e){console.log(e.width,e.height),console.log(t.style.realWidth,t.style.realHeight);var n=window.swan.getSystemInfoSync(),i=n.screenWidth,o=n.screenHeight;Math.abs(o-t.style.realHeight-t.style.top)>=5&&(t.style.top=o-t.style.realHeight,console.log("screenHeight realHeight top",o,t.style.realHeight,t.style.top)),Math.abs((i-t.style.realWidth)/2-t.style.left)>=5&&(t.style.left=(i-t.style.realWidth)/2)})),this._banner=t},r.showBanner=function(e){var t=this;null==this._banner&&(this._createBanner(),setTimeout((function(){t.showBanner(e)}),2));var n=e.width||this._bannerWidth;if(n!=this._bannerWidth){this._bannerWidth=n;var i=s.getVisibleSize(),r=o.convertToBDStyle(i.width/2,50,i.width*n,100);this._banner.style=r,setTimeout((function(){t._banner.show().then((function(){var e=window.swan.getSystemInfoSync(),n=(e.screenWidth,e.screenHeight),i=s.getVisibleSize().height/n,o=t._banner.style.height*i;a.postNotice(a.BANNER_SHOW_HEIGHT,{height:o})}))}),2e3)}else this._banner.show().then((function(){var e=window.swan.getSystemInfoSync(),n=(e.screenWidth,e.screenHeight),i=s.getVisibleSize().height/n,o=t._banner.style.height*i;a.postNotice(a.BANNER_SHOW_HEIGHT,{height:o})})),console.log(this._banner)},r.hideBanner=function(e){e.tryDestroy?(this._banner&&(this._banner.destroy(),this._banner=null),this._createBanner()):this._banner&&this._banner.hide(),a.postNotice(a.BANNER_SHOW_HEIGHT,{height:0})},o.convertToBDStyle=function(e,t,n,i){var o=window.swan.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight),a=s.getVisibleSize().height/r,h=n/a,l=i/a;return{left:e/a-h/2,top:r-t/a-l/2,width:h,height:l}},r.share=function(e,t){swan.shareAppMessage({title:l.bd.shareTitle,imageUrl:l.bd.shareImageUrl}),setTimeout((function(){Math.random()>.7?e&&e(!1,"请分享给不同的好友"):e&&e(!0),e=null}),2e3)},r.hadShareAbility=function(){return!0},r.hadCollectAbility=function(){return!1},o}(h));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterTypeDefine.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"350564MkvFD2ZZhKGg54wH5","AdapterTypeDefine",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/CastleCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts"],(function(t){"use strict";var e,i,o,s,r,n,a,c,l,p,h,u,f,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.defineProperty,s=t.assertThisInitialized,r=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t._decorator,c=t.Prefab,l=t.RigidBody,p=t.instantiate,h=t.Vec3,u=t.Component},function(t){f=t.GameState},function(t){d=t.NotificationCenter,m=t.NCKeys}],execute:function(){var g,C,y,_,v;n._RF.push({},"36561ZZab1HYpf4my/r24R5","CastleCtrl",void 0);var P=a.ccclass,b=a.property;t("CastleCtrl",(g=P("CastleCtrl"),C=b(c),g((v=e((_=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(s(e),"_cur",0),o(s(e),"_total",0),o(s(e),"pieces",[]),r(s(e),"diamondPrefab",v,s(e)),e}i(e,t);var n=e.prototype;return n.start=function(){for(var t=this.node.children,e=t.length,i=0;i<e;i++){if("floor"!=t[i].name&&"diamond"!=t[i].name)t[i].getComponent(l).isStatic=!0,this.pieces.push(t[i])}},n.walkUp=function(){for(var t=0;t<this.pieces.length;t++){this.pieces[t].getComponent(l).isDynamic=!0}this._total=Math.floor(.8*this.pieces.length),this.schedule(this.updateForCastleProgress)},n.updateForCastleProgress=function(){for(var t=0,e=0;e<this.pieces.length;e++)this.pieces[e].position.y<1&&t++;t>this._cur&&(this._cur=t),d.postNotice(m.CASTLE_PROGRESS,this._cur/this._total),this._cur>=this._total&&this.popBigDiamond(!1)},n.popBigDiamond=function(t){this.unschedule(this.updateForCastleProgress);var e=p(this.diamondPrefab);if(e.parent=this.node,d.postNotice(m.GAME_STATE,{state:f.SHOT_DIAMOND,diamond:e}),t)for(var i=0;i<this.pieces.length;i++)if(this.pieces[i].position.y>1){var o=this.pieces[i].getComponent(l),s=new h(this.pieces[i].position);s.normalize(),h.multiplyScalar(s,s,15),o.applyImpulse(s)}},e}(u)).prototype,"diamondPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioHelper.ts",["cc","./PlatformJudge.ts","./AudioCtrl.ts","./PlatformNotify.ts"],(function(t){"use strict";var n,o,i,e,u,r,d;return{setters:[function(t){n=t.cclegacy,o=t.find,i=t.log},function(t){e=t.PlatformJudge},function(t){u=t.CLIP,r=t.AudioCtrl},function(t){d=t.PlatformNotify}],execute:function(){n._RF.push({},"3827edtj99DIZPlHFUs4qoR","AudioHelper",void 0);t("AudioHelper",{_inited:!1,init:function(){var t=this;this._inited||(this._inited=!0,d.addObserver(d.BGM_SWITCH,(function(n){n?t.play("audio",u.BGM,!0):t.stop("audio",u.BGM)}),this))},innerAudios:{},play:function(t,n){var i=o(t);null!=i&&i.getComponent(r).play(n)},playOneShot:function(t,n){var i=o(t);null!=i&&i.getComponent(r).playOnShot(n)},stop:function(t,n){var e=o(t);if(null==e)return i("audioHelper node not found:"+t);e.getComponent(r).stop(n)},needLoadAudioNode:function(){
/*!PlatformJudge.isQQ &&*/
return!e.isWXDev}});n._RF.pop()}}}));

System.register("chunks:///_virtual/CheatNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(t){"use strict";var o,e,n,r,i,s,c,u;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.find,i=t.EditBox,s=t.Component},function(t){c=t.NotificationCenter,u=t.NCKeys}],execute:function(){var a;e._RF.push({},"3d2b7Ew4wNIDKmEqo2SRg1s","CheatNodeCtrl",void 0);var C=n.ccclass;n.property,t("CheatNodeCtrl",C("CheatNodeCtrl")(a=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onLoad=function(){CC_DEBUG||this.node.destroy()},n.start=function(){},n.onResetButtonClick=function(){var t=r("EditBox",this.node).getComponent(i),o=parseInt(t.string);c.postNotice(u.RESET_GAME,o)},e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./HtsHelper.ts","./PlatformManager.ts","./Utils.ts","./MutualPushItemCtrl.ts","./BaseUILayerFromMainPageCtrl.ts"],(function(t){"use strict";var e,r,n,i,o,a,l,s,c,u,f,p,h,m,d,y,g,v,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Prefab,s=t.Node,c=t.CCFloat,u=t.Vec3,f=t.instantiate,p=t.macro,h=t.UITransform},function(t){m=t.PlatformJudge},function(t){d=t.HtsHelper},function(t){y=t.PlatformManager},function(t){g=t.Utils},function(t){v=t.MutualPushItemCtrl},function(t){P=t.BaseUILayerFromMainPageCtrl}],execute:function(){var b,C,I,M,F,H,L,w,z;o._RF.push({},"41bdcExNUFI6I4EIldzHxH9","MoreGameLayerCtrl",void 0);var E=a.ccclass,S=a.property;t("MoreGameLayerCtrl",(b=E("MoreGameLayerCtrl"),C=S(l),I=S(s),M=S(c),b((L=e((H=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(i(e),"itemPrefab",L,i(e)),n(i(e),"content",w,i(e)),n(i(e),"itemScale",z,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){if((m.isOppo||m.isVivo)&&y.getInstance().hideBanner({}),d.moreArray.length>0){for(var t=g.shuffle(d.moreArray),e=d.getHtsIds().moreBid,r=new u(this.itemScale,this.itemScale,this.itemScale),n=0;n<t.length;n++){var i,o=f(this.itemPrefab);o.scale=r,null===(i=o.getComponent(v))||void 0===i||i.init(t[n],e),o.parent=this.content}this.schedule(this.updateForPos,0,p.REPEAT_FOREVER,2)}},o.onDestroy=function(){},o.updateForPos=function(t){var e,r,n,i=null===(e=this.content.getComponent(h))||void 0===e?void 0:e.height,o=null===(r=this.content.parent)||void 0===r||null===(n=r.getComponent(h))||void 0===n?void 0:n.height;if(i<=o)this.unschedule(this.updateForPos);else{var a=new u(this.content.position);a.y+=.5,a.y>i-o/5&&(a.y=o/2),this.content.position=a}},e}(P)).prototype,"itemPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(H.prototype,"content",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(H.prototype,"itemScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=H))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/ObstcaleSpeedUp.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./HeroCtrl.ts","./ObstaclePick.ts"],(function(e){"use strict";var t,i,r,o,n,l,p,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,p=e.CCFloat},function(e){a=e.HeroState},function(e){c=e.HeroCtrl},function(e){s=e.ObstaclePick}],execute:function(){var u,d,f,h,b,y,g;n._RF.push({},"45cefl/DGlFlZ11iAOZXth/","ObstcaleSpeedUp",void 0);var U=l.ccclass,m=l.property;e("ObstcaleSpeedUp",(u=U("ObstcaleSpeedUp"),d=m({type:p,tooltip:"加速倍率"}),f=m({type:p,tooltip:"加速时间"}),u((y=t((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(o(t),"speedUpRate",y,o(t)),r(o(t),"time",g,o(t)),t}return i(t,e),t.prototype.onTriggerEnter=function(e){if(0!=this.effected&&e.otherCollider&&e.otherCollider.node){var t=e.otherCollider.node.getComponent(c);return t&&t.state==a.RUN?(this.effected=!1,t.speedUpRate=this.speedUpRate,void(t.speedUpEndTimeStamp=dayjs().unix()+this.time)):void 0}},t}(s)).prototype,"speedUpRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),g=t(b.prototype,"time",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),h=b))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/three_lottery_config.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"47986zBG/9BAbzMvR1yFdOf","three_lottery_config",void 0);e("three_lottery_config",[{type:"hat",index:3},{type:"hat",index:7},{type:"shoes",index:3},{type:"cannon",index:3},{type:"hat",index:12},{type:"hat",index:15},{type:"shoes",index:6},{type:"cannon",index:8},{type:"hat",index:18},{type:"hat",index:23},{type:"shoes",index:9},{type:"hat",index:27},{type:"hat",index:32},{type:"hat",index:35}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/RotationCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,o,a,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.CCInteger,u=t.Quat,c=t.Component}],execute:function(){var s,p,f,g,_,h,b,d,y;o._RF.push({},"48ecbVeCldAEpeXVpK+UWxB","RotationCtrl",void 0);var z=a.ccclass,C=a.property;t("RotationCtrl",(s=z("RotationCtrl"),p=C(l),f=C(l),g=C(l),s((b=e((h=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(i(e),"angleY",b,i(e)),n(i(e),"rotation_angle_speed",d,i(e)),n(i(e),"rotation_z",y,i(e)),e}return r(e,t),e.prototype.update=function(t){this.angleY+=this.rotation_angle_speed*t,this.node.rotation=u.fromEuler(new u,0,this.angleY,this.rotation_z)},e}(c)).prototype,"angleY",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=e(h.prototype,"rotation_angle_speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(h.prototype,"rotation_z",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=h))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/ToastCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(t){"use strict";var n,i,e,o,a,r,c,l,s,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Label,l=t.CCString,s=t.Animation,u=t.Component},function(t){p=t.NotificationCenter,f=t.NCKeys}],execute:function(){var h,y,m,A,b,N,d,g,C,v,z;a._RF.push({},"492f5NKzOBEY6+r+ABa+YXF","ToastCtrl",void 0);var E=r.ccclass,I=r.property;t("ToastCtrl",(h=E("ToastCtrl"),y=I(c),m=I({type:l}),A=I({type:l}),b=I({type:s}),h((g=n((d=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(o(n),"label",g,o(n)),e(o(n),"inActionName",C,o(n)),e(o(n),"outActionName",v,o(n)),e(o(n),"animation",z,o(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){},a.start=function(){},a.onEnable=function(){this.playInAction()},a.playInAction=function(){this.animation.play(this.inActionName)},a.playOutAction=function(){this.animation.play(this.outActionName)},a.onOutActionFinish=function(){p.postNotice(f.BASEUILAYER_HIDE,{name:this.node.name,ctrl:this}),this.node.destroy()},a.init=function(t){this.label.string=t},a.onInActionFinish=function(){var t=this;p.postNotice(f.BASEUILAYER_SHOW,{name:this.node.name,ctrl:this}),this.scheduleOnce((function(){t.playOutAction()}),2)},n}(u)).prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(d.prototype,"inActionName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=n(d.prototype,"outActionName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=n(d.prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=d))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/FreeLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./Utils.ts","./BaseUILayerFromMainPageCtrl.ts"],(function(e){"use strict";var t,i,a,o,n,r,l,s,c,u,d,f,h,b,p,m,v,L,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.Node,s=e.Label,c=e.Vec3,u=e.Tween},function(e){d=e.PlatformJudge},function(e){f=e.CLIP},function(e){h=e.AudioHelper},function(e){b=e.PlatformConfig},function(e){p=e.LocalData},function(e){m=e.RemoteConfig},function(e){v=e.PlatformManager},function(e){L=e.Utils},function(e){N=e.BaseUILayerFromMainPageCtrl}],execute:function(){var g,C,y,B,T,w,k,F,x,I,A,_,D,M,P,R,S;n._RF.push({},"4d952u2ZbxFAKUC+/1OiE6l","FreeLayerCtrl",void 0);var z=r.ccclass,E=r.property,O=[100,150,200,300,400,0,0];e("FreeLayerCtrl",(g=z("FreeLayerCtrl"),C=E(l),y=E(l),B=E(l),T=E(s),w=E(l),k=E(s),F=E(s),g((A=t((I=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(o(t),"freeButtonNode",A,o(t)),a(o(t),"strictButtonNode",_,o(t)),a(o(t),"adButtonNode",D,o(t)),a(o(t),"tickLabel",M,o(t)),a(o(t),"maxLabelNode",P,o(t)),a(o(t),"limitLabel",R,o(t)),a(o(t),"rewardLabel",S,o(t)),t}i(t,e);var n=t.prototype;return n.start=function(){this.refresh()},n.refresh=function(){if(this.rewardLabel.string="钻石 +"+O[p.freeCount],p.freeCount>=5)this.maxLabelNode.active=!0,this.freeButtonNode.active=!1,this.adButtonNode.active=!1,this.tickLabel.node.active=!1,this.strictButtonNode.active=!1,this.limitLabel.node.active=!1;else if(p.freeCount<3||dayjs().unix()-p.freeTimeStamp>=m.freeRefreshTime)this.freeButtonNode.active=!0,this.adButtonNode.active=!1,this.strictButtonNode.active=!1,this.tickLabel.node.active=!1,this.maxLabelNode.active=!1,this.limitLabel.node.active=!0,this.limitLabel.string="今日还可领取"+(5-p.freeCount)+"次";else{if(this.adButtonNode.active=!0,this.tickLabel.node.active=!0,this.freeButtonNode.active=!1,this.maxLabelNode.active=!1,this.schedule(this.updateForTick,.5),this.updateForTick(),this.limitLabel.node.active=!0,this.limitLabel.string="今日还可领取"+(5-p.freeCount)+"次",d.isStrict)this.strictButtonNode.active=!0,this.adButtonNode.position=new c(115,-123,0),u.stopAllByTarget(this.adButtonNode);else this.strictButtonNode.active=!1,new u(this.adButtonNode).to(.85,{scale:new c(1.05,1.05,1.05)}).to(.85,{scale:new c(.95,.95,.95)}).union().repeatForever().start();v.getInstance().trackEvent("wx",{branchId:b.wx.tracks.FREE_DIAMOND,eventType:1})}},n.updateForTick=function(){var e=dayjs().unix()-p.freeTimeStamp,t=m.freeRefreshTime-e;t>0?this.tickLabel.string="("+L.formatSecondToHMS2(t)+"后可直接领取)":(this.unschedule(this.updateForTick),this.freeButtonNode.active=!0,this.adButtonNode.active=!1,this.tickLabel.node.active=!1,this.maxLabelNode.active=!1,this.limitLabel.node.active=!0)},n.onFreeButtonClick=function(){h.play("audio",f.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),p.diamond+=O[p.freeCount],L.popToast("恭喜获得"+O[p.freeCount]+"钻石"),p.save(),p.freeTimeStamp=dayjs().unix(),p.freeCount++,this.refresh(),p.save()},n.onAdButtonClick=function(){h.play("audio",f.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),v.getInstance().trackEvent("wx",{branchId:b.wx.tracks.FREE_DIAMOND,eventType:2}),v.getInstance().showVideo({branchId:b.wx.tracks.FREE_DIAMOND},this.onAdComplete.bind(this))},n.onAdComplete=function(e,t){e?(p.cumVideoConunt++,p.diamond+=O[p.freeCount],L.popToast("恭喜获得"+O[p.freeCount]+"钻石"),p.save(),p.freeTimeStamp=dayjs().unix(),p.freeCount++,this.refresh(),p.save()):L.popToast(t)},t}(N)).prototype,"freeButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"strictButtonNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(I.prototype,"adButtonNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"tickLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"maxLabelNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"limitLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(I.prototype,"rewardLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/ThreeChoicePageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts","./ThreeChoiceCardCtrl.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,l,c,d,h,u,C,g,f,p,b,v,T,w,y,I,m,O,N,k,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,l=t.UITransform,c=t.Node,d=t.Toggle,h=t.Vec3,u=t.view,C=t.Tween,g=t.Mask,f=t.find},function(t){p=t.PlatformJudge},function(t){b=t.CLIP},function(t){v=t.AudioHelper},function(t){T=t.Config},function(t){w=t.NotificationCenter,y=t.NCKeys},function(t){I=t.LocalData},function(t){m=t.RemoteConfig},function(t){O=t.PlatformManager},function(t){N=t.BaseUILayerCtrl},function(t){k=t.Utils},function(t){B=t.ThreeChoiceCardCtrl}],execute:function(){var L,_,G,R,A,E,x,P,S,D,z,F,K;a._RF.push({},"50e57I0rd5KcrcJJH0dK9DK","ThreeChoicePageCtrl",void 0);var M=s.ccclass,U=s.property;t("ThreeChoicePageCtrl",(L=M("ThreeChoicePageCtrl"),_=U([B]),G=U(l),R=U(c),A=U(c),E=U(d),L((S=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"cardCtrls",S,r(e)),o(r(e),"beChoiceOrderIndex",-1),o(r(e),"adOrderIndex",-1),n(r(e),"maskTrans",D,r(e)),n(r(e),"diamondNode",z,r(e)),n(r(e),"bigGetNode",F,r(e)),n(r(e),"bigGetToggle",K,r(e)),o(r(e),"mislead","none"),e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.cardCtrls[2].initRewardType(),k.shuffle(this.cardCtrls);for(var t=0;t<3;t++)this.cardCtrls[t].orderIndex=t,this.cardCtrls[t].node.position=new h(180*t-180,58,0)},a.onEnable=function(){t.prototype.onEnable.call(this),w.addObserver(y.THREE_LOTTERY_CARD_BE_CLICK,this.cardBeClick,this)},a.onDisable=function(){w.removeObserver(y.THREE_LOTTERY_CARD_BE_CLICK,this)},a.playInAction=function(){var t=this,e=u.getVisibleSize();this.maskTrans.height=0,new C(this.maskTrans).to(1,{height:300}).call((function(){t.maskTrans.getComponent(g).destroy(),t.cardCtrls[0].turnToBack(.4),t.cardCtrls[1].turnToBack(.8),t.cardCtrls[2].turnToBack(1.2);for(var e=new h(0,58,0),i=0;i<t.cardCtrls.length;i++){var n=t.cardCtrls[i].node;new C(n).delay(1.7).to(.8,{position:e},{easing:"backInOut"}).start()}new C(t.node).delay(3).call((function(){k.shuffle(t.cardCtrls);for(var e=function(e){t.cardCtrls[e].orderIndex=e,new C(t.cardCtrls[e].node).to(.5,{position:new h(180*e-180,58,0)},{easing:"backOut"}).call((function(){t.cardCtrls[e].setCanClick(!0)})).start()},i=0;i<3;i++)e(i);var n=f("mask/title",t.node);new C(n).to(.5,{scale:h.ONE},{easing:"backOut"}).start()})).start()})).start(),this.diamondNode.position=new h(453,e.height/2-T.ui.TOP_OFFSET,0),new C(this.diamondNode).to(.5,{position:new h(253,e.height/2-T.ui.TOP_OFFSET,0)}).start();var i=f("continueButton",this.node);if(m.bannerInThreeLottery){O.getInstance().outViewBanner();var n=u.getVisibleSize();i.position=new h(0,-n.height/2+100,0)}else i.position=new h(0,-350,0)},a.cardBeClick=function(t){var e=this;if(this.beChoiceOrderIndex=t,f("continueButton",this.node).active=!1,f("allGetButton",this.node).active=!1,f("strictButton",this.node).active=!1,I.levelIndex>1)for(var i=0;i<3;i++)i!=t&&this.cardCtrls[i].setFree(!1);this.cardCtrls[0].setCanClick(!1),this.cardCtrls[1].setCanClick(!1),this.cardCtrls[2].setCanClick(!1),this.cardCtrls[t].setCanClick(!1),this.cardCtrls[t].node.setSiblingIndex(30);var n=new C(this.cardCtrls[t].node);n.delay(.1).to(.25,{position:new h(0,110,0)}).start(),(n=new C(this.cardCtrls[t].node)).delay(.1).to(.25,{scale:new h(2,2,2)}).call((function(){e.cardCtrls[t].turnToFront(0),v.play("audio",b.BIG_DIAMOND_EXPLOSE)})).delay(.25).call((function(){e.bigGetNode.active=!0,"diamond"==e.cardCtrls[t].rewardType&&(e.bigGetToggle.node.active=!1),e.bigGetNode.position=new h(0,-100,0),new C(e.bigGetNode).to(.5,{position:new h(0,-275,0)},{easing:"backOut"}).start()})).start()},a.onBigGetButtonClick=function(){var t=this;v.play("audio",b.CLICK_NORMAL_BUTTON),this.cardCtrls[this.beChoiceOrderIndex].getReward();var e=this.cardCtrls[this.beChoiceOrderIndex].rewardType,i=this.cardCtrls[this.beChoiceOrderIndex].rewardValue;this.bigGetToggle.isChecked&&"diamond"!=e&&I.equipItem(e,i);var n=u.getVisibleSize(),r=this.cardCtrls[this.beChoiceOrderIndex].node;new C(r).to(.5,{position:new h(0,n.height,0)}).call((function(){t.cardCtrls.every((function(t){return t.isRewardGeted}))&&t.gotoNextLevel()})).start(),this.bigGetNode.active=!1;var o=f("allGetButton",this.node);o.active=this.cardCtrls.every((function(t){return t.isRewardGeted||!t.isFree}));var a=f("continueButton",this.node),s=f("strictButton",this.node);o.active&&(p.isStrict?(s.active=!0,o.position=new h(140,-214,0)):a.active=!0),this.cardCtrls[0].setCanClick(!0),this.cardCtrls[1].setCanClick(!0),this.cardCtrls[2].setCanClick(!0)},a.onAllGetButtonClick=function(){v.play("audio",b.CLICK_NORMAL_BUTTON),O.getInstance().vibrateShort("light"),O.getInstance().showVideo({},this.onAllGetAdComplete.bind(this))},a.onAllGetAdComplete=function(t,e){var i=this;if(t){for(var n=0;n<this.cardCtrls.length;n++)0==this.cardCtrls[n].isRewardGeted&&(this.cardCtrls[n].getReward(),this.cardCtrls[n].turnToFront(.2),I.equipItem(this.cardCtrls[n].rewardType,this.cardCtrls[n].rewardValue));this.scheduleOnce((function(){k.popToast("恭喜你领取了所有奖励"),i.gotoNextLevel()}),1)}else k.popToast(e)},a.onContinueButtonClick=function(){var t=this;0==m.bannerInThreeLottery?(v.play("audio",b.CLICK_NORMAL_BUTTON),O.getInstance().vibrateShort("light"),this.gotoNextLevel()):"none"==this.mislead?(this.mislead="going",this.scheduleOnce((function(){O.getInstance().inViewBanner(),t.mislead="finish",f("continueButton",t.node).position=new h(0,-350,0)}),.7)):"finish"==this.mislead&&(v.play("audio",b.CLICK_NORMAL_BUTTON),O.getInstance().vibrateShort("light"),this.gotoNextLevel())},a.gotoNextLevel=function(){this.node.destroy(),w.postNotice(y.RESET_GAME,null)},e}(N)).prototype,"cardCtrls",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(P.prototype,"maskTrans",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(P.prototype,"diamondNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(P.prototype,"bigGetNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(P.prototype,"bigGetToggle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=P))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/BannerInitNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./BannerCtrlOppo.ts","./BannerCtrlBD.ts","./BannerCtrlHW.ts","./BannerCtrlMZ.ts","./BannerCtrlQQ.ts","./BannerCtrlTT.ts","./BannerCtrlVivo.ts","./BannerCtrlWX.ts"],(function(n){"use strict";var t,r,e,o,i,s,a,l,c,C,u,d,p;return{setters:[function(n){t=n.inheritsLoose},function(n){r=n.cclegacy,e=n._decorator,o=n.Component},function(n){i=n.PlatformJudge},function(n){s=n.BannerCtrlOppo},function(n){a=n.BannerCtrlBD},function(n){l=n.BannerCtrlHW},function(n){c=n.BannerCtrlMZ},function(n){C=n.BannerCtrlQQ},function(n){u=n.BannerCtrlTT},function(n){d=n.BannerCtrlVivo},function(n){p=n.BannerCtrlWX}],execute:function(){var B;r._RF.push({},"51ee4GdB+1J64mcF3jQlvVf","BannerInitNodeCtrl",void 0);var f=e.ccclass;e.property,n("BannerInitNodeCtrl",f("BannerInitNodeCtrl")(B=function(n){function r(){return n.apply(this,arguments)||this}return t(r,n),r.prototype.start=function(){i.isWX?this.addComponent(p):i.isOppo?this.addComponent(s):i.isVivo?this.addComponent(d):i.isTT?this.addComponent(u):i.isMZ?this.addComponent(c):i.isBD?this.addComponent(a):i.isQQ?this.addComponent(C):i.isHW&&this.addComponent(l)},r}(o))||B);r._RF.pop()}}}));

System.register("chunks:///_virtual/OrderLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./Utils.ts","./BaseUILayerFromMainPageCtrl.ts","./order_config.ts"],(function(e){"use strict";var t,r,i,a,n,o,l,s,d,u,c,p,b,f,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Sprite,s=e.SpriteAtlas,d=e.Node,u=e.Label},function(e){c=e.CLIP},function(e){p=e.AudioHelper},function(e){b=e.LocalData},function(e){f=e.Utils},function(e){m=e.BaseUILayerFromMainPageCtrl},function(e){h=e.order_config}],execute:function(){var y,L,g,I,x,v,S,C,T,N,_,z,D,O,w;n._RF.push({},"54c34fsfnNLDIy3hdlHSAcF","OrderLayerCtrl",void 0);var A=o.ccclass,F=o.property;e("OrderLayerCtrl",(y=A("OrderLayerCtrl"),L=F(l),g=F(s),I=F(d),x=F(u),v=F(u),S=F(u),y((N=t((T=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(a(t),"icon",N,a(t)),i(a(t),"atlas",_,a(t)),i(a(t),"diamondNode",z,a(t)),i(a(t),"nameLabel",D,a(t)),i(a(t),"buttonLabel",O,a(t)),i(a(t),"desLabel",w,a(t)),t}r(t,e);var n=t.prototype;return n.start=function(){this.refresh()},n.refresh=function(){if(-1!=b.orderIndex&&h[b.orderIndex]){this.diamondNode.active=!1,this.icon.node.active=!0;var e=h[b.orderIndex];this.icon.spriteFrame=this.atlas.getSpriteFrame(e.type+e.index),this.nameLabel.string=b.getItemName(e.type,e.index)}else this.icon.node.active=!1,this.diamondNode.active=!0,this.nameLabel.string="钻石 + 500";if("notYet"==b.orderState)this.buttonLabel.string="立刻预约",this.desLabel.string="今日预约，明天登录即可领取";else{var t=dayjs().unix();f.offsetDay(b.orderTimeStamp,t)>=1?(this.buttonLabel.string="立刻领取",this.desLabel.string="昨日预约已生效，可领取礼物"):(this.buttonLabel.string="已经预约",this.desLabel.string="今日已预约，明天登录即可领取")}},n.onOrderButtonClick=function(){if(p.play("audio",c.CLICK_NORMAL_BUTTON),"notYet"==b.orderState)b.orderState="already",b.orderTimeStamp=dayjs().unix(),this.refresh(),f.popToast("恭喜你预约成功");else{var e=dayjs().unix();if(f.offsetDay(b.orderTimeStamp,e)>=1){if(this.buttonLabel.string="立刻领取",-1!=b.orderIndex&&h[b.orderIndex]){var t=h[b.orderIndex].type,r=h[b.orderIndex].index;0==b.itemUnlocked(t,r)?(b.addOrUnlockItem(t,r),b.equipItem(t,r),f.popToast("恭喜你领取了"+b.getItemName(t,r))):(b.diamond+=500,f.popToast("此奖励已解锁，替换给您500钻石作为奖励")),-1!=b.orderIndex&&(b.orderIndex++,b.orderIndex>=h.length&&(b.orderIndex=-1)),b.save()}else b.diamond+=500,f.popToast("恭喜你领取了500钻石");b.orderState="notYet",this.refresh()}else f.popToast("今日已预约，明日登录即可领取")}},t}(m)).prototype,"icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(T.prototype,"atlas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(T.prototype,"diamondNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(T.prototype,"nameLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(T.prototype,"buttonLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(T.prototype,"desLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=T))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/InterstitialLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,s,c,u,p,f,d,g,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Label,s=t.find,c=t.Component},function(t){u=t.PlatformJudge},function(t){p=t.CLIP},function(t){f=t.AudioHelper},function(t){d=t.LocalData},function(t){g=t.PlatformManager},function(t){y=t.Utils}],execute:function(){var h,C,L,m,I;r._RF.push({},"554b51zoFVA3KqKGrMb8+x9","InterstitialLayerCtrl",void 0);var b=a.ccclass,v=a.property;t("InterstitialLayerCtrl",(h=b("InterstitialLayerCtrl"),C=v(l),h((I=e((m=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(o(e),"title",I,o(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=["完美通过","天降福利","额外赠送"],e=Math.floor(Math.random()*t.length);this.title.string=t[e],u.isOppo&&(console.log("插屏出现，隐藏banner"),g.getInstance().hideBanner({}))},r.onGetButtonClick=function(){f.play("audio",p.CLICK_NORMAL_BUTTON),g.getInstance().vibrateShort("medium"),d.diamond+=100,s("bg/wxButton",this.node).active=!1,y.popToast("恭喜你领取了奖励")},r.onCloseButtonClick=function(){f.play("audio",p.CLICK_NORMAL_BUTTON),g.getInstance().vibrateShort("medium"),this.node.destroy()},r.onDestroy=function(){g.getInstance().triggerGC()},e}(c)).prototype,"title",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=m))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleColor.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./PlatformManager.ts","./ServantContainerCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(e){"use strict";var t,r,o,n,i,l,a,c,s,u,p,f,d,b,h,m,C,y,g,v,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty,l=e.createClass},function(e){a=e.cclegacy,c=e._decorator,s=e.Sprite,u=e.MeshRenderer,p=e.SpriteFrame,f=e.Material,d=e.Enum,b=e.find},function(e){h=e.CLIP},function(e){m=e.AudioHelper},function(e){C=e.MankindColor},function(e){y=e.PlatformManager},function(e){g=e.ServantContainerCtrl},function(e){v=e.HeroCtrl},function(e){_=e.ObstacleBase}],execute:function(){var P,O,w,S,z,F,R,M,k,B,H,A,D;a._RF.push({},"5a19cQNvNVBtr7ZC2gWQ4px","ObstacleColor",void 0);var E=c.ccclass,L=c.property;e("ObstacleColor",(P=E("ObstacleColor"),O=L(s),w=L(u),S=L(p),z=L([f]),F=L({type:d(C),tooltip:"小人的颜色"}),P((k=t((M=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,o(n(t),"body",k,n(t)),o(n(t),"meshRenderer",B,n(t)),o(n(t),"frames",H,n(t)),o(n(t),"mats",A,n(t)),o(n(t),"_color",D,n(t)),i(n(t),"effected",!0),t}r(t,e);var a=t.prototype;return a.onTriggerEnter=function(e){if(0!=this.effected&&(e.otherCollider&&e.otherCollider.node))return e.otherCollider.node.getComponent(v)?(this.effected=!1,void this.onPicked()):void 0},a.onPicked=function(){m.play("audio",h.PLUS_BUFFER),y.getInstance().vibrateShort("medium"),b("servantContainer").getComponent(g).resetFollowServantColor(this._color),b("hero").getComponent(v).setColor(this._color,!0)},l(t,[{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.body.spriteFrame=this.frames[e],this.meshRenderer.material=this.mats[e]}}]),t}(_)).prototype,"body",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(M.prototype,"meshRenderer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(M.prototype,"frames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(M.prototype,"mats",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(M.prototype,"_color",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.NONE}}),t(M.prototype,"color",[F],Object.getOwnPropertyDescriptor(M.prototype,"color"),M.prototype),R=M))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUILayerFromMainPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./BaseUILayerCtrl.ts"],(function(t){"use strict";var e,n,r,o,i,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.find},function(t){i=t.NotificationCenter,a=t.NCKeys},function(t){s=t.BaseUILayerCtrl}],execute:function(){var c;n._RF.push({},"5b6d1L0YVxMQIyTmOFsvnsl","BaseUILayerFromMainPageCtrl",void 0);var u=r.ccclass;r.property,t("BaseUILayerFromMainPageCtrl",u("BaseUILayerFromMainPageCtrl")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onOutActionFinish=function(){t.prototype.onOutActionFinish.call(this),i.postNotice(a.MAIN_PAGE_PLAY_IN_ACTION,null),o("Canvas/touchForMoveNode").active=!0},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUILayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./PlatformManager.ts"],(function(t){"use strict";var n,i,e,o,a,r,c,l,u,s,p,f,y,h,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.CCString,l=t.Animation,u=t.log,s=t.Component},function(t){p=t.CLIP},function(t){f=t.AudioHelper},function(t){y=t.NotificationCenter,h=t.NCKeys},function(t){m=t.PlatformManager}],execute:function(){var A,C,I,d,b,g,N,L,B;a._RF.push({},"5bf49jhCuNMYK5wPmOHGqDp","BaseUILayerCtrl",void 0);var _=r.ccclass,v=r.property;t("BaseUILayerCtrl",(A=_("BaseUILayerCtrl"),C=v({type:c}),I=v({type:c}),d=v({type:l}),A((N=n((g=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(o(n),"inActionName",N,o(n)),e(o(n),"outActionName",L,o(n)),e(o(n),"animation",B,o(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){},a.start=function(){},a.onEnable=function(){this.playInAction()},a.playInAction=function(){this.animation.play(this.inActionName)},a.onInActionFinish=function(){u("InActionFinish"),y.postNotice(h.BASEUILAYER_SHOW,{name:this.node.name,ctrl:this})},a.playOutAction=function(){this.animation.play(this.outActionName)},a.onOutActionFinish=function(){y.postNotice(h.BASEUILAYER_HIDE,{name:this.node.name,ctrl:this}),this.node.destroy()},a.onCloseButtonClick=function(){f.play("audio",p.CLICK_BACK_BUTTON),m.getInstance().vibrateShort("light"),this.playOutAction()},n}(s)).prototype,"inActionName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=n(g.prototype,"outActionName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=n(g.prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabelTicksCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LabelTickCtrl.ts","./LanguageConfig.ts"],(function(e){"use strict";var i,t,r,a,n,l,o,u,c,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,r=e.inheritsLoose,a=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.CCString,u=e.Component},function(e){c=e.LabelTickCtrl},function(e){s=e.LanguageConfig}],execute:function(){var f,p,g,b,y,h,L,k,C,T,m,x,d,v;n._RF.push({},"5bfc6dfFWRHC7XjAsazdqek","LanguageLabelTicksCtrl",void 0);var K=l.ccclass,z=l.property,w=(f=K("LanguageTickParam"),p=z(c),g=z({type:o}),b=z({type:o}),f((L=i((h=function(){t(this,"labelTick",L,this),t(this,"prefixKey",k,this),t(this,"suffixKey",C,this)}).prototype,"labelTick",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(h.prototype,"prefixKey",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=i(h.prototype,"suffixKey",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=h))||y);e("LanguageLabelTicksCtrl",(T=K("LanguageLabelTicksCtrl"),m=z([w]),T((v=i((d=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(a(i),"params",v,a(i)),i}return r(i,e),i.prototype.onLoad=function(){for(var e=0;e<this.params.length;e++){var i=this.params[e];i.prefixKey&&(i.labelTick.prefix=s.get(i.prefixKey)),i.suffixKey&&(i.labelTick.suffix=s.get(i.suffixKey))}},i}(u)).prototype,"params",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=d))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/HeroClothingCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./LocalData.ts","./Utils.ts"],(function(e){"use strict";var t,o,r,i,n,s,h,a,l,d,u,c,_,f,S,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.defineProperty},function(e){s=e.cclegacy,h=e._decorator,a=e.Node,l=e.Prefab,d=e.log,u=e.instantiate,c=e.Component},function(e){_=e.NotificationCenter,f=e.NCKeys},function(e){S=e.LocalData},function(e){p=e.Utils}],execute:function(){var v,I,N,C,g,x,b,y,H;s._RF.push({},"5dad72HeoNCYJca/sLZ4H5O","HeroClothingCtrl",void 0);var O=h.ccclass,A=h.property;e("HeroClothingCtrl",(v=O("HeroClothingCtrl"),I=A(a),N=A(a),C=A(a),v((b=t((x=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),h=0;h<o;h++)s[h]=arguments[h];return t=e.call.apply(e,[this].concat(s))||this,r(i(t),"headNode",b,i(t)),r(i(t),"leftFootNode",y,i(t)),r(i(t),"rightFootNode",H,i(t)),n(i(t),"_curHatIndex",-1),n(i(t),"_curShoesIndex",-1),t}o(t,e);var s=t.prototype;return s.onEnable=function(){_.addObserver(f.LOCALDATA_HAT_INDEX,this.onHatIndex,this),_.addObserver(f.LOCALDATA_SHOES_INDEX,this.onShoesIndex,this),_.addObserver(f.TRY_OUT_SUCESS,this.onTryOutClothes,this),_.addObserver(f.RESET_GAME,this.reset,this),this.reset()},s.onDisable=function(){_.removeObserver(f.LOCALDATA_HAT_INDEX,this),_.removeObserver(f.LOCALDATA_SHOES_INDEX,this),_.removeObserver(f.TRY_OUT_SUCESS,this),_.removeObserver(f.RESET_GAME,this)},s.reset=function(){this.onHatIndex(S.curHatIndex),this.onShoesIndex(S.curShoesIndex)},s.onHatIndex=function(e){var t=this;if(-1==e)return this._hatNode&&this._hatNode.destroy(),this._hatNode=null,void(this._curHatIndex=-1);var o=e;this._curHatIndex=e,p.loadResWithCorrection("hat/hat"+o,l,(function(e,r){if(e)return d(e);o==t._curHatIndex&&(t._hatNode&&t._hatNode.destroy(),t._hatNode=u(r),t._hatNode.parent=t.headNode)}))},s.onShoesIndex=function(e){var t=this;if(-1==e)return this._leftShoes&&this._leftShoes.destroy(),this._rightShoes&&this._rightShoes.destroy(),this._leftShoes=null,this._rightShoes=null,void(this._curShoesIndex=-1);var o=e;this._curShoesIndex=o,p.loadResWithCorrection("shoes/shoes"+o+"_left",l,(function(e,r){if(e)return d(e);o==t._curShoesIndex&&(t._leftShoes&&t._leftShoes.destroy(),t._leftShoes=u(r),t._leftShoes.parent=t.leftFootNode)})),p.loadResWithCorrection("shoes/shoes"+o+"_right",l,(function(e,r){if(e)return d(e);o==t._curShoesIndex&&(t._rightShoes&&t._rightShoes.destroy(),t._rightShoes=u(r),t._rightShoes.parent=t.rightFootNode)}))},s.onTryOutClothes=function(e){var t=e.hatIndex,o=e.shoesIndex;this.onHatIndex(t),this.onShoesIndex(o)},t}(c)).prototype,"headNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(x.prototype,"leftFootNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(x.prototype,"rightFootNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=x))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/NativeNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./PlatformNotify.ts","./AudioHelper.ts","./PlatformManager.ts","./Utils.ts"],(function(e){"use strict";var t,i,o,n,a,r,s,l,d,c,f,u,v,p,h,g,m,N,b,I,O,y,A;return{setters:[function(e){t=e.defineProperty,i=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,d=e.Sprite,c=e.Label,f=e.find,u=e.Tween,v=e.Vec3,p=e.isValid,h=e.UITransform,g=e.Widget,m=e.Component},function(e){N=e.PlatformJudge},function(e){b=e.CLIP},function(e){I=e.PlatformNotify},function(e){O=e.AudioHelper},function(e){y=e.PlatformManager},function(e){A=e.Utils}],execute:function(){var C,w,L,_,S,D,H,T,W,B,P,V,k,z,M;r._RF.push({},"5ded5voDw9Lw6Cqxtlxg7CC","NativeNodeCtrl",void 0);var E=s.ccclass,U=s.property;e("NativeNodeCtrl",(C=E("NativeNodeCtrl"),w=U(l),L=U(l),_=U(d),S=U(c),D=U(l),C((M=z=function(e){function i(){for(var i,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(a(i),"imageBg",W,a(i)),n(a(i),"market",B,a(i)),n(a(i),"image",P,a(i)),n(a(i),"desLabel",V,a(i)),n(a(i),"closeNode",k,a(i)),t(a(i),"data",null),i}o(i,e);var r=i.prototype;return r.onLoad=function(){var e=this;i.selfShowTimeStamp=dayjs().unix(),i.instance=this;var t=f("lookButton",this.node);t&&new u(t).to(.5,{scale:new v(.9,.9,.9)}).to(.5,{scale:new v(1.1,1.1,1.1)}).union().repeatForever().start();if(N.isOppo||N.isVivo||N.isMZ){var o=y.getInstance().getNativeAdInfo({pos:"interstitial"});o?this.refresh(o):(this.node.active=!1,I.addObserver(I.NATIVE_AD_LOADED,(function(){if(I.removeObserver(I.NATIVE_AD_LOADED,e),p(e.node)){var t=y.getInstance().getNativeAdInfo({pos:"interstitial"});t&&e.refresh(t)}}),this),y.getInstance().tryLoadNativeAdInfo({pos:"interstitial"}),console.log("因为native不够了，现在再拉取一次"))}else N.isHW&&(this.node.active=!1,y.getInstance().getNativeAdInfo({asyncCb:function(t){p(e.node)&&(t?(e.node.active=!0,e.refresh(t),I.removeObserver(I.ON_SHOW,e),I.addObserver(I.ON_SHOW,e.onGameShow,e)):console.log("NativeNodeCtrl native拉取不到数据"))},pos:"interstitial"}))},r.onDestroy=function(){I.removeObserver(I.NATIVE_AD_LOADED,this),I.removeObserver(I.ON_SHOW,this),y.getInstance().tryLoadNativeAdInfo({pos:"interstitial"}),i.instance=null},r.onGameShow=function(){var e=this;0!=this.node.active&&N.isHW&&(this.node.active=!1,y.getInstance().getNativeAdInfo({asyncCb:function(t){p(e.node)&&(t?(console.log("nativeNodeCtrl onGameShow"),e.node.active=!0,e.refresh(t),I.removeObserver(I.ON_SHOW,e),I.addObserver(I.ON_SHOW,e.onGameShow,e)):console.log("native拉取不到数据"))},pos:"interstitial"}))},r.refresh=function(e){var t=this;if(this.data=e,this.node.active=!0,N.isOppo||N.isVivo||N.isHW||N.isMZ){var i=this.data.info.imgUrlList[0];A.loadAdIcon(this.image,i,(function(e,i){var o,n=288/i;t.image.node.scale=new v(n,n,n);var a=t.imageBg.getComponent(h);a.width=e*n+20,a.height=i*n+20,t.market.position=new v(e*n/2-25,i*n/2-18-13,0),null===(o=t.desLabel.getComponent(g))||void 0===o||o.updateAlignment()})),this.data.native.reportAdShow({adId:this.data.info.adId.toString()}),this.desLabel.string=this.data.info.desc||this.data.info.title,this.closeNode.active=N.isHW||N.isOppo||N.isVivo,console.log("原生广告展示成功了",this.data.info.adId)}},r.onSelfButtonClick=function(){if(O.play("audio",b.CLICK_NORMAL_BUTTON),this.data.native.reportAdClick({adId:this.data.info.adId.toString()}),N.isOppo||N.isVivo||N.isMZ){var e=y.getInstance().getNativeAdInfo({pos:"interstitial"});e?this.refresh(e):y.getInstance().tryLoadNativeAdInfo({pos:"interstitial"})}else N.isHW&&this.node.destroy()},r.onCloseButtonClick=function(){O.play("audio",b.CLICK_BACK_BUTTON),this.node.destroy()},i}(m),t(z,"instance",null),t(z,"selfShowTimeStamp",0),W=i((T=M).prototype,"imageBg",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(T.prototype,"market",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(T.prototype,"image",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(T.prototype,"desLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(T.prototype,"closeNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=T))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/mainPagePushNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./HtsHelper.ts","./AudioCtrl.ts","./AudioHelper.ts","./MutualPushItemCtrl.ts","./MainPageCtrl.ts"],(function(e){"use strict";var t,n,o,r,i,a,l,s,u,c,d,f,p,g,m,P,C,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Node,s=e.Prefab,u=e.Tween,c=e.Vec3,d=e.find,f=e.instantiate,p=e.Component},function(e){g=e.PlatformJudge},function(e){m=e.HtsHelper},function(e){P=e.CLIP},function(e){C=e.AudioHelper},function(e){h=e.MutualPushItemCtrl},function(e){y=e.MainPageCtrl}],execute:function(){var b,H,I,v,w,N,A,M,L;i._RF.push({},"5ec1eYnV3tHP5BsQgZwUMNo","mainPagePushNodeCtrl",void 0);var B=a.ccclass,_=a.property;e("MainPagePushNodeCtrl",(b=B("MainPagePushNodeCtrl"),H=_(h),I=_(l),v=_(s),b((A=t((N=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(r(t),"iconItemCtrl",A,r(t)),o(r(t),"moreNode",M,r(t)),o(r(t),"moreGameLayerPrefab",L,r(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){g.isWX||"dev"==g.getPlatformName()||this.node.destroy()},i.start=function(){new u(this.iconItemCtrl.node).to(.1,{eulerAngles:new c(0,0,25)}).to(.1,{eulerAngles:new c(0,0,-25)}).to(.1,{eulerAngles:new c(0,0,25)}).to(.1,{eulerAngles:new c(0,0,-25)}).to(.1,{eulerAngles:new c(0,0,0)}).delay(2).union().repeatForever().start()},i.onEnable=function(){(g.isWX||"dev"==g.getPlatformName())&&this.onHtsInitedFinish()},i.onHtsInitedFinish=function(){console.log("再次拉取互推数据");m.getHtsIds().iconBid;console.log("准备拉取iconBid");m.getHtsIds().moreBid,m.getHtsIds().toolBid},i.onMoreButtonClick=function(){C.play("audio",P.CLICK_NORMAL_BUTTON),d("Canvas/mainPage").getComponent(y).playOutAction(),f(this.moreGameLayerPrefab).parent=d("Canvas")},t}(p)).prototype,"iconItemCtrl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(N.prototype,"moreNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(N.prototype,"moreGameLayerPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=N))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/YangQunHeroTest.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,c,u,h,_;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,c=t.Vec3,u=t.RigidBody,h=t.Component},function(t){_=t.Config}],execute:function(){var g,T,l,p,O,R,d;s._RF.push({},"5efd9yJUahJaoNipYRN98Fv","YangQunHeroTest",void 0);var f=a.ccclass,y=a.property,I=new c;t("YangQunHeroTest",(g=f("YangQunHeroTest"),T=y(u),g((d=R=function(t){function i(){for(var i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(r(i),"rigidBody",O,r(i)),e(r(i),"_touchStartX",-100),e(r(i),"_touchTargetX",-100),i}o(i,t);var s=i.prototype;return s.start=function(){},s.update=function(t){if(this.rigidBody.getLinearVelocity(I),I.z=-_.constant.VERTICAL_SPEED,I.x=0,this.rigidBody.setLinearVelocity(new c(I)),this.node.getPosition(I),-100!=this._touchTargetX){var e=t*_.constant.HORIZONTAL_SPEED,o=this._touchTargetX-I.x;Math.abs(o)<=e?(I.x=this._touchTargetX,this._touchTargetX=-100):o>0?I.x+=e:I.x-=e,I.x<-_.constant.FLOOR_WIDTH/2?I.x=-_.constant.FLOOR_WIDTH/2:I.x>_.constant.FLOOR_WIDTH/2&&(I.x=_.constant.FLOOR_WIDTH/2),this.node.setPosition(new c(I))}i.HERO_POSITION_ARRAY.push({x:I.x,y:I.y,z:I.z}),i.HERO_POSITION_ARRAY.length>200&&i.HERO_POSITION_ARRAY.shift()},s.setTouchStartX=function(){this._touchStartX=this.node.position.x,this._touchTargetX=this._touchTargetX},s.setTouchTargetX=function(t){this._touchTargetX=this._touchStartX+t},i}(h),e(R,"HERO_POSITION_ARRAY",[]),O=i((p=d).prototype,"rigidBody",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./hat_config.ts","./shoes_config.ts","./cannon_config.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,c,h,l,d,u,g,f,v,p,y,C,N,L,b,A,O,T,P,k,I,w,_,m,R,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,h=e.find,l=e.Label,d=e.Layout,u=e.UITransform,g=e.view,f=e.Vec3,v=e.Tween,p=e.Prefab,y=e.log,C=e.instantiate},function(e){N=e.PlatformJudge},function(e){L=e.CLIP},function(e){b=e.AudioHelper},function(e){A=e.Config},function(e){O=e.NotificationCenter,T=e.NCKeys},function(e){P=e.hat_config},function(e){k=e.shoes_config},function(e){I=e.cannon_config},function(e){w=e.LocalData},function(e){_=e.RemoteConfig},function(e){m=e.PlatformManager},function(e){R=e.BaseUILayerCtrl},function(e){S=e.Utils}],execute:function(){var F,B,M,K,D,U,Q,z,E,G,W,V,H,x,X;r._RF.push({},"5fd073HJd1IPKckadpjRp94","MainPageCtrl",void 0);var j=s.ccclass,J=s.property,Y=368;e("MainPageCtrl",(F=j("MainPageCtrl"),B=J(c),M=J(c),K=J(c),D=J(c),U=J([c]),Q=J([c]),F((G=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(o(t),"leftNode",G,o(t)),n(o(t),"rightNode",W,o(t)),n(o(t),"diamondNode",V,o(t)),n(o(t),"keyNodes",H,o(t)),n(o(t),"pickedKeyNodes",x,o(t)),n(o(t),"redPoints",X,o(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){var e,t,i=this;0==m.getInstance().hadShareAbility()&&(h("left/share",this.node).active=!1);0==m.getInstance().hadCollectAbility()&&(h("left/collect",this.node).active=!1);0==m.getInstance().hadColorSignAbility()&&(h("left/colorSign",this.node).active=!1);N.isOppo||N.isHW||N.isQQ||(h("left/privacy",this.node).active=!1);if(N.isOppo||N.isVivo||N.isQQ){var n=h("left/collect/collectLabel",this.node).getComponent(l);n.string="添\n加\n桌\n面",n.fontSize=20,n.lineHeight=24}m.getInstance().addRemoteInitFinishListener((function(){if(!N.isWX&&!N.isQQ||_.bannerInGrab){var e=h("right/grab",i.node),t=h("clothes",e),n=h("red",e);e.active=!0,i.shakeRedPoint(t),i.shakeRedPoint(n)}})),null===(e=this.leftNode.getComponent(d))||void 0===e||e.updateLayout();var o=((null===(t=this.leftNode.getComponent(u))||void 0===t?void 0:t.height)||0)+150,a=g.getVisibleSize();if(a.height-Y<o){var r=(a.height-Y)/o;this.leftNode.scale=new f(r,r,r)}if(a.height-Y-A.ui.TOP_OFFSET<846){var s=(a.height-Y-A.ui.TOP_OFFSET)/846;this.rightNode.scale=new f(s,s,s)}(this.shakeRedPoint(this.redPoints[0]),this.shakeRedPoint(this.redPoints[1]),this.shakeRedPoint(this.redPoints[2]),this.shakeRedPoint(this.redPoints[3]),this.shakeRedPoint(this.redPoints[4]),this.refreshGrabButtonState(),N.isWX||N.isQQ)||(h("right/grab",this.node).position=new f(-121,570,0))},r.onEnable=function(){for(var e=0;e<this.pickedKeyNodes.length;e++)this.pickedKeyNodes[e].active=w.pickKeyNum>e;O.addObserver(T.MAIN_PAGE_PLAY_IN_ACTION,this.playInAction,this),O.addObserver(T.LOCALDATA_DIAMOND,this.onDiamondChanged,this)},r.onDisable=function(){O.removeObserver(T.MAIN_PAGE_PLAY_IN_ACTION,this),O.removeObserver(T.LOCALDATA_DIAMOND,this)},r.refreshGrabButtonState=function(){if(!N.isWX&&!N.isQQ){var e=h("right/grab",this.node),t=h("video",e);if(!w.grabFree){t.active=!0;var i=h("label",e);i.position=new f(16,-55,0);var n=i.getComponent(l);n.fontSize=15,n.lineHeight=20}}},r.playInAction=function(){this.redPoints[0].active=this.shareRedPointActive,this.redPoints[1].active=this.signinRedPointActive,this.redPoints[2].active=this.giftRedPointActive,this.redPoints[3].active=this.colthesRedPointActive,this.redPoints[4].active=this.orderRedPointActive;for(var e=0;e<this.pickedKeyNodes.length;e++)this.pickedKeyNodes[e].active=w.pickKeyNum>e;var t=.5,i=g.getVisibleSize();if(w.levelIndex>0){this.leftNode.active=!0,this.rightNode.active=!0,this.leftNode.position=new f(-620,Y-i.height/2,0),this.rightNode.position=new f(620,Y-i.height/2,0),v.stopAllByTarget(this.leftNode);var n=new v(this.leftNode);n.to(t,{position:new f(-320,Y-i.height/2,0)},{easing:"backOut"}).start(),v.stopAllByTarget(this.rightNode),(n=new v(this.rightNode)).to(t,{position:new f(320,Y-i.height/2,0)},{easing:"backOut"}).start(),h("QQIconNode",this.rightNode).active=!0}else this.leftNode.active=!1,this.rightNode.active=!1;this.diamondNode.position=new f(453,i.height/2-A.ui.TOP_OFFSET,0),this.keyNodes.position=new f(0,i.height/2+A.ui.TOP_OFFSET,0),v.stopAllByTarget(this.diamondNode);var o=new v(this.diamondNode);o.to(t,{position:new f(253,i.height/2-A.ui.TOP_OFFSET,0)},{easing:"backOut"}).start(),v.stopAllByTarget(this.keyNodes),(o=new v(this.keyNodes)).to(t,{position:new f(0,i.height/2-A.ui.TOP_OFFSET,0)},{easing:"backOut"}).start()},r.playOutAction=function(e){var t=this;void 0===e&&(e=!1);var i=.3,n=g.getVisibleSize();if(this.leftNode.active){this.leftNode.position=new f(-320,Y-n.height/2,0),this.rightNode.position=new f(320,Y-n.height/2,0),v.stopAllByTarget(this.leftNode);var o=new v(this.leftNode);o.to(i,{position:new f(-620,Y-n.height/2,0)},{easing:"backIn"}).start(),v.stopAllByTarget(this.rightNode),(o=new v(this.rightNode)).to(i,{position:new f(620,Y-n.height/2,0)},{easing:"backIn"}).start(),h("QQIconNode",this.rightNode).active=!1}this.diamondNode.position=new f(253,n.height/2-A.ui.TOP_OFFSET,0),this.keyNodes.position=new f(0,n.height/2-A.ui.TOP_OFFSET,0),v.stopAllByTarget(this.diamondNode);var a=new v(this.diamondNode);a.to(i,{position:new f(453,n.height/2-A.ui.TOP_OFFSET,0)},{easing:"backIn"}).start(),v.stopAllByTarget(this.keyNodes),(a=new v(this.keyNodes)).to(i,{position:new f(0,n.height/2+A.ui.TOP_OFFSET,0)},{easing:"backIn"}).start(),e&&this.scheduleOnce((function(){t.node.active=!1}),.7)},r.onDiamondChanged=function(){this.redPoints[3].active=this.colthesRedPointActive},r.onOrderButtonClick=function(){var e=this;b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),h("Canvas/orderLayer")||S.loadResWithCorrection("pages/orderLayer/orderLayer",p,(function(t,i){if(0!=e.node.active){if(t)return y(t);if(!h("Canvas/orderLayer"))C(i).parent=h("Canvas"),e.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}))},r.onCollectButtonClick=function(){var e,t=this;(b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),h("Canvas/collectLayer"))||(N.isOppo||N.isVivo||N.isQQ?m.getInstance().tryShortcutIndesktop((function(e,t){e?(S.popToast("添加桌面成功, 获得500钻石奖励"),w.diamond+=500,w.save()):S.popToast(t)})):(e=N.isWX?"pages/collectLayer/collectLayerwx":N.isTT?"pages/collectLayer/collectLayertt":"pages/collectLayer/collectLayerwx",S.loadResWithCorrection(e,p,(function(e,i){if(0!=t.node.active){if(e)return y(e);if(!h("Canvas/collectLayer")){var n=C(i);n.name="collectLayer",n.parent=h("Canvas"),t.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}}))))},r.onShareButtonClick=function(){var e=this;b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),h("Canvas/shareLayer")||S.loadResWithCorrection("pages/shareLayer/shareLayer",p,(function(t,i){if(0!=e.node.active){if(t)return y(t);if(!h("Canvas/shareLayer"))C(i).parent=h("Canvas"),e.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}))},r.onSiginButtonClick=function(){var e=this;b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),h("Canvas/signinLayer")||S.loadResWithCorrection("pages/signinLayer/signinLayer",p,(function(t,i){if(0!=e.node.active){if(t)return y(t);if(!h("Canvas/signinLayer"))C(i).parent=h("Canvas"),e.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}))},r.onFreeButtonClick=function(){var e=this;b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),h("Canvas/freeLayer")||S.loadResWithCorrection("pages/freeLayer/freeLayer",p,(function(t,i){if(0!=e.node.active){if(t)return y(t);if(!h("Canvas/freeLayer"))C(i).parent=h("Canvas"),e.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}))},r.onShopButtonClick=function(){var e=this;b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),h("Canvas/shopLayer")||S.loadResWithCorrection("pages/shopLayer/shopLayer",p,(function(t,i){if(0!=e.node.active){if(t)return y(t);if(!h("Canvas/shopLayer"))C(i).parent=h("Canvas"),e.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}))},r.onColorSignButtonClick=function(){b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),m.getInstance().addColorSign()},r.onGrabButtonClick=function(){b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light");var e=h("right/grab",this.node);0==h("video",e).active?(this.popGrabLayer(),w.grabFree=!1,this.refreshGrabButtonState()):m.getInstance().showVideo({},this.onGrabVideoComplete.bind(this))},r.onGrabVideoComplete=function(e,t){e?this.popGrabLayer():S.popToast(t)},r.popGrabLayer=function(){var e=this;S.loadResWithCorrection("pages/grabLayer/grabLayer",p,(function(t,i){if(0!=e.node.active){if(t)return y(t);if(!h("Canvas/grabLayer"))C(i).parent=h("Canvas"),e.playOutAction(),h("Canvas/touchForMoveNode").active=!1}}))},r.onPrivacyButtonClick=function(){b.play("audio",L.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),S.loadResWithCorrection("pages/privacyLayer/privacyDetailLayer",p,(function(e,t){if(e)return y(e);h("Canvas/privacyDetailLayer")||(C(t).parent=h("Canvas"))}))},r.shakeRedPoint=function(e){var t=new v(e);t.to(.1,{eulerAngles:new f(0,0,45)}).to(.1,{eulerAngles:new f(0,0,-45)}).to(.1,{eulerAngles:new f(0,0,45)}).to(.1,{eulerAngles:new f(0,0,-45)}).to(.1,{eulerAngles:new f(0,0,0)}).delay(3).union().repeatForever().start(),(t=new v(e)).to(.1,{scale:new f(1.1,1.1,1.1)}).delay(.3).to(.1,{scale:new f(1,1,1)}).delay(3).union().repeatForever().start()},a(t,[{key:"colthesRedPointActive",get:function(){if(w.diamond<2500)return!1;for(var e=0;e<P.length;e++)if("daimond"==P[e].access&&0==w.hatUnlocked(e))return!0;for(var t=0;t<k.length;t++)if("daimond"==k[t].access&&0==w.shoesUnlocked(t))return!0;for(var i=0;i<I.length;i++)if("daimond"==I[i].access&&0==w.cannonUnlocked(i))return!0;return!0}},{key:"giftRedPointActive",get:function(){return w.freeCount<5}},{key:"signinRedPointActive",get:function(){var e=w.signinGetTime,t=S.offsetDay(e,S.getCurTime());return!!(t<0||t>=1||w.signinAnotherReward)}},{key:"shareRedPointActive",get:function(){return w.todayShareSucessTime<5}},{key:"orderRedPointActive",get:function(){if("notYet"==w.orderState)return!0;var e=dayjs().unix();return S.offsetDay(w.orderTimeStamp,e)>=1}}]),t}(R)).prototype,"leftNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(E.prototype,"rightNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(E.prototype,"diamondNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(E.prototype,"keyNodes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(E.prototype,"pickedKeyNodes",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(E.prototype,"redPoints",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=E))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/TryOutNativeNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./Utils.ts","./NativeNodeCtrl.ts"],(function(t){"use strict";var i,e,o,r,a,n,s,c,l,d,u,h,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,s=t.CCFloat,c=t.UITransform,l=t.view,d=t.Vec3},function(t){u=t.PlatformJudge},function(t){h=t.Utils},function(t){f=t.NativeNodeCtrl}],execute:function(){var p,g,v,N,y;a._RF.push({},"608d23jf09O/5b/8Q9DfFBD","TryOutNativeNodeCtrl",void 0);var m=n.ccclass,w=n.property;t("TryOutNativeNodeCtrl",(p=m("TryOutNativeNodeCtrl"),g=w(s),p((y=i((N=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return i=t.call.apply(t,[this].concat(a))||this,o(r(i),"imageHeight",y,r(i)),i}return e(i,t),i.prototype.refresh=function(t){var i=this;if(this.data=t,this.node.active=!0,u.isOppo||u.isVivo||u.isHW||u.isMZ){var e=this.data.info.imgUrlList[0];h.loadAdIcon(this.image,e,(function(t,e){var o=i.image.getComponent(c),r=l.getVisibleSize();o.height=r.width/(t/e),i.market.position=new d(o.width/2-25,o.height/2-13,0),i.closeNode.position=new d(-o.width/2+17,o.height/2-17,0)})),this.data.native.reportAdShow({adId:this.data.info.adId.toString()}),this.closeNode.active=u.isHW||u.isOppo||u.isVivo,console.log("原生广告展示成功了",this.data.info.adId)}},i}(f)).prototype,"imageHeight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=N))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterWX.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts","./Utils.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,c,h;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,r=e.view},function(e){a=e.PlatformNotify},function(e){s=e.AdapterBase},function(e){c=e.PlatformConfig},function(e){h=e.Utils}],execute:function(){i._RF.push({},"60e485uttRPpKEQKofdbRib","AdapterWX",void 0);e("AdapterWX",function(e){function i(){var t;return t=e.call(this)||this,n(o(t),"_video",null),n(o(t),"_bottomBanner",null),n(o(t),"_bottomBannerShowed",!1),n(o(t),"_bottomBannerInViewed",!0),n(o(t),"_bottomBannerLeft",-1),n(o(t),"_bottomBannerTop",-1),n(o(t),"_bannerWidth",.9),n(o(t),"_interstitial",null),n(o(t),"_grid",null),n(o(t),"_gameBanner",null),n(o(t),"_gameBannerBottomBorder",-1),n(o(t),"_gameBannerTopBorder",-1),n(o(t),"_gameIcon",null),n(o(t),"_gameIconLeftBorder",-1),n(o(t),"_gameIconBottomBorder",-1),n(o(t),"_gameClubButton",null),n(o(t),"_customAd",null),t._initOther(),t._createVideo(),t._createBanner(),console.log("AdapterWX 初始化成功了"),t}t(i,e);var s=i.prototype;return s._initOther=function(){window.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),window.wx.aldOnShareAppMessage?window.wx.aldOnShareAppMessage((function(){return{title:c.wx.shareTitle,imageUrl:c.wx.shareImage}})):window.wx.onShareAppMessage((function(){return{title:c.wx.shareTitle,imageUrl:c.wx.shareImage}})),window.wx.onShareTimeline&&window.wx.onShareTimeline((function(){return{title:c.wx.shareTitle,imageUrl:c.wx.shareImage}}))},s._createVideo=function(){var e=this;if(!c.wx.videoId)return console.log("PlatformConfig.wx.videoId 的配置为空。跳过创建video广告");this._video=wx.createRewardedVideoAd({adUnitId:c.wx.videoId}),this._video.onLoad((function(){console.log("激励视频 广告加载成功")})),this._video.onError((function(e){console.log("激励视频 广告加载失败",e)})),this._video.onClose((function(t){t&&t.isEnded||void 0===t?(e._cb&&e._cb(!0),e._cb=null):(e._cb&&e._cb(!1,"观看完整视频广告才能获得奖励"),e._cb=null)}))},s.showVideo=function(e,t){var n=this;this._cb=t;var o=this._video;if(null==o)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");var i=o.show({branchId:e.branchId,branchDim:e.branchDim});i&&i.catch((function(t){o.load().then((function(){o.show({branchId:e.branchId,branchDim:e.branchDim})}),(function(){n._cb&&n._cb(!1,"暂无广告"),n._cb=null}))}))},s._createBanner=function(){var e=this,t=r.getVisibleSize(),n=wx.createBannerAd({adUnitId:c.wx.bottomBannerId,adIntervals:30,style:i.convertToWXStyle(t.width/2,50,t.width*this._bannerWidth,100)});n.onLoad((function(){console.log("banner 广告加载成功")})),n.onError((function(e){console.log("banner 加载失败",e)})),n.onResize((function(t){console.log(t.width,t.height),console.log(n.style.realWidth,n.style.realHeight);var o=window.wx.getSystemInfoSync(),i=o.screenWidth,r=o.screenHeight;Math.abs(r-n.style.realHeight-n.style.top)>=5&&(e._bottomBannerTop=r-n.style.realHeight,e._bottomBannerInViewed&&(n.style.top=e._bottomBannerTop)),Math.abs((i-n.style.realWidth)/2-n.style.left)>=5&&(e._bottomBannerLeft=(i-n.style.realWidth)/2,e._bottomBannerInViewed&&(n.style.left=e._bottomBannerLeft))})),this._bottomBanner=n},s.showBanner=function(e){var t=this;null==this._bottomBanner?(this._createBanner(),setTimeout((function(){t.showBanner(e)}),2)):this._bottomBanner.show().then((function(){var e=window.wx.getSystemInfoSync(),n=(e.screenWidth,e.screenHeight),o=r.getVisibleSize().height/n,i=t._bottomBanner.style.realHeight*o;a.postNotice(a.BANNER_SHOW_HEIGHT,{height:i})})).catch((function(){console.log("Banner 显示失败 摧毁banner"),t._bottomBanner.destroy(),t._bottomBanner=null}))},s.hideBanner=function(e){if(!this._bottomBanner)return this._createBanner();e.tryDestroy?(this._bottomBanner.destroy(),this._bottomBanner=null,this._createBanner()):this._bottomBanner.hide(),a.postNotice(a.BANNER_SHOW_HEIGHT,{height:0})},s.inViewBanner=function(){this._bottomBannerInViewed=!0,this._bottomBanner?(this._bottomBanner.style.left=this._bottomBannerLeft,this._bottomBanner.style.top=this._bottomBannerTop):this._createBanner()},s.outViewBanner=function(){if(this._bottomBannerInViewed=!1,this._bottomBanner){var e=window.wx.getSystemInfoSync(),t=e.screenWidth;e.screenHeight;this._bottomBanner.style.left=t+1}else this._createBanner()},s._createInterstitialAd=function(){if(!c.wx.interstitialId)return console.log("PlatformConfig.wx.interstitialId 为空。跳过创建插屏广告");this._interstitial=wx.createInterstitialAd({adUnitId:c.wx.interstitialId}),this._interstitial.onLoad((function(){console.log("插屏广告加载成功")})),this._interstitial.onError((function(e){console.log("插屏创建失败,",e)}))},s.showInterstitialAd=function(e){this._interstitial&&this._interstitial.show().catch((function(e){console.error("插屏广告展现失败了",e)}))},s._createGridAd=function(){if(!c.wx.gridId)return console.log("PlatformConfig.wx.gridId 为空。跳过创建格子广告");var e=r.getVisibleSize(),t=i.convertToWXStyle(e.width/2,e.height/2,e.width/2,e.height/2);this._grid=wx.createGridAd({adUnitId:c.wx.gridId,adTheme:"black",adIntervals:30,gridCount:9,style:t}),this._grid.onLoad((function(){console.log("格子广告加载成功")})),this._grid.onError((function(e){console.log("格子广告加载失败了",e)}))},s.showGridAd=function(){this._grid&&this._grid.show().catch((function(e){console.log("格子广告show出错",e)}))},i.convertToWXStyle=function(e,t,n,o){var i=window.wx.getSystemInfoSync(),r=(i.screenWidth,i.screenHeight),a=cc.view.getVisibleSize().height/r,s=n/a,c=o/a;return{left:e/a-s/2,top:r-t/a-c/2,width:s,height:c}},s.trackEvent=function(e,t){wx.reportUserBehaviorBranchAnalytics(t)},s.showGameBanner=function(e){var t=this;if(this._gameBanner)return console.log("gameBanner 已经存在了");this._gameBannerBottomBorder=void 0!==e.bottomBorder?e.bottomBorder:-1,this._gameBannerTopBorder=void 0!==e.topBorder?e.topBorder:-1;var n=window.wx.getSystemInfoSync();n.screenWidth,n.screenHeight;this._gameBanner=wx.createGameBanner({adUnitId:c.wx.gameBannerId,style:{left:0,top:0}}),this._gameBanner.onLoad((function(){t._gameBanner.show().catch((function(e){console.log("gameBanner show failed",e)})),t._gameBanner.style.left=0})),this._gameBanner.onError((function(e){console.log("gameBanner onError",e)}));var o=function(){console.log("gameBanner resize",this);var e=window.wx.getSystemInfoSync(),t=e.screenWidth,n=e.screenHeight,o=cc.view.getVisibleSize().height/n;if(!(Math.abs(t-(this._gameBanner.style.width+2*this._gameBanner.style.left))<=5))if(-1!=this._gameBannerTopBorder){var i=n-this._gameBannerTopBorder/o,r=(t-this._gameBanner.style.width)/2;this._gameBanner.style.left=r,this._gameBanner.style.top=i}else{var a=n-this._gameBannerBottomBorder/o,s=(t-this._gameBanner.style.width)/2;this._gameBanner.style.left=s,this._gameBanner.style.top=a+this._gameBanner.style.height}}.bind(this);this._gameBanner.onResize(o)},s.hideGameBanner=function(e){this._gameBanner&&this._gameBanner.destroy(),this._gameBanner=null,this._gameBannerBottomBorder=-1,this._gameBannerTopBorder=-1},s.showGameIcon=function(e){var t=this;if(this._gameIcon)return console.log("gameIcon 已经显示了");for(var n=window.wx.getSystemInfoSync(),o=(n.screenWidth,n.screenHeight),i=r.getVisibleSize().height/o,a=e.size/i,s=[],h=e.leftBorder/i,l=o-e.bottomBorder/i,d=0;d<e.count;d++)s.push({appNameHidden:!1,color:"#FFFFFFFF",size:a,borderColor:"#00000000",left:h+1.5*d*a,top:l-a});this._gameIcon=wx.createGameIcon({adUnitId:c.wx.gameIconId,count:e.count,style:s}),this._gameIcon.onLoad((function(){t._gameIcon.show()})),this._gameIcon.onError((function(e){console.log("gameIcon error",e)}))},s.hideGameIcon=function(e){this._gameIcon&&this._gameIcon.destroy(),this._gameIcon=null},s.share=function(e,t){"wx"==t.type?(wx.shareAppMessage({title:c.wx.shareTitle,imageUrl:c.wx.shareImage}),setTimeout((function(){Math.random()>.7?e&&e(!1,"分享失败"):e&&e(!0),e=null}),2e3)):h.popToast("当前微信不能主动分享到朋友圈")},s.showGameClub=function(e){var t=i.convertToWXStyle(e.center.x,e.center.y,e.size,e.size);console.log("showGameClub",t),this._gameClubButton=wx.createGameClubButton({type:"image",style:t,icon:"light"}),this._gameClubButton.show()},s.showCustomAd=function(e){var t=this;if(this._customAd)return console.log("原生广告位置已经展示了");var n=i.convertToWXStyle(e.center.x,e.center.y,e.width,e.height);this._customAd=wx.createCustomAd({adUnitId:c.wx.customAd,adIntervals:60,style:n}),console.log("customAd",this._customAd),this._customAd.onLoad((function(){t._customAd.show()})),this._customAd.onError((function(e){console.log("customAd onError",e);var n=t._customAd;t._customAd=null,setTimeout((function(){n.destroy()}),1e3)})),this._customAd.onClose((function(){console.log("customAd onClose");var e=t._customAd;t._customAd=null,setTimeout((function(){e.destroy()}),1e3)}))},s.hideCustomAd=function(){this._customAd&&this._customAd.destroy(),this._customAd=null},s.hadShareAbility=function(){return!0},s.hadCollectAbility=function(){return!0},s.vibrateShort=function(e){wx.vibrateShort({style:e})},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/DoorDeadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Deadly.ts"],(function(t){"use strict";var e,i,r,o,n,a,l,c,u,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Node,c=t.CCFloat,u=t.Tween,s=t.Vec3},function(t){p=t.Deadly}],execute:function(){var y,d,f,b,D,h,w,m,v,g,z;n._RF.push({},"68accrjtDdOn5eZhLz/lV23","DoorDeadly",void 0);var _=a.ccclass,F=a.property;t("DoorDeadly",(y=_("DoorDeadly"),d=F(l),f=F({type:c,tooltip:"门降下去(升起来)一次花费的时间"}),b=F({type:c,tooltip:"门降低到最底下的时候，会等待X秒在上来"}),D=F({type:c,tooltip:"门开始动作的延迟"}),y((m=e((w=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(o(e),"body",m,o(e)),r(o(e),"time",v,o(e)),r(o(e),"wait",g,o(e)),r(o(e),"delay",z,o(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.startAction()},n.startAction=function(){var t=this;this.scheduleOnce((function(){new u(t.body).to(t.time,{position:new s(0,-1,0)}).delay(t.wait).to(t.time,{position:new s(0,.75,0)}).union().repeatForever().start()}),this.delay)},e}(p)).prototype,"body",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(w.prototype,"time",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),g=e(w.prototype,"wait",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),z=e(w.prototype,"delay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),h=w))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBannerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./PlatformNotify.ts","./AudioHelper.ts","./PlatformManager.ts","./Utils.ts","./NativeNodeCtrl.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,l,c,p,d,u,f,v,h,g,b,m,N,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,l=t.Sprite,c=t.Label,p=t.UITransform,d=t.Vec3,u=t.isValid,f=t.Component},function(t){v=t.PlatformJudge},function(t){h=t.CLIP},function(t){g=t.PlatformNotify},function(t){b=t.AudioHelper},function(t){m=t.PlatformManager},function(t){N=t.Utils},function(t){I=t.NativeNodeCtrl}],execute:function(){var A,C,O,y,S,L,_,D,H,B,w;r._RF.push({},"6ad54NZhE5IoIGuCjZCI3Y8","NativeBannerCtrl",void 0);var P=s.ccclass,T=s.property;t("NativeBannerCtrl",(A=P("NativeBannerCtrl"),C=T(l),O=T(l),y=T(c),S=T(c),A((D=e((_=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(a(e),"iconSprite",D,a(e)),n(a(e),"imageSprite",H,a(e)),n(a(e),"appNameLabel",B,a(e)),n(a(e),"appDescLabel",w,a(e)),o(a(e),"data",null),e}i(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t){var e=this;if((v.isOppo||v.isHW)&&I.instance)return console.log("检测到当前有插屏，所以banner不出现了"),void(this.node.active=!1);if(this.data=t,v.isOppo||v.isVivo||v.isHW){var i=this.data.info.imgUrlList[0];N.loadAdIcon(this.imageSprite,i,(function(t,i){e.imageSprite.node.getComponent(p).contentSize;var n=90/i;e.imageSprite.node.scale=new d(n,n,n)})),this.data.native.reportAdShow({adId:this.data.info.adId.toString()}),this.appNameLabel.string=this.data.info.title,this.appDescLabel.string=this.data.info.desc||this.data.info.clickBtnTxt,v.isHW&&(g.removeObserver(g.ON_SHOW,this),g.addObserver(g.ON_SHOW,this.onGameShow,this))}},r.onGameShow=function(){var t=this;0!=this.node.active&&v.isHW&&(this.node.active=!1,m.getInstance().getNativeAdInfo({asyncCb:function(e){u(t.node)&&(e?(console.log("nativeBannerCtrl onGameShow"),t.node.active=!0,t.init(e)):console.log("没有拉取到新的数据"))},pos:"banner"}))},r.onCloseButtonClick=function(){b.play("audio",h.CLICK_BACK_BUTTON),this.node.active=!1,m.getInstance().tryLoadNativeAdInfo({pos:"banner"})},r.onSelfClick=function(){var t=this;if(b.play("audio",h.CLICK_NORMAL_BUTTON),v.isOppo||v.isVivo||v.isHW)if(this.data.native.reportAdClick({adId:this.data.info.adId.toString()}),v.isOppo||v.isVivo){var e=m.getInstance().getNativeAdInfo({pos:"banner"});e?this.init(e):(g.removeObserver(g.NATIVE_AD_LOADED,this),g.addObserver(g.NATIVE_AD_LOADED,(function(){var e=m.getInstance().getNativeAdInfo({pos:"banner"});e&&t.init(e)}),this),m.getInstance().tryLoadNativeAdInfo({}))}else v.isHW&&(this.node.active=!1)},r.onDestroy=function(){g.removeObserver(g.NATIVE_AD_LOADED,this),g.removeObserver(g.ON_SHOW,this)},e}(f)).prototype,"iconSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(_.prototype,"imageSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(_.prototype,"appNameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(_.prototype,"appDescLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=_))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/cannon_config.ts",["cc"],(function(c){"use strict";var n;return{setters:[function(c){n=c.cclegacy}],execute:function(){n._RF.push({},"6b2ddmG/wlHc7A5OjLcntKE","cannon_config",void 0);c("cannon_config",[{name:"普通炮",access:"diamond"},{name:"钢铁炮",access:"diamond"},{name:"黄金齿轮",access:"signin"},{name:"黑金炮",access:"diamond"},{name:"恶魔炮",access:"diamond"},{name:"鲜花炮",access:"ad"},{name:"螺旋炮",access:"ad"},{name:"水蓝炮",access:"diamond"},{name:"瓦力炮",access:"diamond"},{name:"绿钻炮",access:"diamond"},{name:"五星炮",access:"ad"},{name:"天慧炮",access:"ad"},{name:"红色炮",access:"signin"}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerItemSpecialCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./ShopLayerItemCtrl.ts"],(function(t){"use strict";var e,i,n,o,r,a,c,s,l,p,d,h,u,_,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node},function(t){s=t.CLIP},function(t){l=t.AudioHelper},function(t){p=t.PlatformConfig},function(t){d=t.NotificationCenter,h=t.NCKeys},function(t){u=t.LocalData},function(t){_=t.PlatformManager},function(t){f=t.Utils},function(t){y=t.ShopLayerItemCtrl}],execute:function(){var S,I,C,m,E;r._RF.push({},"6cf90W8A9lORpYHjES87476","ShopLayerItemSpecialCtrl",void 0);var L=a.ccclass,v=a.property;t("ShopLayerItemSpecialCtrl",(S=L("ShopLayerItemSpecialCtrl"),I=v(c),S((E=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(o(e),"adMarkNode",E,o(e)),e}i(e,t);var r=e.prototype;return r.refresh=function(t){this.iconSprite.spriteFrame=this.atlas.getSpriteFrame(this._type+this._index),u.itemUnlocked(this._type,this._index)?this.adMarkNode.active=!1:(this.adMarkNode.active=!0,_.getInstance().trackEvent("wx",{branchId:p.wx.tracks.SHOP_AD_GET_ITEM,eventType:1})),this.selectedNode.active=t},r.onSelfClick=function(){l.play("audio",s.CLICK_NORMAL_BUTTON),_.getInstance().vibrateShort("light"),u.itemUnlocked(this._type,this._index)?d.postNotice(h.SHOP_LAYER_ITEM_SELECTED,{type:this._type,index:this._index}):(_.getInstance().trackEvent("wx",{branchId:p.wx.tracks.SHOP_AD_GET_ITEM,eventType:2}),_.getInstance().showVideo({branchId:p.wx.tracks.SHOP_AD_GET_ITEM},this.onAdComplete.bind(this)))},r.onAdComplete=function(t,e){t?(u.cumVideoConunt++,u.addOrUnlockItem(this._type,this._index),u.save(),d.postNotice(h.SHOP_LAYER_ITEM_SELECTED,{type:this._type,index:this._index})):f.popToast(e)},e}(y)).prototype,"adMarkNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/RevolutionCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,o,a,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.CCInteger,u=e.Vec3,s=e.Component}],execute:function(){var c,p,h,v,g,f,_,d,y;o._RF.push({},"7374aaRs4xN6J3YY9VikKTF","RevolutionCtrl",void 0);var b=a.ccclass,C=a.property;e("RevolutionCtrl",(c=b("RevolutionCtrl"),p=C(l),h=C(l),v=C(l),c((_=t((f=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"angleY",_,n(t)),r(n(t),"revolution_radius",d,n(t)),r(n(t),"revolution_angle_speed",y,n(t)),t}return i(t,e),t.prototype.update=function(e){this.angleY+=this.revolution_angle_speed*e;var t=this.revolution_radius*Math.cos(this.angleY/180*Math.PI),i=this.revolution_radius*Math.sin(this.angleY/180*Math.PI);this.node.position=new u(i,0,t)},t}(s)).prototype,"angleY",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=t(f.prototype,"revolution_radius",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=t(f.prototype,"revolution_angle_speed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=f))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ThreeChoiceCardCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./three_lottery_config.ts"],(function(e){"use strict";var t,r,n,i,o,a,l,s,c,u,d,p,f,h,b,g,T,y,C,w,m,E,R,_,v,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){a=e.cclegacy,l=e._decorator,s=e.SpriteAtlas,c=e.Sprite,u=e.Node,d=e.CCString,p=e.CCInteger,f=e.Label,h=e.Button,b=e.Tween,g=e.Vec3,T=e.Component},function(e){y=e.CLIP},function(e){C=e.AudioHelper},function(e){w=e.PlatformConfig},function(e){m=e.NotificationCenter,E=e.NCKeys},function(e){R=e.LocalData},function(e){_=e.PlatformManager},function(e){v=e.Utils},function(e){F=e.three_lottery_config}],execute:function(){var I,L,N,A,k,x,z,B,P,S,H,O,D,V,Y,U,K,M,G;a._RF.push({},"767ba4/FB9KlY7EmESGFMVa","ThreeChoiceCardCtrl",void 0);var Z=l.ccclass,j=l.property;e("ThreeChoiceCardCtrl",(I=Z("ThreeChoiceCardCtrl"),L=j(s),N=j(c),A=j(u),k=j(u),x=j(d),z=j(p),B=j(u),P=j(f),I((O=t((H=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(i(t),"orderIndex",0),o(i(t),"atlas",O,i(t)),o(i(t),"icon",D,i(t)),o(i(t),"backNode",V,i(t)),o(i(t),"frontNode",Y,i(t)),o(i(t),"rewardType",U,i(t)),o(i(t),"rewardValue",K,i(t)),o(i(t),"adNode",M,i(t)),o(i(t),"nameLabel",G,i(t)),n(i(t),"isTurnFront",!0),n(i(t),"isFree",!0),n(i(t),"isRewardGeted",!1),t}r(t,e);var a=t.prototype;return a.start=function(){},a.onSelfClick=function(){C.play("audio",y.PLUS_BUFFER),_.getInstance().vibrateShort("light"),this.isFree?m.postNotice(E.THREE_LOTTERY_CARD_BE_CLICK,this.orderIndex):(_.getInstance().trackEvent("wx",{branchId:w.wx.tracks.THREE_LOTTERY,eventType:2}),_.getInstance().showVideo({branchId:w.wx.tracks.THREE_LOTTERY},this.onAdComplete.bind(this)))},a.onAdComplete=function(e,t){e?m.postNotice(E.THREE_LOTTERY_CARD_BE_CLICK,this.orderIndex):v.popToast(t)},a.setCanClick=function(e){this.getComponent(h).enabled=e},a.setFree=function(e){this.isFree!=e&&(this.isFree=e,this.adNode.active=!e,e||_.getInstance().trackEvent("wx",{branchId:w.wx.tracks.THREE_LOTTERY,eventType:1}))},a.turnToFront=function(e){var t=this;this.isTurnFront||(this.isTurnFront=!0,b.stopAllByTag(1203,this.node),new b(this.node).delay(e).to(.25,{eulerAngles:new g(0,-90,0)}).call((function(){t.backNode.active=!1,t.frontNode.active=!0})).to(.25,{eulerAngles:g.ZERO}).tag(1203).start())},a.turnToBack=function(e){var t=this;this.isTurnFront&&(this.isTurnFront=!1,b.stopAllByTag(1203,this.node),new b(this.node).delay(e).to(.25,{eulerAngles:new g(0,-90,0)}).call((function(){t.backNode.active=!0,t.frontNode.active=!1})).to(.25,{eulerAngles:g.ZERO}).tag(1203).start())},a.getReward=function(){R.addOrUnlockItem(this.rewardType,this.rewardValue),this.isRewardGeted=!0},a.initRewardType=function(){var e=F[R.threeLotteryIndex];this.rewardType=e.type,this.rewardValue=e.index,this.icon.spriteFrame=this.atlas.getSpriteFrame(""+e.type+e.index),this.nameLabel.string=R.getItemName(e.type,e.index)},t}(T)).prototype,"atlas",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"icon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"backNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(H.prototype,"frontNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(H.prototype,"rewardType",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=t(H.prototype,"rewardValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(H.prototype,"adNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(H.prototype,"nameLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=H))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/HtsHelper.ts",["cc","./PlatformJudge.ts"],(function(t){"use strict";var e,r,o;return{setters:[function(t){e=t.cclegacy,r=t._decorator},function(t){o=t.PlatformJudge}],execute:function(){e._RF.push({},"76a4c7buCdEXqeTtbykzBO6","HtsHelper",void 0);r.ccclass,r.property;var c={gid:"",iconBid:"",moreBid:"",toolBid:""},i={gid:"",iconBid:"",moreBid:"",toolBid:""};t("HtsHelper",{getHtsIds:function(){return o.isWX||"dev"==o.getPlatformName()?i:c},iconArray:[],toolArray:[],moreArray:[]});e._RF.pop()}}}));

System.register("chunks:///_virtual/Lottery.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,o,i,c,a,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.CCFloat,s=t.Tween,l=t.Vec3,u=t.Component}],execute:function(){var p,y,f,h,v;i._RF.push({},"779d5zHt69HzoK+FDv4YkF+","Lottery",void 0);var d=c.ccclass,g=c.property;t("Lottery",(p=d("Lottery"),y=g({type:a,tooltip:"旋转一圈需要的时间"}),p((v=e((h=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(o(e),"time",v,o(e)),e}return r(e,t),e.prototype.start=function(){var t=this;new s(this.node).to(this.time,{eulerAngles:new l(0,360,0)}).call((function(){t.node.eulerAngles=l.ZERO})).union().repeatForever().start()},e}(u)).prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/HWLoginSceneCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformManager.ts"],(function(e){"use strict";var n,t,r,o,c,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,o=e.director,c=e.Component},function(e){i=e.PlatformManager}],execute:function(){var a;t._RF.push({},"77ffa5Pz/5Cd6GBvQbyfQ1e","HWLoginSceneCtrl",void 0);var s=r.ccclass;r.property,e("HWLoginSceneCtrl",s("HWLoginSceneCtrl")(a=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){i.getInstance().login((function(){o.loadScene("GameScene")}))},t}(c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/ServantContainerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./ServantPool.ts","./ServantCtrl.ts","./HeroCtrl.ts"],(function(t){"use strict";var e,r,n,o,i,s,a,h,l,v,d,u,c,S,f,_,p,g,C,T,R,O,A,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,h=t.Vec3,l=t.Node,v=t.Prefab,d=t.find,u=t.Tween,c=t.instantiate,S=t.Component},function(t){f=t.ServantState,_=t.Config,p=t.ServantSortType,g=t.MathOperation},function(t){C=t.NotificationCenter,T=t.NCKeys},function(t){R=t.servantPool},function(t){O=t.ServantCtrl},function(t){A=t.HeroCtrl,x=t.HeroPosRecordUtil}],execute:function(){var y,N,I,E,z,w,L;s._RF.push({},"7a49bJDTNFPfY+rB/Vjw9dY","ServantContainerCtrl",void 0);var V=a.ccclass,b=a.property,m=new h,F=[{x:0,z:0},{x:.5,z:1},{x:-.5,z:1},{x:-1,z:2},{x:0,z:2},{x:1,z:2},{x:1.5,z:3},{x:.5,z:3},{x:-.5,z:3},{x:-1.5,z:3},{x:-2,z:4},{x:-1,z:4},{x:0,z:4},{x:1,z:4},{x:2,z:4}],P=(t("ServantContainerCtrl",(y=V("ServantContainerCtrl"),N=b(l),I=b(v),y((w=e((z=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(o(e),"heroNode",w,o(e)),n(o(e),"servantPrefab",L,o(e)),i(o(e),"_resortTick",0),i(o(e),"_resortDirty",!1),i(o(e),"storedServantCount",0),i(o(e),"_waitShotVector",[]),e}r(e,t);var s=e.prototype;return s.onEnable=function(){C.addObserver(T.RESORT_SERVANT,this.onResortServant,this),C.addObserver(T.RESORT_SERVANT_DIRTY,this.onResortServantDirty,this)},s.onDisable=function(){C.removeObserver(T.RESORT_SERVANT,this),C.removeObserver(T.RESORT_SERVANT_DIRTY,this)},s.reset=function(){for(var t=this.node.children;t.length>0;){var e=t[t.length-1];e.getComponent(O).reset(),R.put(e)}this.storedServantCount=0,this.schedule(this.updateForResortDirty,.5)},s.startPerpare=function(){this.unschedule(this.updateForResortDirty),this._waitShotVector.length=0;for(var t=this.node.children,e=t.length,r=0;r<e;r++){var n=t[r].getComponent(O);n.state==f.FOLLOW&&this._waitShotVector.push(n)}this._waitShotVector.sort((function(t,e){return t._servantIndex-e._servantIndex})),e=this._waitShotVector.length;for(var o=.45,i=0;i<e;i++){var s=i+1,a=new h;if(a.y=1,F[s])a.x=F[s].x*o,a.z=.45*F[s].z;else{var l=s+10;a.z=.45*Math.floor(l/5),a.x=l%5*o-.9}a.x+=_.constant.HERO_SHOT_POSITION.x,a.z+=_.constant.HERO_SHOT_POSITION.z;var v=this._waitShotVector[i];v.animation.play("idle"),v.state=f.PREPARE,u.stopAllByTarget(v.node),new u(v.node).to(.5,{position:a}).start()}return this._waitShotVector.length+this.storedServantCount},s.sortWaitServant=function(){var t=this._waitShotVector.length;if(t>_.constant.WAIT_SHOT_SERVANT_TOTAL)t=_.constant.WAIT_SHOT_SERVANT_TOTAL;else if(t<_.constant.WAIT_SHOT_SERVANT_TOTAL&&this.storedServantCount>0){var e=this.heroNode.getComponent(A),r=R.get()||c(this.servantPrefab);r.parent=this.node;var n=r.getComponent(O);n.bodyNode.eulerAngles=new h(0,180,0),n.setColor(e.color,!1),n._servantIndex=this._waitShotVector.length,n.state=f.PREPARE,n.animation.play("idle"),this._waitShotVector.push(n),t++,this.storedServantCount--}for(var o=.45,i=0;i<t;i++){var s=new h;if(s.y=1,F[i])s.x=F[i].x*o,s.z=.45*F[i].z;else{var a=i+10;s.z=.45*Math.floor(5/4),s.x=a%5*o-.9}s.x+=_.constant.HERO_SHOT_POSITION.x,s.z+=_.constant.HERO_SHOT_POSITION.z;var l=this._waitShotVector[i];new u(l.node).to(.1,{position:s}).start()}return this._waitShotVector.length+this.storedServantCount},s.onResortServantDirty=function(t){this._resortDirty=!0,this._resortTick=t},s.updateForResortDirty=function(t){this._resortTick-=t,this._resortTick>0||this._resortDirty&&(this.onResortServant(p.UNCERTAIN),this._resortDirty=!1)},s.onResortServant=function(t){for(var e=0,r=[],n=[],o={},i=this.node.children,s=i.length,a=0;a<s;a++){var l=i[a].getComponent(O);l.state==f.FOLLOW?-1==l._servantIndex?n.push(l):(r.push(l),o[l._servantIndex]=l):l.state==f.HURT&&e++}if(n.length<_.constant.SERVANT_SHOW_TOTAL-r.length&&this.storedServantCount>0)for(var v=10+(_.constant.SERVANT_SHOW_TOTAL-r.length-n.length)/4,d=h.add(new h,this.heroNode.position,new h(0,0,10)),u=this.heroNode.getComponent(A);n.length<_.constant.SERVANT_SHOW_TOTAL-r.length&&this.storedServantCount>0&&v>0;){var S=R.get()||c(this.servantPrefab);S.parent=this.node,S.position=d;var g=S.getComponent(O);g.startFollow(),g.chaseInvincibled=!0,g.setColor(u.color,!1),n.push(g),this.storedServantCount--,v--}var x=r.length+n.length-e+this.storedServantCount;return C.postNotice(T.ALIVE_SERVANT_NUM,x),t==p.FILL?this._fillSort(r,n,o):t==p.FULL||n.length>r.length?this._fullSort(r,n,o):this._fillSort(r,n,o),x},s._fillSort=function(t,e,r){for(var n=t.length+e.length,o=0;o<t.length;o++)t[o]._servantIndex>=n&&e.push(t[o]);for(var i=0,s=0;s<n&&i<e.length;s++)null==r[s]&&(e[i].setServantIndex(s),e[i].startChase(.05*i),i++)},s._fullSort=function(t,e,r){var n=t.concat(e),o=this.heroNode.position.x,i=this.heroNode.position.z;n.sort((function(t,e){var r=t.bodyNode.worldPosition,n=e.bodyNode.worldPosition,s=r.x,a=r.z,h=n.x,l=n.z;return(o-s)*(o-s)+(i-a)*(i-a)-((o-h)*(o-h)+(i-l)*(i-l))}));for(var s=0;s<n.length;s++)n[s].setServantIndex(s),n[s].startChase(.05*s)},s.findOneAliveServant=function(){for(var t=this.node.children,e=t.length,r=0;r<e;r++){var n=t[r].getComponent(O);if(n.state==f.FOLLOW)return n}if(this.storedServantCount>0){var o=R.get()||c(this.servantPrefab);o.parent=this.node;var i=new h(this.heroNode.position);i.z+=8,o.position=i;var s=o.getComponent(O);s.startFollow(),s.chaseInvincibled=!0;var a=this.heroNode.getComponent(A);return s.setColor(a.color,!1),this.storedServantCount--,s}return null},s.resetFollowServantColor=function(t){for(var e=this.node.children,r=e.length,n=0;n<r;n++){var o=e[n].getComponent(O);o.state!=f.FOLLOW&&o.state!=f.CHASE||o.setColor(t,!0)}return null},s.clearHurtServant=function(){for(var t=[],e=this.node.children,r=e.length,n=0;n<r;n++){var o=e[n].getComponent(O);o.state==f.HURT&&t.push(o)}for(var i=0;i<t.length;i++)t[i].reset(),R.put(t[i].node)},s.solveMath=function(t,e){for(var r=0,n=[],o=this.node.children,i=o.length,s=0;s<i;s++){var a=o[s].getComponent(O);a.state==f.FOLLOW?n.push(a):a.state==f.HURT&&r++}n.sort((function(t,e){return t._servantIndex-e._servantIndex}));var h=n.length-r+this.storedServantCount+1;return t==g.PLUS?this._addServantInFront(e,n):t==g.SUB?this._subServantInFront(e,n):t==g.MUL?(e=h*(e-1),this._addServantInFront(e,n)):t!=g.DIV||(e=h*(1-1/e),e=Math.ceil(e),this._subServantInFront(e,n))},s._addServantInFront=function(t,e){var r=_.constant.SERVANT_SHOW_TOTAL-e.length;r>10&&(r=10),t<r?t=t:(this.storedServantCount+=t-r,t=r);for(var n=this.heroNode.getComponent(A),o=0;o<t;o++){var i=R.get()||c(this.servantPrefab);i.parent=this.node,x.get(5*Math.floor(3*Math.random()+2),m),i.position=m;var s=i.getComponent(O);s.startFollow(),s.setColor(n.color,!1)}return C.postNotice(T.RESORT_SERVANT,p.FILL),!0},s._subServantInFront=function(t,e){if(t>10&&this.storedServantCount>0){var r=this.storedServantCount-(t-10);r<0&&(r=0),t-=this.storedServantCount-r,this.storedServantCount=r}for(var n=0;n<e.length&&t>0;n++)e[n].startDead(),t--;return t>0?this.storedServantCount>=t?(this.storedServantCount-=t,C.postNotice(T.RESORT_SERVANT_DIRTY,.7),!0):(this.storedServantCount=0,!1):(C.postNotice(T.RESORT_SERVANT_DIRTY,.7),!0)},s.lateUpdate=function(){P.needRefresh=!0},e}(S)).prototype,"heroNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(z.prototype,"servantPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z))||E)),t("ServantAliveUtils",{needRefresh:!0,aliveArray:[],index:0,getTargets:function(t,e){if(this.needRefresh){this.aliveArray.length=0,this.index=0;for(var r=d("servantContainer").children,n=r.length,o=0;o<n;o++){var i=r[o].getComponent(O);i.state==f.FOLLOW&&this.aliveArray.push(i)}this.aliveArray.sort((function(t,e){return t._servantIndex-e._servantIndex})),this.needRefresh=!1}var s=[];if(t<this.aliveArray.length)for(var a=t;a<this.aliveArray.length&&e>0;a++)s.push(this.aliveArray[a]),e--;if(e>0)for(var h=Math.min(t-1,this.aliveArray.length-1);h>=0&&e>0;h--)s.push(this.aliveArray[h]),e--;return s},getRandomOne:function(){if(this.needRefresh){this.aliveArray.length=0,this.index=0;for(var t=d("servantContainer").children,e=t.length,r=0;r<e;r++){var n=t[r].getComponent(O);n.state==f.FOLLOW&&this.aliveArray.push(n)}this.aliveArray.sort((function(t,e){return t._servantIndex-e._servantIndex})),this.needRefresh=!1}if(this.aliveArray.length>0){var o=this.aliveArray.length,i=this.index%o;return this.index++,this.aliveArray[i]}return null}}));s._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./PlatformManager.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,l,c,d,f,h,u,m,p,y,b,w,g,v,_,D,N,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.defineProperty,o=e.assertThisInitialized,a=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.Prefab,d=e.Mesh,f=e.Tween,h=e.Vec3,u=e.MeshRenderer,m=e.Color,p=e.instantiate,y=e.find,b=e.RigidBody,w=e.Component},function(e){g=e.CLIP},function(e){v=e.AudioHelper},function(e){_=e.BigDiamondState},function(e){D=e.NotificationCenter,N=e.NCKeys},function(e){C=e.PlatformManager}],execute:function(){var E,M,P,I,A,B,O,R,S,H,L;r._RF.push({},"7e119+419BNI70taNa3lTSE","DiamondCtrl",void 0);var z=s.ccclass,F=s.property;e("DiamondCtrl",(E=z("DiamondCtrl"),M=F(l),P=F([l]),I=F(c),A=F([d]),E((R=t((O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"_hits",0),i(o(t),"_scaleInterval",.2),i(o(t),"_showActionFinish",!1),a(o(t),"bodyNode",R,o(t)),a(o(t),"effectCircleNodes",S,o(t)),i(o(t),"hitEffectPlayed",!1),a(o(t),"smallDiamondPrefab",H,o(t)),a(o(t),"bodyMeshs",L,o(t)),i(o(t),"state",_.COMPLETE),t}n(t,e);var r=t.prototype;return r.onEnable=function(){D.addObserver(N.BIG_DIAMOND_BREAK_PROGRESS,this.onBigDiamondBreakProgress,this)},r.onDisable=function(){D.removeObserver(N.BIG_DIAMOND_BREAK_PROGRESS,this)},r.start=function(){var e=this,t=new f(this.node);t.to(.5,{scale:new h(5,5,5)},{easing:"backOut"}).call((function(){e._showActionFinish=!0})).start(),(t=new f(this.bodyNode)).to(10,{eulerAngles:new h(0,-360,0)}).call((function(){e.bodyNode.eulerAngles=h.ZERO})).union().repeatForever().start()},r.hit=function(){if(this._hits+=1,D.postNotice(N.BIG_DIAMOND_GET_DIAMOND,200+this._hits),this._showActionFinish){var e=this.node.scale.x;e+=this._scaleInterval,this._scaleInterval-=.05,this._scaleInterval<.1&&(this._scaleInterval=.1),e<=8&&(this.node.scale=new h(e,e,e)),this.playHitEffect(),this.diamondWhite(),this.diamondScale()}},r.playHitEffect=function(){var e=this;if(!this.hitEffectPlayed){this.hitEffectPlayed=!0;for(var t=function(t){var n=e.effectCircleNodes[t],i=n.getComponent(u).material.passes[0],o=i.getHandle("mainColor"),a=new m(255,255,255,255),r=new m(255,255,255,0),s=new m;new f(n).delay(.2*t).call((function(){new f(n).to(.6,{scale:new h(2,2,2)},{easing:"quadOut",onUpdate:function(e,t){t*=t*t,m.lerp(s,a,r,t),i.setUniform(o,s)}}).call((function(){n.scale=h.ZERO})).union().repeatForever().start()})).start()},n=0;n<this.effectCircleNodes.length;n++)t(n)}},r.diamondWhite=function(){var e=this.bodyNode.getComponent(u).material.passes[0],t=e.getHandle("mainColor"),n=new m(255,97,255,255),i=new m(255,0,255,255),o=new m,a=new f(this.bodyNode);e.setUniform(t,n),a.delay(.01).to(.02,{},{onUpdate:function(a,r){m.lerp(o,n,i,r),e.setUniform(t,o)}}).start()},r.diamondScale=function(){new f(this.bodyNode).to(.03,{scale:new h(1.05,1.05,1.05)}).to(.03,{scale:new h(1,1,1)}).start()},r.diamondBreak=function(){var e=Math.floor(this._hits/5);e>_.L_BREAK&&(e=_.L_BREAK),this.state},r.stopPlayHitEffect=function(){var e=this;v.play("audio",g.BIG_DIAMOND_EXPLOSE),C.getInstance().vibrateShort("medium"),new f(this.node).to(.4,{scale:h.ZERO},{easing:"backInOut"}).start();for(var t=0;t<30;t++)setTimeout((function(){var t=p(e.smallDiamondPrefab);t.parent=y("map"),t.position=e.node.worldPosition;var n=t.getComponent(b),i=.8*Math.random()+.2;t.scale=new h(i,i,i);var o=new h;o.x=16*Math.random()-8,o.z=8*Math.random()+12,o.y=20+5*Math.random(),n.setLinearVelocity(o)}),10*t+200)},r.getDiamondReward=function(){return 50*this.state+this._hits},r.onBigDiamondBreakProgress=function(e){var t=Math.floor(4*e);if(this.state!=t){if(this.bodyMeshs[t])this.bodyNode.getComponent(u).mesh=this.bodyMeshs[t];this.state=t}},t}(w)).prototype,"bodyNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(O.prototype,"effectCircleNodes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(O.prototype,"smallDiamondPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(O.prototype,"bodyMeshs",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=O))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/AdApterOppo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts","./Utils.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,c,l,h,d,v,f;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.view,s=t.Prefab,c=t.find,l=t.instantiate},function(t){h=t.PlatformNotify},function(t){d=t.AdapterBase},function(t){v=t.PlatformConfig},function(t){f=t.Utils}],execute:function(){var u;o._RF.push({},"80560L5Q05DJoIKWnahSbhV","AdApterOppo",void 0);var _=a.ccclass;a.property,t("AdApterOppo",_("AdApterOppo")(u=function(t){function o(){var n;return n=t.call(this)||this,e(i(n),"_video",null),e(i(n),"_banner",null),e(i(n),"_nativeBannerPrefab",null),e(i(n),"_interstitialNative",null),e(i(n),"_bannerNative",null),e(i(n),"_cb",null),qg.loadingComplete({complete:function(){}}),qg.setLoadingProgress({progress:100}),n._createVideo(),n._createBanner(),n._createNative(),n}n(o,t);var a=o.prototype;return a._createVideo=function(){var t=this;this._video=qg.createRewardedVideoAd({adUnitId:v.oppo.videoId}),this._video.onLoad((function(){console.log("video onLoad")})),this._video.onError((function(t){console.log("video onError",t)})),this._video.onClose((function(n){console.log("video onClose",n),n.isEnded?(t._cb&&t._cb(!0,null),t._cb=null):(t._cb&&t._cb(!1,"观看完整视频才能获得奖励"),t._cb=null),t._video.load()})),this._video.load()},a.showVideo=function(t,n){var e=this;this._cb=n;var i=this._video.show();i&&i.catch((function(){e._video.load().then((function(){e._video.show()})).catch((function(){e._cb&&e._cb(!1,"暂无广告"),e._cb=null}))}))},a._createBanner=function(){var t=this;if(!v.oppo.bannerId)return console.log("bannerId为空，不执行banner");var n=r.getVisibleSize(),e=o.convertToOppoStyle(n.width/2,50,n.width,100);this._banner=qg.createBannerAd({adUnitId:v.oppo.bannerId,style:e}),this._banner.onLoad((function(){console.log("banner onLoad")})),this._banner.onError((function(t){console.log("banner onError",t)})),this._banner.onResize((function(n){console.log("banner onResize",n,t._banner);var e=t._banner.style,i=window.qg.getSystemInfoSync(),o=i.screenWidth,a=i.screenHeight;(Math.abs(o-(e.width+2*e.left))>=5||Math.abs(a-e.top-e.height)>=5)&&(t._banner.style.left=(o-e.width)/2,t._banner.style.top=a-e.height)}))},a.getNativeBannerPrefab=function(t){if(this._nativeBannerPrefab)return t(this._nativeBannerPrefab);f.loadResWithCorrection("Platform/prefab/nativeBanner",s,(function(n,e){return t(n?null:e)}))},a.showBanner=function(t){var n=this;if("native"==t.type){var e=this.getNativeAdInfo({pos:"banner"});e?this._showNativeBanner(e):(console.log("native 没有填充。所以尝试实时的填充"),this.tryLoadNativeAdInfo({pos:"banner"}),h.addObserver(h.NATIVE_AD_LOADED,(function(){h.removeObserver(h.NATIVE_AD_LOADED,n);var t=n.getNativeAdInfo({pos:"banner"});t?n._showNativeBanner(t):(console.log("native 实时的填充也没有拉取到。所以暂时不显示啦"),setTimeout((function(){n.tryLoadNativeAdInfo({pos:"banner"}),console.log("展示普通banner的时候，再次尝试一下拉取原生")}),5e3))}),this))}else this._showDefaultBanner()},a._showNativeBanner=function(t){var n=c("Canvas/nativeBanner");n?(n.active=!0,n.getComponent("NativeBannerCtrl").init(t),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:120})):this.getNativeBannerPrefab((function(n){var e;if(n&&!c("Canvas/nativeBanner")){var i=l(n);null===(e=i.getComponent("NativeBannerCtrl"))||void 0===e||e.init(t),i.parent=c("Canvas"),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:120})}}))},a._showDefaultBanner=function(){var t=this,n=window.qg.getSystemInfoSync(),e=(n.screenWidth,n.screenHeight),i=r.getVisibleSize().height/e;this._banner?(this._banner.show(),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:this._banner.style.height*i})):(this._createBanner(),setTimeout((function(){t._showDefaultBanner()}),2e3))},a.hideBanner=function(t){var n=c("Canvas/nativeBanner");n&&(t.tryDestroy?n.destroy():n.active=!1,this.tryLoadNativeAdInfo({pos:"banner"})),this._banner&&(t.tryDestroy?(this._banner.destroy(),this._banner=null,this._createBanner()):this._banner.hide()),h.postNotice(h.BANNER_SHOW_HEIGHT,{height:0})},o.convertToOppoStyle=function(t,n,e,i){var o=window.qg.getSystemInfoSync(),a=(o.screenWidth,o.screenHeight),s=r.getVisibleSize().height/a,c=e/s,l=i/s;return{left:t/s-c/2,top:a-n/s-l/2,width:c,height:l}},a.hadShareAbility=function(){return!1},a.hadCollectAbility=function(){return!0},a.tryShortcutIndesktop=function(t){qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){t(!0)},fail:function(e){t(!1,"创建图标失败了"),console.log("installShortcut fail",n)},complete:function(){}}):t(!1,"桌面图标已经存在了")},fail:function(t){},complete:function(){}})},a._createNative=function(){this._interstitialNative=this.__createNativeWithId(v.oppo.nativeIds.interstitial),this._bannerNative=this.__createNativeWithId(v.oppo.nativeIds.banner)},a.__createNativeWithId=function(t){var n=qg.createNativeAd({adUnitId:t});return n.onLoad((function(t){console.log("native onLoad",t),n.adList=t.adList,h.postNotice(h.NATIVE_AD_LOADED,null)})),n.onError((function(t){console.log("natve onError",t)})),n.load(),n},a.getNativeAdInfo=function(t){var n="interstitial"==t.pos?this._interstitialNative:this._bannerNative;if(n.adList&&n.adList.length>0){var e=n.adList.shift(),i={native:n,info:e};return console.log("消耗了native info",e),i}return null},a.tryLoadNativeAdInfo=function(t){var n="interstitial"==t.pos?this._interstitialNative:this._bannerNative;n.adList&&0!=n.adList.length||n.load()},a.vibrateShort=function(t){},a.exitGame=function(){qg.exitApplication({})},o}(d))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/QQVideoIconCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformManager.ts"],(function(e){"use strict";var o,t,i,l,n,r,a,c,s,u,d,p,f,b,g;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Toggle,c=e.Node,s=e.CCFloat,u=e.Vec3,d=e.Component},function(e){p=e.PlatformJudge},function(e){f=e.CLIP},function(e){b=e.AudioHelper},function(e){g=e.PlatformManager}],execute:function(){var h,v,N,I,y,C,Q,m,w,P,_;n._RF.push({},"814e1lx2r1IRapPQtugo5Bi","QQVideoIconCtrl",void 0);var z=r.ccclass,L=r.property;e("QQVideoIconCtrl",(h=z("QQVideoIconCtrl"),v=L(a),N=L(c),I=L(c),y=L(s),h((m=o((Q=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=e.call.apply(e,[this].concat(n))||this,i(l(o),"toggle",m,l(o)),i(l(o),"videoIconNode",w,l(o)),i(l(o),"labelNode",P,l(o)),i(l(o),"labelOffsetY",_,l(o)),o}t(o,e);var n=o.prototype;return n.onLoad=function(){if(p.isQQ){this.toggle.node.active=!0,this.videoIconNode.active=!1;var e=new u(this.labelNode.position);e.x=0,this.labelNode.position=e}},n.onToggleClick=function(e){if(b.play("audio",f.CLICK_NORMAL_BUTTON),g.getInstance().vibrateShort("light"),e.isChecked){this.videoIconNode.active=!1;var o=new u(this.labelNode.position);o.x=0,this.labelNode.position=o}else{this.videoIconNode.active=!0;var t=new u(this.labelNode.position);t.x=this.labelOffsetY,this.labelNode.position=t}},o}(d)).prototype,"toggle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(Q.prototype,"videoIconNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=o(Q.prototype,"labelNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=o(Q.prototype,"labelOffsetY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=Q))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc","./PlatformJudge.ts"],(function(E){"use strict";var O,S,T,t,A;return{setters:[function(E){O=E.cclegacy,S=E._decorator,T=E.Vec3,t=E.Color},function(E){A=E.PlatformJudge}],execute:function(){E({BigDiamondState:void 0,CameraState:void 0,FollowState:void 0,GameState:void 0,HeroState:void 0,MankindColor:void 0,MankindRole:void 0,MathOperation:void 0,ServantSortType:void 0,ServantState:void 0,ShotState:void 0}),O._RF.push({},"818b6HNWQNNoLokgWvfmv8j","Config",void 0);var n,e,o,L,R,_,i,N,a,H,I;S.ccclass,S.property,E("Config",{version:"1.6.8",levelMax:70,ui:{TOP_OFFSET:168,BOTTOM_OFFSET:200},privacyUrl:"https://www.baidu.com",constant:{CASTLE_TOTAL:9,FLOOR_WIDTH:6,TOUCH_SENSITIVITY:3,HORIZONTAL_SPEED:18,HORIZONTAL_INIT_SPEED:5,HORIZONTAL_ACC:10,VERTICAL_SPEED:10,SERVANT_VERTICAL_SPEED:10,SERVANT_FOLLOW_ACC:14,SERVANT_FOLLOW_MIN_SPEED:3,HERO_START_POSITION:new T(0,1,0),HERO_SHOT_POSITION:new T(.3,1,0),SHOT_SPEED_BASE:40,SERVANT_SHOW_TOTAL:52,WAIT_SHOT_SERVANT_TOTAL:15,COLORS:[new t(241,61,83),new t(87,171,255),new t(255,188,44)],CAMERA_PLACE:{WAIT:{position:new T(.945,2.938,4.53),eulerAngles:new T(-15.604,9.852,-.19)},RUN:{position:new T(1.955,5.896,11.5),eulerAngles:new T(-15.604,9.852,-.19)},SHOT:{position:new T(0,2.675,-147),eulerAngles:new T(5.836,0,0)}}},CLICK_BUTTON_TO_SHOT_DIAMOND:A.isWX||A.isQQ});!function(E){E[E.RED=0]="RED",E[E.BLUE=1]="BLUE",E[E.YELLOW=2]="YELLOW",E[E.NONE=3]="NONE"}(n||(n=E("MankindColor",{}))),function(E){E[E.NONE=0]="NONE",E[E.HERO=1]="HERO",E[E.SERVANT=2]="SERVANT"}(e||(e=E("MankindRole",{}))),function(E){E[E.WAIT=0]="WAIT",E[E.RUN=1]="RUN",E[E.FEIGN_DEATH=2]="FEIGN_DEATH",E[E.DEAD=3]="DEAD",E[E.PREPARE=4]="PREPARE",E[E.SHOT=5]="SHOT"}(o||(o=E("HeroState",{}))),function(E){E[E.WAIT=0]="WAIT",E[E.FOLLOW=1]="FOLLOW",E[E.CHASE=2]="CHASE",E[E.HURT=3]="HURT",E[E.DEAD=4]="DEAD",E[E.PREPARE=5]="PREPARE",E[E.SHOT=6]="SHOT"}(L||(L=E("ServantState",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.FOLLOW=1]="FOLLOW"}(R||(R=E("FollowState",{}))),function(E){E[E.WAIT=0]="WAIT",E[E.CHASE=1]="CHASE",E[E.FOLLOW=2]="FOLLOW",E[E.SHOT=3]="SHOT"}(_||(_=E("CameraState",{}))),function(E){E[E.WAIT=0]="WAIT",E[E.RUN=1]="RUN",E[E.DEAD=2]="DEAD",E[E.PREPARE=3]="PREPARE",E[E.SHOT_CASTLE=4]="SHOT_CASTLE",E[E.SHOT_DIAMOND=5]="SHOT_DIAMOND",E[E.SHOT_END=6]="SHOT_END",E[E.RESULT=7]="RESULT"}(i||(i=E("GameState",{}))),function(E){E[E.SHOT_CASTLE=0]="SHOT_CASTLE",E[E.SHOT_DIAMOND=1]="SHOT_DIAMOND",E[E.NONE=2]="NONE"}(N||(N=E("ShotState",{}))),function(E){E[E.PLUS=0]="PLUS",E[E.SUB=1]="SUB",E[E.MUL=2]="MUL",E[E.DIV=3]="DIV",E[E.NONE=4]="NONE"}(a||(a=E("MathOperation",{}))),function(E){E[E.FILL=0]="FILL",E[E.FULL=1]="FULL",E[E.UNCERTAIN=2]="UNCERTAIN"}(H||(H=E("ServantSortType",{}))),function(E){E[E.COMPLETE=0]="COMPLETE",E[E.S_BREAK=1]="S_BREAK",E[E.M_BREAK=2]="M_BREAK",E[E.L_BREAK=3]="L_BREAK",E[E.FULL_BREAK=4]="FULL_BREAK"}(I||(I=E("BigDiamondState",{}))),O._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlQQ.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./RemoteConfig.ts","./PlatformManager.ts"],(function(e){"use strict";var n,t,r,a,o,s,i,c,u,f,h;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,a=e.game,o=e.PhysicsSystem,s=e.Component},function(e){i=e.GameState},function(e){c=e.NotificationCenter,u=e.NCKeys},function(e){f=e.RemoteConfig},function(e){h=e.PlatformManager}],execute:function(){var m;t._RF.push({},"82387S8jwtG17zgITpv5SiN","BannerCtrlQQ",void 0);var l=r.ccclass;r.property,e("BannerCtrlQQ",l("BannerCtrlQQ")(m=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.start=function(){var e=this;qq.getSystemInfoSync().system.includes("iOS")&&(a.setFrameRate(30),o.instance.fixedTimeStep=.0333333333),h.getInstance().addRemoteInitFinishListener((function(){f.bannerInPlaying?(h.getInstance().showBanner({}),h.getInstance().outViewBanner(),c.addObserver(u.GAME_STATE,e.onGameState,e),c.addObserver(u.RESET_GAME,e.onResetGame,e)):h.getInstance().showBanner({})}))},r.onDestroy=function(){c.removeObserver(u.GAME_STATE,this),c.removeObserver(u.RESET_GAME,this)},r.onResetGame=function(){h.getInstance().outViewBanner(),this.unschedule(this.updateOnceShowBanner)},r.onGameState=function(e){e.state==i.RUN&&this.scheduleOnce(this.updateOnceShowBanner,10*Math.random()+5)},r.updateOnceShowBanner=function(){h.getInstance().inViewBanner()},t}(s))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./LocalData.ts","./BaseUILayerCtrl.ts","./LabelTickCtrl.ts"],(function(e){"use strict";var i,t,n,a,o,r,s,l,c,d,b,h,u,p,g,v,N;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.defineProperty,a=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.Label,d=e.view,b=e.Vec3,h=e.Tween},function(e){u=e.NotificationCenter,p=e.NCKeys},function(e){g=e.LocalData},function(e){v=e.BaseUILayerCtrl},function(e){N=e.LabelTickCtrl}],execute:function(){var m,y,L,w,f,k,O,D,P,A,I,z,S,_,C,T,E,K,B,G,M,R,V;r._RF.push({},"82c10U7h0lFsaqQu1wAGXb3","PlayPageCtrl",void 0);var U=s.ccclass,Y=s.property;e("PlayPageCtrl",(m=U("PlayPageCtrl"),y=Y(N),L=Y(l),w=Y(c),f=Y(l),k=Y(l),O=Y([l]),D=Y(l),P=Y(c),A=Y(l),I=Y(c),m((_=i((S=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(a(i),"diamondNum",0),o(a(i),"diamondLabelTick",_,a(i)),o(a(i),"diamondNode",C,a(i)),o(a(i),"lvLabel",T,a(i)),o(a(i),"progressNode",E,a(i)),o(a(i),"keysNode",K,a(i)),o(a(i),"pickKeyNodes",B,a(i)),o(a(i),"cannonNode",G,a(i)),o(a(i),"remianServantLabel",M,a(i)),o(a(i),"remianServantIcon",R,a(i)),o(a(i),"bigDiamondLabel",V,a(i)),i}t(i,e);var r=i.prototype;return r.onEnable=function(){e.prototype.onEnable.call(this),this.diamondNum=0,this.diamondLabelTick.tickLabel(0,0,1),this.lvLabel.string="关卡"+(g.levelIndex+1),u.addObserver(p.PLAY_GET_DIAMOND,this.onPlayGetDiamond,this),u.addObserver(p.LOCALDATA_PICK_KEY_NUM,this.onPickKeyNum,this)},r.onDisable=function(){u.removeObserver(p.PLAY_GET_DIAMOND,this),u.removeObserver(p.LOCALDATA_PICK_KEY_NUM,this)},r.onPlayGetDiamond=function(e){this.diamondNum+=e,this.diamondLabelTick.tickLabel(null,this.diamondNum,.5)},r.onPickKeyNum=function(e){var i=this,t=e-1;t>2&&(t=2);for(var n=0;n<3;n++)this.pickKeyNodes[n].active=n<t;var a=d.getVisibleSize();this.keysNode.active=!0,this.keysNode.position=new b(0,a.height/2+50,0),new h(this.keysNode).to(.5,{position:new b(0,a.height/2-268,0)},{easing:"backOut"}).call((function(){i.pickKeyNodes[t].active=!0,i.pickKeyNodes[t].scale=b.ZERO,new h(i.pickKeyNodes[t]).to(.5,{scale:b.ONE},{easing:"backOut"}).start()})).delay(1).to(.5,{position:new b(0,a.height/2+50,0)},{easing:"backIn"}).start()},r.playInAction=function(){var e=this;this.progressNode.active=!1,this.keysNode.active=!1,this.cannonNode.active=!1,this.diamondNode.active=!1,this.lvLabel.node.active=!1,this.bigDiamondLabel.node.active=!1,this.scheduleOnce((function(){var i=d.getVisibleSize();e.diamondNode.active=!0,e.diamondNode.position=new b(-453,i.height/2-168,0);var t=new h(e.diamondNode);t.to(.5,{position:new b(-253,i.height/2-168,0)},{easing:"backOut"}).start(),e.lvLabel.node.active=!0,e.lvLabel.node.position=new b(0,i.height/2+100,0),(t=new h(e.lvLabel.node)).to(.5,{position:new b(0,i.height/2-163,0)},{easing:"backOut"}).start()}),.5)},r.playOutAction=function(){var e=d.getVisibleSize(),i=new h(this.diamondNode);i.to(.5,{position:new b(-453,e.height/2-168,0)},{easing:"backIn"}).start(),(i=new h(this.lvLabel.node)).to(.5,{position:new b(0,e.height/2+163,0)},{easing:"backIn"}).start(),this.progressNode.active&&(i=new h(this.progressNode)).to(.5,{position:new b(0,e.height/2+100,0)},{easing:"expoOut"}).start(),h.stopAllByTarget(this.keysNode),this.keysNode.active=!1},r.startPrepare=function(e){var i=d.getVisibleSize();h.stopAllByTarget(this.keysNode),this.keysNode.active=!1,this.cannonNode.active=!0,this.cannonNode.position=new b(-453,268-i.height/2,0);var t=new h(this.cannonNode);t.to(.5,{position:new b(-253,268-i.height/2,0)},{easing:"backOut"}).start(),this.progressNode.active=!0,this.progressNode.position=new b(0,i.height/2+100,0),(t=new h(this.progressNode)).to(.5,{position:new b(0,i.height/2-238,0)},{easing:"expoOut"}).start(),this.remianServantLabel.string=e},r.setServantRemain=function(e){this.remianServantLabel.string=e,this.remianServantIcon.scale=new b(1.3,1.3,1.3);var i=new h(this.remianServantIcon);i.to(.08,{scale:b.ONE}).start(),this.remianServantLabel.node.scale=new b(1.3,1.3,1.3),(i=new h(this.remianServantLabel.node)).to(.08,{scale:b.ONE}).start()},r.setBigDiamondNum=function(e){var i=d.getVisibleSize();this.bigDiamondLabel.node.position=new b(-30.315,i.height/2-330,0),this.bigDiamondLabel.string="+"+e+"  ",this.bigDiamondLabel.node.active=!0,this.bigDiamondLabel.node.scale=b.ZERO,new h(this.bigDiamondLabel.node).delay(.5).to(.6,{scale:b.ONE},{easing:"backOut"}).delay(1.4).to(.6,{scale:b.ZERO},{easing:"backIn"}).start(),u.postNotice(p.PLAY_GET_DIAMOND,e)},i}(v)).prototype,"diamondLabelTick",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(S.prototype,"diamondNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(S.prototype,"lvLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(S.prototype,"progressNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(S.prototype,"keysNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(S.prototype,"pickKeyNodes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(S.prototype,"cannonNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(S.prototype,"remianServantLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(S.prototype,"remianServantIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(S.prototype,"bigDiamondLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=S))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./PlatformManager.ts","./Mankind.ts","./ManKindCountCtrl.ts","./ServantPool.ts","./ServantContainerCtrl.ts"],(function(t){"use strict";var e,o,i,n,s,a,r,l,h,c,d,u,p,E,y,C,_,f,g,v,T,N,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.defineProperty,n=t.assertThisInitialized,s=t.initializerDefineProperty},function(t){a=t.cclegacy,r=t._decorator,l=t.Vec3,h=t.RigidBody,c=t.BoxCollider,d=t.Tween},function(t){u=t.MankindColor,p=t.HeroState,E=t.Config,y=t.ServantSortType,C=t.GameState},function(t){_=t.NotificationCenter,f=t.NCKeys},function(t){g=t.PlatformManager},function(t){v=t.Mankind},function(t){T=t.ManKindCountCtrl},function(t){N=t.servantPool},function(t){R=t.ServantContainerCtrl}],execute:function(){var A,b,S,D,O,m,L,w,P;a._RF.push({},"85673ietp1EcpYkPSnEZqAg","HeroCtrl",void 0);var I=r.ccclass,H=r.property,U=new l,x=(t("HeroCtrl",(A=I("HeroCtrl"),b=H(h),S=H(R),D=H(T),A((L=e((m=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(n(e),"color",u.NONE),i(n(e),"state",p.WAIT),s(n(e),"rigidBody",L,n(e)),s(n(e),"servantContainerCtrl",w,n(e)),s(n(e),"countCtrl",P,n(e)),i(n(e),"speedUpRate",1),i(n(e),"speedUpEndTimeStamp",0),i(n(e),"hSpeed",0),i(n(e),"_touchStartX",-100),i(n(e),"_touchTargetX",-100),e}o(e,t);var a=e.prototype;return a.onEnable=function(){_.addObserver(f.ALIVE_SERVANT_NUM,this.onAliveServantNum,this)},a.onDisable=function(){_.removeObserver(f.ALIVE_SERVANT_NUM,this)},a.setColor=function(e,o){t.prototype.setColor.call(this,e,o),this.countCtrl.setColor(e)},a.reset=function(){this.node.active=!0,this.setColor(u.BLUE,!1),this.countCtrl.setColor(u.BLUE),this.countCtrl.setLabel(1),this.countCtrl.node.active=!1,this.speedUpRate=1,this.countCtrl.node.scale=new l(2.5,2.5,2.5),this.rigidBody.isStatic=!0,this.rigidBody.setLinearVelocity(l.ZERO),this.rigidBody.setAngularVelocity(l.ZERO),this.node.eulerAngles=l.ZERO,this.bodyNode.scale=new l(2,2,2),this.node.position=E.constant.HERO_START_POSITION,this.animation.play("idle"),this.state=p.WAIT,this.getComponent(c).off("onCollisionEnter",this.onCollisionCastleEnter,this),d.stopAllByTarget(this.bodyNode)},a.onAliveServantNum=function(t){this.countCtrl.setLabel(t+(this.state==p.DEAD?0:1))},a.reborn=function(){d.stopAllByTarget(this.bodyNode),this.bodyNode.scale=new l(0,0,0);var t=new d(this.bodyNode);t.to(.3,{scale:new l(2,2,2)},{easing:"backOut"}).start(),(t=new d(this.bodyNode)).to(.3,{position:l.ZERO}).start()},a.startRun=function(){this.rigidBody.isDynamic=!0,this.state=p.RUN,this.animation.play("run"),this.countCtrl.node.active=!0},a.startDead=function(t){var e=this;if(void 0===t&&(t=!1),this.state==p.RUN)if(g.getInstance().vibrateShort("heavy"),t&&_.postNotice(f.DEAD_EFFECT,{pos:this.bodyNode.worldPosition,color:this.color}),this.servantContainerCtrl.findOneAliveServant()){if(this.state=p.FEIGN_DEATH,t)this.bodyNode.scale=l.ZERO;else{this.animation.play("dead");var o=this.bodyNode.worldPosition;this.countCtrl.node.active=!1,new d(this.bodyNode).to(.7,{},{onUpdate:function(){e.bodyNode.worldPosition=o}}).start()}this.scheduleOnce((function(){var t=e.servantContainerCtrl.findOneAliveServant();if(t){var o=t.bodyNode.worldPosition;t.reset(),N.put(t.node),e.bodyNode.worldPosition=o,e.animation.play("run"),d.stopAllByTarget(e.bodyNode),e.bodyNode.scale=new l(0,0,0);var i=new d(e.bodyNode);i.to(.3,{scale:new l(2,2,2)},{easing:"backOut"}).start(),(i=new d(e.bodyNode)).to(.3,{position:l.ZERO}).call((function(){e.state=p.RUN,e.countCtrl.node.active=!0})).delay(.5).call((function(){_.postNotice(f.RESORT_SERVANT,y.FILL)})).start()}else e.state=p.DEAD,_.postNotice(f.HERO_DEAD,null),_.postNotice(f.GAME_STATE,{state:C.DEAD}),e.countCtrl.node.active=!1,e.countCtrl.setLabel(0)}),.7)}else this.animation.play("dead"),this.state=p.DEAD,_.postNotice(f.HERO_DEAD,null),_.postNotice(f.GAME_STATE,{state:C.DEAD}),this.countCtrl.node.active=!1,this.countCtrl.setLabel(0)},a.startPerpare=function(){this.state=p.PREPARE,this.animation.play("idle");var t=new d(this.node);t.to(1,{position:E.constant.HERO_SHOT_POSITION}).call((function(){})).start(),(t=new d(this.countCtrl.node)).to(.5,{scale:l.ZERO},{easing:"backIn"}).start()},a.startShot=function(t,e,o){this.state=p.SHOT,this.node.position=t,this.rigidBody.setLinearVelocity(e),this.node.setRotation(o);var i=new l;l.transformQuat(i,new l(0,50,0),o),this.rigidBody.setAngularVelocity(i),this.getComponent(c).on("onCollisionEnter",this.onCollisionCastleEnter,this)},a.onCollisionCastleEnter=function(t){this.getComponent(c).off("onCollisionEnter",this.onCollisionCastleEnter,this),_.postNotice(f.DEAD_EFFECT,{pos:this.node.worldPosition,color:this.color}),this.node.active=!1},a.update=function(t){if(this.speedUpRate>1&&dayjs().unix()>this.speedUpEndTimeStamp&&(this.speedUpRate-=.1,this.speedUpRate<1&&(this.speedUpRate=1)),this.state==p.WAIT||(this.state==p.RUN||this.state==p.FEIGN_DEATH?(this.rigidBody.getLinearVelocity(U),U.z=-E.constant.VERTICAL_SPEED*this.speedUpRate,this.state==p.FEIGN_DEATH&&(U.z-=3),U.x=0,this.rigidBody.setLinearVelocity(new l(U))):this.state==p.DEAD||this.state==p.PREPARE?this.rigidBody.setLinearVelocity(l.ZERO):(this.state,p.SHOT)),this.state==p.WAIT||this.state==p.RUN||this.state==p.FEIGN_DEATH||this.state==p.DEAD){if(this.node.getPosition(U),-100!=this._touchTargetX){var e=this._touchTargetX-U.x;Math.abs(e)>2?this.hSpeed=E.constant.HORIZONTAL_SPEED:this.hSpeed=5*Math.abs(e);var o=t*this.hSpeed;Math.abs(e)<=o?(U.x=this._touchTargetX,this._touchTargetX=-100):e>0?U.x+=o:U.x-=o,U.x<-E.constant.FLOOR_WIDTH/2?U.x=-E.constant.FLOOR_WIDTH/2:U.x>E.constant.FLOOR_WIDTH/2&&(U.x=E.constant.FLOOR_WIDTH/2),this.node.setPosition(new l(U))}x.push(U)}},a.setTouchStartX=function(){this._touchStartX=this.node.position.x,this._touchTargetX=this._touchTargetX},a.setTouchTargetX=function(t){this._touchTargetX=this._touchStartX+t},e}(v)).prototype,"rigidBody",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(m.prototype,"servantContainerCtrl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(m.prototype,"countCtrl",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=m))||O)),t("HeroPosRecordUtil",{_posX:[],_posY:[],_posZ:[],_cumLength:0,_maxLength:500,push:function(t){var e=this._cumLength%this._maxLength;this._posX[e]=t.x,this._posY[e]=t.y,this._posZ[e]=t.z,this._cumLength++},get:function(t,e){var o=this._cumLength-t;return o%=this._maxLength,e.x=this._posX[o],e.y=this._posY[o],e.z=this._posZ[o],this._posX.length>o},getX:function(t){var e=this._cumLength-t;return e%=this._maxLength,this._posX[e]}}));a._RF.pop()}}}));

System.register("chunks:///_virtual/hat_config.ts",["cc"],(function(a){"use strict";var c;return{setters:[function(a){c=a.cclegacy}],execute:function(){c._RF.push({},"863ce+Nv+NGFb0e8QF4h1+e","hat_config",void 0);a("hat_config",[{name:"国王冠",access:"ad"},{name:"花盆帽",access:"ad"},{name:"小丑帽",access:"diamond"},{name:"消防帽",access:"diamond"},{name:"凯撒环",access:"diamond"},{name:"兔耳帽",access:"signin"},{name:"魔法帽",access:"diamond"},{name:"尖角盔",access:"diamond"},{name:"巫师帽",access:"diamond"},{name:"蘑菇帽",access:"diamond"},{name:"武神盔",access:"ad"},{name:"罗马帽",access:"ad"},{name:"高尔夫帽",access:"diamond"},{name:"恐龙帽",access:"diamond"},{name:"警察帽",access:"diamond"},{name:"路障帽",access:"diamond"},{name:"老滚帽",access:"diamond"},{name:"花环",access:"diamond"},{name:"海盗帽",access:"diamond"},{name:"金冠",access:"diamond"},{name:"大将盔",access:"ad"},{name:"宇航盔",access:"ad"},{name:"棒球帽",access:"diamond"},{name:"橄榄球盔",access:"diamond"},{name:"恶魔角",access:"diamond"},{name:"彩虹小马",access:"signin"},{name:"隐者斗笠",access:"diamond"},{name:"东北帽",access:"diamond"},{name:"骑行头盔",access:"diamond"},{name:"触角帽",access:"diamond"},{name:"绅士帽",access:"ad"},{name:"糖果小丑帽",access:"ad"},{name:"厨师帽子",access:"diamond"},{name:"女巫帽",access:"diamond"},{name:"发条帽",access:"diamond"},{name:"雨伞帽",access:"diamond"},{name:"学士帽",access:"diamond"}]);c._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlWX.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./RemoteConfig.ts","./PlatformManager.ts"],(function(n){"use strict";var e,t,r,a,o,i,s,c,u;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,a=n.Component},function(n){o=n.GameState},function(n){i=n.NotificationCenter,s=n.NCKeys},function(n){c=n.RemoteConfig},function(n){u=n.PlatformManager}],execute:function(){var f;t._RF.push({},"8aa48odJ0ZACI6ytO9j6lQm","BannerCtrlWX",void 0);var h=r.ccclass;r.property,n("BannerCtrlWX",h("BannerCtrlWX")(f=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var r=t.prototype;return r.start=function(){var n=this;u.getInstance().addRemoteInitFinishListener((function(){c.bannerInPlaying?(u.getInstance().showBanner({}),u.getInstance().outViewBanner(),i.addObserver(s.GAME_STATE,n.onGameState,n),i.addObserver(s.RESET_GAME,n.onResetGame,n)):u.getInstance().showBanner({})}))},r.onDestroy=function(){i.removeObserver(s.GAME_STATE,this),i.removeObserver(s.RESET_GAME,this)},r.onResetGame=function(){u.getInstance().outViewBanner(),this.unschedule(this.updateOnceShowBanner)},r.onGameState=function(n){n.state==o.RUN&&this.scheduleOnce(this.updateOnceShowBanner,10*Math.random()+5)},r.updateOnceShowBanner=function(){u.getInstance().inViewBanner()},t}(a))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/ResultPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./Config.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts","./progress_lottery_config.ts","./LabelTickCtrl.ts","./three_lottery_config.ts","./diamond_lv_config.ts","./nine_lottery_config.ts","./DiamondNumTickCtrl.ts"],(function(t){"use strict";var e,i,n,o,a,r,l,s,c,d,u,h,f,p,m,g,v,b,y,I,k,L,D,N,A,T,C,x,w,_,B,O,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,c=t.Button,d=t.Prefab,u=t.find,h=t.Tween,f=t.Vec3,p=t.view,m=t.instantiate,g=t.log,v=t.director},function(t){b=t.PlatformJudge},function(t){y=t.CLIP},function(t){I=t.AudioHelper},function(t){k=t.PlatformConfig},function(t){L=t.Config},function(t){D=t.LocalData},function(t){N=t.RemoteConfig},function(t){A=t.PlatformManager},function(t){T=t.BaseUILayerCtrl},function(t){C=t.Utils},function(t){x=t.progress_lottery_config},function(t){w=t.LabelTickCtrl},function(t){_=t.three_lottery_config},function(t){B=t.diamond_lv_config},function(t){O=t.nine_lottery_config},function(t){P=t.DiamondNumTickCtrl}],execute:function(){var R,U,S,z,M,V,F,E,K,H,W,J,X,Z,q,Q,j,G,Y,$,tt,et,it;r._RF.push({},"9081fsbKhBCHo++BAo/6RzJ","ResultPageCtrl",void 0);var nt=l.ccclass,ot=l.property;t("ResultPageCtrl",(R=nt("ResultPageCtrl"),U=ot(w),S=ot(P),z=ot(w),M=ot(P),V=ot(P),F=ot(s),E=ot(s),K=ot(c),H=ot(c),W=ot(d),R((Z=e((X=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(o(e),"bulletTick",Z,o(e)),n(o(e),"baseDiamondTick",q,o(e)),n(o(e),"diamondBufferTick",Q,o(e)),n(o(e),"totalDiamondTick",j,o(e)),n(o(e),"videoDiamondTick",G,o(e)),n(o(e),"diamondNode",Y,o(e)),n(o(e),"arrow",$,o(e)),n(o(e),"videoButton",tt,o(e)),n(o(e),"singleButton",et,o(e)),n(o(e),"interstitialLayerPrefab",it,o(e)),a(o(e),"bulletNum",0),a(o(e),"baseDiamondNum",0),a(o(e),"totalDiamondNum",0),a(o(e),"videoDiamondNum",0),e}i(e,t);var r=e.prototype;return r.init=function(t,e){I.play("audio",y.SUCESS),A.getInstance().endRecord(),D.levelIndex++,D.levelIndex>=L.levelMax?D.levelIndex=L.levelMax-1:A.getInstance().trackEvent("",{branchId:"BCBgAAoXHx5d0rIBcVl4Wi",branchDim:(D.levelIndex-1).toString(),eventType:1}),D.save(),this.bulletNum=e,this.baseDiamondNum=t,this.totalDiamondNum=Math.floor((t+e)*B[D.diamondLV].buffer),this.videoDiamondTick.label.string=this.totalDiamondNum},r.playInAction=function(){var t=this;this.animation.play(this.inActionName);var e=u("light",this.node);new h(e).to(10,{eulerAngles:new f(0,0,360)}).call((function(){e.eulerAngles=f.ZERO})).union().repeatForever().start(),this.scheduleOnce((function(){var e=p.getVisibleSize().height/2-L.ui.TOP_OFFSET;t.diamondNode.position=new f(480,e,0),new h(t.diamondNode).to(.5,{position:new f(247,e,0)}).start()}),2)},r.onInActionFinish=function(){var e=this;if(t.prototype.onInActionFinish.call(this),b.isWX){var i=!0;if(-1!=D.progressLotteryIndex){var n=x[D.progressLotteryIndex];if(D.itemUnlocked(n.type,n.index)){D.progressLotteryIndex=-1;for(var o=0;o<x.length;o++){var a=x[o];if(0==D.itemUnlocked(a.type,a.index)){D.progressLotteryIndex=o;break}}-1!=D.progressLotteryIndex&&(u("progressLottery",this.node).active=!0,i=!1)}else u("progressLottery",this.node).active=!0,i=!1}i&&this.scheduleOnce((function(){e.playBottomInAction()}),.1)}},r.onInActionFinishForOppo=function(){var t=this;if(!b.isWX){if(-1!=D.progressLotteryIndex){var e=x[D.progressLotteryIndex];if(D.itemUnlocked(e.type,e.index)){D.progressLotteryIndex=-1;for(var i=0;i<x.length;i++){var n=x[i];if(0==D.itemUnlocked(n.type,n.index)){D.progressLotteryIndex=i;break}}-1!=D.progressLotteryIndex&&(u("progressLottery",this.node).active=!0)}else u("progressLottery",this.node).active=!0}this.scheduleOnce((function(){t.playBottomInAction()}),.1)}},r.tickPeopleLabel=function(){this.bulletTick.tickLabel(0,this.bulletNum,1)},r.tickBaseDiamond=function(){this.baseDiamondTick.tickLabel(0,this.baseDiamondNum,1)},r.tickDiamondBuffer=function(){this.diamondBufferTick.tickLabel(0,B[D.diamondLV].buffer,1)},r.tickTotalDiamond=function(){this.totalDiamondTick.tickLabel(0,this.totalDiamondNum,1)},r.playBottomInAction=function(){b.isTT?this.__playBottomInActionForTT():this.__playBottomInActionForOther()},r.__playBottomInActionForTT=function(){var t=p.getVisibleSize(),e=u("ttNode",this.node);e.active=!0,e.position=new f(0,-t.height/2-150,0),new h(e).to(.8,{position:new f(0,-266,0)},{easing:"backOut"}).start()},r.__playBottomInActionForOther=function(){var t=this;b.isOppo||b.isVivo||b.isMZ&&A.getInstance().hadNativeAdInfo()?N.interstitialDelayInResult>0&&this.scheduleOnce((function(){m(t.interstitialLayerPrefab).parent=u("Canvas")}),N.interstitialDelayInResult):b.isMZ&&0==A.getInstance().hadNativeAdInfo()?N.interstitialDelayInResult>0&&this.scheduleOnce((function(){A.getInstance().showInterstitialAd({}),A.getInstance().tryLoadNativeAdInfo({})}),N.interstitialDelayInResult):b.isQQ&&N.interstitialDelayInResult>0&&this.scheduleOnce((function(){A.getInstance().showInterstitialAd({})}),N.interstitialDelayInResult),A.getInstance().trackEvent("wx",{branchId:k.wx.tracks.RESULT_N_DIAMOND,eventType:1});var e=u("pan",this.node);if(e.active=!0,1==D.levelIndex){var i=u("finger",e),n=u("video",e),o=u("normal",e);i.active=!0,o.position=new f(0,-66,0),n.active=!1}var a=p.getVisibleSize();e.position=new f(0,-a.height/2-150,0),new h(e).to(.8,{position:new f(0,-266,0)},{easing:"backOut"}).start(),1!=D.levelIndex&&this.scheduleOnce((function(){u("singleButton",t.node).active=!0}),b.isOppo||b.isVivo?.5:2),this.startArrowAction()},r.onSingleButtonClick=function(){var t=this;I.play("audio",y.CLICK_NORMAL_BUTTON),A.getInstance().vibrateShort("light"),this.videoButton.interactable=!1,this.singleButton.interactable=!1;for(var e=u("ttNode",this.node).getComponentsInChildren(c),i=0;i<e.length;i++)e[i].interactable=!1;D.diamond+=this.totalDiamondNum,D.save(),this.totalDiamondTick.tickLabel(null,0,1),this.scheduleOnce((function(){t.gotoNext(),t.playOutAction()}),1.5)},r.onShareRecordButtonClick=function(){var t=this;I.play("audio",y.CLICK_NORMAL_BUTTON),A.getInstance().vibrateShort("light"),A.getInstance().share((function(e,i){if(e){D.diamond+=2*t.totalDiamondNum,D.save(),t.totalDiamondTick.tickLabel(null,0,1),t.scheduleOnce((function(){t.gotoNext(),t.playOutAction()}),1.5);for(var n=u("ttNode",t.node).getComponentsInChildren(c),o=0;o<n.length;o++)n[o].interactable=!1}else C.popToast(i)}),{})},r.onVideoButtonClick=function(){I.play("audio",y.CLICK_NORMAL_BUTTON),this.stopArrowAction(),u("pan/video",this.node).active?(A.getInstance().trackEvent("wx",{branchId:k.wx.tracks.RESULT_N_DIAMOND,eventType:2}),A.getInstance().vibrateShort("light"),A.getInstance().showVideo({branchId:k.wx.tracks.RESULT_N_DIAMOND},this.onVideoAdComplete.bind(this))):this.onVideoAdComplete(!0,"")},r.onVideoAdComplete=function(t,e){var i=this;t?(D.cumVideoConunt++,D.diamond+=this.videoDiamondNum,this.videoDiamondTick.tickLabel(null,0,1),D.save(),this.videoButton.interactable=!1,this.singleButton.interactable=!1,this.scheduleOnce((function(){i.gotoNext(),i.playOutAction()}),1.5)):(this.startArrowAction(),C.popToast(e))},r.onDoubleAdButtonClick=function(){I.play("audio",y.CLICK_NORMAL_BUTTON),A.getInstance().vibrateShort("light"),A.getInstance().showVideo({},this.onDoubleAdComplete.bind(this))},r.onDoubleAdComplete=function(t,e){var i=this;if(t){D.cumVideoConunt++,D.diamond+=2*this.totalDiamondNum,this.totalDiamondTick.tickLabel(null,0,1),D.save();for(var n=u("ttNode",this.node).getComponentsInChildren(c),o=0;o<n.length;o++)n[o].interactable=!1;this.scheduleOnce((function(){i.gotoNext(),i.playOutAction()}),1.5)}else C.popToast(e)},r.startArrowAction=function(){var t=this,e=new f(0,0,43),i=new f(0,0,-43),n=new f;new h(this.arrow).to(1.5,{},{easing:"quadOut",onUpdate:function(o,a){f.lerp(n,e,i,a),t.arrow.eulerAngles=n;var r=0,l=Math.abs(n.z);r=l>32?2:l>22?3:l>9.9?4:5;var s=t.totalDiamondNum*r;t.videoDiamondNum!=s&&(t.videoDiamondNum=s,t.videoDiamondTick.tickLabel(null,s,.5),t.videoDiamondNum=s)}}).to(1.5,{},{easing:"quadOut",onUpdate:function(o,a){f.lerp(n,i,e,a),t.arrow.eulerAngles=n;var r=0,l=Math.abs(n.z);r=l>32?2:l>22?3:l>9.9?4:5;var s=t.totalDiamondNum*r;t.videoDiamondNum!=s&&(t.videoDiamondNum=s,t.videoDiamondTick.tickLabel(null,s,.5),t.videoDiamondNum=s)}}).union().repeatForever().start()},r.stopArrowAction=function(){h.stopAllByTarget(this.arrow)},r.gotoNext=function(){0==this.popNinePage()&&0==this.popThreePage()&&this.nextLevel()},r.popThreePage=function(){if(-1==D.threeLotteryIndex)return!1;var t=_[D.threeLotteryIndex];if(D.itemUnlocked(t.type,t.index)){D.threeLotteryIndex=-1;for(var e=0;e<_.length;e++){var i=_[e];if(0==D.itemUnlocked(i.type,i.index)){D.threeLotteryIndex=e;break}}}return-1!=D.threeLotteryIndex&&(C.loadResWithCorrection("pages/lotteryPage/threeChoicePage",d,(function(t,e){if(t)return g(t);m(e).parent=u("Canvas")})),!0)},r.popNinePage=function(){if(D.pickKeyNum<3)return!1;if(-1==D.nineLotteryIndex)return!1;var t=O[D.nineLotteryIndex];if(D.itemUnlocked(t.type,t.index)){D.nineLotteryIndex=-1;for(var e=0;e<O.length;e++){var i=O[e];if(0==D.itemUnlocked(i.type,i.index)){D.nineLotteryIndex=e;break}}}return-1!=D.nineLotteryIndex&&(C.loadResWithCorrection("pages/lotteryPage/nineChoicePage",d,(function(t,e){if(t)return g(t);m(e).parent=u("Canvas")})),!0)},r.nextLevel=function(){v.loadScene("GameScene")},e}(T)).prototype,"bulletTick",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(X.prototype,"baseDiamondTick",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(X.prototype,"diamondBufferTick",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(X.prototype,"totalDiamondTick",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(X.prototype,"videoDiamondTick",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(X.prototype,"diamondNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(X.prototype,"arrow",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(X.prototype,"videoButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(X.prototype,"singleButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(X.prototype,"interstitialLayerPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=X))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameCameraCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts"],(function(t){"use strict";var n,e,o,i,s,a,r,c,A,l,C,p,u,E,h,f,y,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,c=t.Vec3,A=t.Quat,l=t.Node,C=t.Tween,p=t.find,u=t.Component},function(t){E=t.CameraState,h=t.Config,f=t.GameState},function(t){y=t.NotificationCenter,d=t.NCKeys}],execute:function(){var R,_,L,P,z;a._RF.push({},"93448mVSGBBa7cP7/sZFCXh","GameCameraCtrl",void 0);var m=r.ccclass,T=r.property,S=new c,M=new c,g=new A;t("GameCameraCtrl",(R=m("GameCameraCtrl"),_=T(l),R((z=n((P=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(i(n),"hero",z,i(n)),s(i(n),"state",E.WAIT),n}e(n,t);var a=n.prototype;return a.reset=function(){this.node.position=h.constant.CAMERA_PLACE.WAIT.position,this.node.eulerAngles=h.constant.CAMERA_PLACE.WAIT.eulerAngles,this.state=E.WAIT},a.startRun=function(){this.state=E.CHASE},a.startPerpare=function(){this.state=E.SHOT;var t=this.node.rotation,n=A.fromEuler(new A,h.constant.CAMERA_PLACE.SHOT.eulerAngles.x,h.constant.CAMERA_PLACE.SHOT.eulerAngles.y,h.constant.CAMERA_PLACE.SHOT.eulerAngles.z),e=new C(this.node);e.delay(.7).call((function(){var t=p("Canvas_back/cloud"),n=new c(0,20,0);new C(t).to(.5,{position:n}).start()})).to(1,{},{onUpdate:function(e,o){A.slerp(g,t,n,o),e.rotation=g}}).call((function(){y.postNotice(d.GAME_STATE,{state:f.SHOT_CASTLE})})).start(),(e=new C(this.node)).to(1.1,{position:h.constant.CAMERA_PLACE.SHOT.position}).start()},a.lateUpdate=function(t){if(this.state==E.CHASE){var n=(h.constant.VERTICAL_SPEED+1)*t,e=this.node.position,o=this.hero.position;S.x=h.constant.CAMERA_PLACE.RUN.position.x,S.y=o.y+h.constant.CAMERA_PLACE.RUN.position.y,S.z=o.z+h.constant.CAMERA_PLACE.RUN.position.z,M.x=S.x-e.x,M.y=S.y-e.y,M.z=S.z-e.z,M.length()<n?(this.node.position=S,this.state=E.FOLLOW):(M.normalize(),S.x=e.x+M.x*n,S.y=e.y+M.y*n,S.z=e.z+M.z*n,this.node.position=S)}else if(this.state==E.FOLLOW){var i=this.node.position,s=this.hero.position;i.x=h.constant.CAMERA_PLACE.RUN.position.x,i.y=s.y+h.constant.CAMERA_PLACE.RUN.position.y,i.z=s.z+h.constant.CAMERA_PLACE.RUN.position.z,this.node.position=i}},n}(u)).prototype,"hero",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=P))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/SigninItemCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./hat_config.ts","./shoes_config.ts","./cannon_config.ts","./signin_config.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,s,c,d,u,h,b,g,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.CCInteger,s=e.Label,c=e.Node,d=e.Tween,u=e.Vec3,h=e.Component},function(e){b=e.hat_config},function(e){g=e.shoes_config},function(e){p=e.cannon_config},function(e){y=e.signin_config}],execute:function(){var f,m,v,N,w,L,G,C,_,I,k,T,z,S,x;o._RF.push({},"951b8m7AFVGc703G/FS9r/h","SigninItemCtrl",void 0);var M=r.ccclass,A=r.property;e("SigninItemCtrl",(f=M("SigninItemCtrl"),m=A(l),v=A(s),N=A(s),w=A(c),L=A(c),G=A(c),f((I=t((_=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(a(t),"dayIndex",I,a(t)),i(a(t),"dayLabel",k,a(t)),i(a(t),"bottomLabel",T,a(t)),i(a(t),"checkMarkNode",z,a(t)),i(a(t),"canGetNode",S,a(t)),i(a(t),"goldCanGetNode",x,a(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.dayLabel.string="第"+this.dayIndex+"天"},o.setCantGet=function(){var e=y[this.dayIndex];"shoes"==e.rewardType?this.bottomLabel.string=g[e.value].name:"hat"==e.rewardType?this.bottomLabel.string=b[e.value].name:"cannon"==e.rewardType?this.bottomLabel.string=p[e.value].name:this.bottomLabel.string=e.value.toString(),d.stopAllByTarget(this.node),this.node.scale=u.ONE,this.checkMarkNode.active=!1,this.canGetNode.active=!1,this.goldCanGetNode.active=!1},o.setCanGet=function(){var e=y[this.dayIndex];"shoes"==e.rewardType?this.bottomLabel.string=g[e.value].name:"hat"==e.rewardType?this.bottomLabel.string=b[e.value].name:"cannon"==e.rewardType?this.bottomLabel.string=p[e.value].name:this.bottomLabel.string=e.value.toString(),this.checkMarkNode.active=!1,new d(this.node).to(1,{scale:new u(1.1,1.1,1.1)}).to(1,{scale:new u(.9,.9,.9)}).union().repeatForever().start(),this.canGetNode.active=!0,this.goldCanGetNode.active=!0},o.setAlreadyGet=function(){y[this.dayIndex];this.bottomLabel.string="已领取",this.canGetNode.active=!1,this.checkMarkNode.active=!0,this.goldCanGetNode.active=!1,d.stopAllByTarget(this.node),this.node.scale=u.ONE},t}(h)).prototype,"dayIndex",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=t(_.prototype,"dayLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(_.prototype,"bottomLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"checkMarkNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(_.prototype,"canGetNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(_.prototype,"goldCanGetNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=_))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/FreeForeverLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./TryOutHeroCtrl.ts","./BaseUILayerFromMainPageCtrl.ts"],(function(t){"use strict";var e,r,n,o,i,s,a,l,c,u,d,h,f,p,y,I,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,l=t.find,c=t.Vec3},function(t){u=t.PlatformJudge},function(t){d=t.CLIP},function(t){h=t.AudioHelper},function(t){f=t.LocalData},function(t){p=t.PlatformManager},function(t){y=t.Utils},function(t){I=t.TryOutHeroCtrl},function(t){v=t.BaseUILayerFromMainPageCtrl}],execute:function(){var C,g,m,x,L;s._RF.push({},"95bf3WUZWROZYJq7QqlWvUM","FreeForeverLayerCtrl",void 0);var O=a.ccclass,F=a.property;t("FreeForeverLayerCtrl",(C=O("FreeForeverLayerCtrl"),g=F(I),C((L=e((x=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(o(e),"tryOutHeroCtrl",L,o(e)),i(o(e),"hatIndex",-1),i(o(e),"shoesIndex",-1),e}r(e,t);var s=e.prototype;return s.start=function(){if(u.isOppo||u.isVivo){var t=l("bg/inner/noThanks",this.node);t.active=!0,(t=l("bg/inner/closeButton",this.node)).active=!1}else if(u.isStrict){var e=l("bg/inner/strictButton",this.node),r=l("bg/inner/adButton",this.node);e.active=!0,r.position=new c(115,-212,0)}},s.init=function(t,e){this.hatIndex=t,this.shoesIndex=e,this.tryOutHeroCtrl.setHatIndex(t),this.tryOutHeroCtrl.setShoesIndex(e)},s.onGetButtonClick=function(){h.play("audio",d.CLICK_NORMAL_BUTTON),p.getInstance().vibrateShort("medium"),p.getInstance().showVideo({},this.onAdComplete.bind(this))},s.onAdComplete=function(t,e){t?(f.addOrUnlockItem("hat",this.hatIndex),f.addOrUnlockItem("shoes",this.shoesIndex),f.curHatIndex=this.hatIndex,f.curShoesIndex=this.shoesIndex,this.playOutAction()):y.popToast(e)},e}(v)).prototype,"tryOutHeroCtrl",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/YangQunHunmanTest.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./YangQunHeroTest.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,u,c,h,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,u=t.Vec3,c=t.RigidBody,h=t.find,l=t.Component},function(t){f=t.YangQunHeroTest}],execute:function(){var p,d,y,g,H;s._RF.push({},"96e728AlNVLeIABV6Y9KNl7","YangQunHunmanTest",void 0);var T=a.ccclass,_=a.property,R=new u;t("YangQunHunmanTest",(p=T("YangQunHunmanTest"),d=_(c),p((H=e((g=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(o(e),"rigidBody",H,o(e)),r(o(e),"selfTouchDelay",0),r(o(e),"_touchStartX",-100),r(o(e),"_touchTargetX",-100),r(o(e),"offsetWithHero",new u),r(o(e),"delayWithHero",0),e}n(e,t);var s=e.prototype;return s.start=function(){this.hero=h("hero"),u.subtract(this.offsetWithHero,this.hero.position,this.node.position),this.delayWithHero=Math.floor(20*-this.offsetWithHero.z)},s.update=function(t){var e=f.HERO_POSITION_ARRAY.length-this.delayWithHero,n=f.HERO_POSITION_ARRAY[e];n&&(R.set(n.x,n.y,n.z),R.x-=this.offsetWithHero.x,this.node.setPosition(R))},e}(l)).prototype,"rigidBody",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationCenter.ts",["cc"],(function(_){"use strict";var E,A;return{setters:[function(_){E=_.cclegacy,A=_.assert}],execute:function(){E._RF.push({},"9a95fwRFERHY43ZgIHxqoyb","NotificationCenter",void 0);var O=_("NCKeys",{EVENT_HIDE:"EVENT_HIDE",EVENT_SHOW:"EVENT_SHOW",BASEUILAYER_SHOW:"BASEUILAYER_SHOW",BASEUILAYER_HIDE:"BASEUILAYER_HIDE",GUDIE_MARK:"GUDIE_MARK",RESORT_SERVANT:"RESORT_SERVANT",RESORT_SERVANT_DIRTY:"RESORT_SERVANT_DIRTY",DEAD_EFFECT:"DEAD_EFFECT",HERO_DEAD:"HERO_DEAD",ALIVE_SERVANT_NUM:"ALIVE_SERVANT_NUM",GAME_STATE:"GAME_STATE",SHOW_TRY_OUT_PAGE:"SHOW_TRY_OUT_PAGE",MAP_RES_LOAD_PROGRESS:"MAP_RES_LOAD_PROGRESS",SHOT_BEGIN:"SHOT_BEGIN",CASTLE_PROGRESS:"CASTLE_PROGRESS",SHOT_DIAMOND_BEGIN:"SHOT_DIAMOND_BEGIN",BIG_DIAMOND_GET_DIAMOND:"BIG_DIAMOND_GET_DIAMOND",PLAY_GET_DIAMOND:"PLAY_GET_DIAMOND",PLAY_GET_KEY:"PLAY_GET_KEY",REBOREN_HERO:"REBOREN_HERO",RESET_GAME:"RESET_GAME",MAIN_PAGE_PLAY_IN_ACTION:"MAIN_PAGE_PLAY_IN_ACTION",LOCALDATA_DIAMOND:"LOCALDATA_DIAMOND",LOCALDATA_DIAMOND_LV:"LOCALDATA_DIAMOND_LV",LOCALDATA_SHOT_LV:"LOCADATA_SHOT_LV",LOCALDATA_HAT_INDEX:"LOCALDATA_HAT_INDEX",LOCALDATA_SHOES_INDEX:"LOCALDATA_SHOES_INDEX",LOCALDATA_CANNON_INDEX:"LOCALDATA_CANNON_INDEX",LOCALDATA_PICK_KEY_NUM:"LOCALDATA_PICK_KEY_NUM",CUM_VIDEO_COUNT:"CUM_VIDEO_COUNT",SHOP_LAYER_ITEM_SELECTED:"SHOP_LAYER_ITEM_SELECTED",THREE_LOTTERY_CARD_BE_CLICK:"THREE_LOTTERY_CARD_BE_CLICK",NINE_LOTTERY_CHECKMARK_SHOW:"NINE_LOTTERY_CHECKMARK_SHOW",LOADING_PAGE_DISAPPEAR:"LOADING_PAGE_DISAPPEAR",CLCIK_SHOT_DIAMOND_BUTTON:"CLCIK_SHOT_DIAMOND_BUTTON",BIG_DIAMOND_BREAK_PROGRESS:"BIG_DIAMOND_BREAK_PROGRESS",TRY_OUT_SUCESS:"TRY_OUT_SUCESS"}),T=_("NotificationCenter",{_observers:{},addObserver:function(_,E,O){A(null!=_,"key  cant be null"),A(null!=E,"fun  cant be null"),A(null!=O,"target  cant be null"),null==this._observers[_]&&(this._observers[_]=[]),this._observers[_].push({fun:E,target:O})},removeObserver:function(_,E){null==E&&A(!1,"target must not be null"),null!=this._observers[_]&&(this._observers[_]=this._observers[_].filter((function(_){return _.target!=E})))},postNotice:function(_,E){null!=this._observers[_]&&this._observers[_].forEach((function(_){_.fun.call(_.target,E)}))}});window.NotificationCenter=T,window.NCKeys=O,E._RF.pop()}}}));

System.register("chunks:///_virtual/GrabLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./BaseUILayerFromMainPageCtrl.ts"],(function(e){"use strict";var t,i,o,r,a,n,s,l,c,h,u,d,p,b,g,k,v,m,f,w,y,S,N,P,T,B,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){n=e.cclegacy,s=e._decorator,l=e.ProgressBar,c=e.Node,h=e.Sprite,u=e.SpriteAtlas,d=e.Label,p=e.Vec3,b=e.view,g=e.find,k=e.UITransform,v=e.Animation,m=e.Tween},function(e){f=e.PlatformJudge},function(e){w=e.CLIP},function(e){y=e.AudioHelper},function(e){S=e.NotificationCenter,N=e.NCKeys},function(e){P=e.LocalData},function(e){T=e.PlatformManager},function(e){B=e.Utils},function(e){L=e.BaseUILayerFromMainPageCtrl}],execute:function(){var C,I,O,F,E,A,z,R,_,M,G,H,V,D,U,W,j,x,Q,J,K;n._RF.push({},"9ac58eZT8dPE4RP/JcjSSeA","GrabLayerCtrl",void 0);var X=s.ccclass,Z=s.property;e("GrabLayerCtrl",(C=X("GrabLayerCtrl"),I=Z(l),O=Z(c),F=Z(c),E=Z(c),A=Z(h),z=Z(u),R=Z(d),_=Z(c),M=Z(d),C((V=t((H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(r(t),"bar",V,r(t)),o(r(t),"clickButtonNode",D,r(t)),o(r(t),"selectedBall",U,r(t)),o(r(t),"hookNode",W,r(t)),o(r(t),"rewardIcon",j,r(t)),o(r(t),"atlas",x,r(t)),o(r(t),"rewardLabel",Q,r(t)),o(r(t),"diamondNode",J,r(t)),o(r(t),"tickLabel",K,r(t)),a(r(t),"tickStartTimeStamp",0),a(r(t),"hookStartPos",new p(0,290,0)),a(r(t),"hookEndPos",new p(0,54,0)),a(r(t),"hookCurPos",new p(0,0,0)),a(r(t),"barTicked",!1),a(r(t),"clickStartTimeStamp",0),a(r(t),"bannerShowed",!1),t}i(t,e);var n=t.prototype;return n.start=function(){var e=b.getVisibleSize(),t=100;f.isWX||f.isQQ||(t=300),this.clickButtonNode.worldPosition=new p(e.width/2,t,0),g("rope",this.hookNode).getComponent(k).height=e.height/2},n.onDestroy=function(){S.removeObserver(N.EVENT_SHOW,this)},n.onClickButtonClick=function(){var e=this;y.play("audio",w.CLICK_NORMAL_BUTTON);var t,i=g("finger",this.clickButtonNode);i.active&&(null===(t=this.clickButtonNode.getComponent(v))||void 0===t||t.stop(),i.active=!1);this.bar.progress+=.1,0==this.barTicked&&this.bar.progress>=.15&&(this.barTicked=!0,this.schedule(this.updateForBarTick),this.clickStartTimeStamp=dayjs().unix()),(f.isWX||f.isQQ)&&0==this.bannerShowed&&this.bar.progress>=.5&&(this.bannerShowed=!0,T.getInstance().inViewBanner(),this.scheduleOnce((function(){S.removeObserver(N.EVENT_SHOW,e),T.getInstance().outViewBanner()}),1.5+1*Math.random()),S.addObserver(N.EVENT_SHOW,this.onGameShow,this),this.unschedule(this.updateForBarTick)),p.lerp(this.hookCurPos,this.hookStartPos,this.hookEndPos,this.bar.progress),this.hookNode.position=this.hookCurPos,this.bar.progress>=1&&this.getSelectedBall()},n.onGameShow=function(){S.removeObserver(N.EVENT_SHOW,this),this.bar.progress=1,this.getSelectedBall()},n.getSelectedBall=function(){var e=this;this.hookNode.position=this.hookEndPos,this.unschedule(this.updateForBarTick),this.clickButtonNode.active=!1;var t=g("left",this.hookNode),i=g("right",this.hookNode),o=new m(t);o.to(.5,{eulerAngles:new p(0,-30,0)}).start(),(o=new m(i)).to(.5,{eulerAngles:new p(0,30,0)}).start(),(o=new m(this.hookNode)).delay(1).call((function(){var t=e.selectedBall.worldPosition;e.selectedBall.parent=e.hookNode,e.selectedBall.worldPosition=t})).to(1,{position:this.hookStartPos},{easing:"backOut"}).call(this.getReward.bind(this)).start()},n.getReward=function(){var e;g("bg",this.node).active=!1;var t=g("reward",this.node);t.active=!0,null===(e=t.getComponent(v))||void 0===e||e.play();var i=g("light",t);new m(i).to(10,{eulerAngles:new p(0,0,360)}).call((function(){i.eulerAngles=p.ZERO})).union().repeatForever().start();var o=this.getRewardInfo();"diamond"==o.type?(this.rewardIcon.node.active=!1,this.diamondNode.active=!0,this.rewardLabel.string="钻石 +"+o.value,this.tickLabel.node.active=!1):(this.rewardIcon.node.active=!0,this.rewardIcon.spriteFrame=this.atlas.getSpriteFrame(""+o.type+o.value),this.diamondNode.active=!1,this.rewardLabel.string=P.getItemName(o.type,o.value),this.tickLabel.node.active=!0,this.tickStartTimeStamp=dayjs().unix(),this.schedule(this.updateForTickLabel,.5),this.updateForTickLabel()),P.addOrTryOutItem(o.type,o.value),P.equipItem(o.type,o.value),P.save()},n.getRewardInfo=function(){var e=[],t=P.getRandomGrayHat();-1!=t&&e.push({type:"hat",value:t});var i=P.getRandomGrayShoes();-1!=i&&e.push({type:"shoes",value:i});var o=P.getRandomGrayCannon();return-1!=o&&e.push({type:"cannon",value:o}),e.push({type:"diamond",value:200}),e[Math.floor(e.length*Math.random())]},n.updateForBarTick=function(e){var t=this.bar.progress;t-=.001,this.bar.progress=t,p.lerp(this.hookCurPos,this.hookStartPos,this.hookEndPos,this.bar.progress),this.hookNode.position=this.hookCurPos,t<=0?(this.clickButtonNode.active=!1,this.unschedule(this.updateForBarTick),this.playOutAction(),B.popToast("很遗憾你的手速太慢了")):this.bar.progress=t},n.updateForTickLabel=function(){var e=7200-(dayjs().unix()-this.tickStartTimeStamp);this.tickLabel.string="剩余时间 :"+B.formatSecondToHMS2(e)},t}(L)).prototype,"bar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"clickButtonNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(H.prototype,"selectedBall",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(H.prototype,"hookNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(H.prototype,"rewardIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(H.prototype,"atlas",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(H.prototype,"rewardLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(H.prototype,"diamondNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(H.prototype,"tickLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=H))||G));n._RF.pop()}}}));

System.register("chunks:///_virtual/Mankind.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(e){"use strict";var n,t,i,o,r,a,s,l,c,u,h,p,d,f,M,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,c=e.MeshRenderer,u=e.SkeletalAnimation,h=e.Color,p=e.Tween,d=e.Component},function(e){f=e.MankindColor,M=e.MankindRole,m=e.Config}],execute:function(){var C,y,b,v,g,k,R,w,N;a._RF.push({},"9ec9e3fC4lIAbXk3lWM1qaI","Mankind",void 0);var O=s.ccclass,z=s.property;e("Mankind",(C=O("Mankind"),y=z(l),b=z(c),v=z(u),C((R=n((k=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,i(o(n),"bodyNode",R,o(n)),r(o(n),"color",f.NONE),r(o(n),"role",M.NONE),r(o(n),"state",null),i(o(n),"meshRenderer",w,o(n)),r(o(n),"hMainColor",null),i(o(n),"animation",N,o(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.initMatHandle()},a.initMatHandle=function(){var e=this.meshRenderer.getMaterialInstance(0);this.pass=e.passes[1],this.hMainColor=this.pass.getHandle("mainColor")},a.setColor=function(e,n){var t=this;if(this.color!=e)if(this.color=e,n){var i=new h;this.pass.getUniform(this.hMainColor,i);var o=m.constant.COLORS[this.color];new p(this.node).to(.5,{},{onUpdate:function(e,n){var r=new h;h.lerp(r,i,o,n),t.pass.setUniform(t.hMainColor,r)}}).start()}else{var r=m.constant.COLORS[this.color];this.pass.setUniform(this.hMainColor,r)}},a.startDead=function(e){},n}(d)).prototype,"bodyNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(k.prototype,"meshRenderer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(k.prototype,"animation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts","./LocalData.ts","./DiamondNumTickCtrl.ts"],(function(t){"use strict";var i,n,e,o,r,a,c,l,s,u,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Component},function(t){l=t.NotificationCenter,s=t.NCKeys},function(t){u=t.LocalData},function(t){d=t.DiamondNumTickCtrl}],execute:function(){var D,f,p,m,C;r._RF.push({},"9fcaeFdScVAPq/ZN04eTrKT","DiamondNodeCtrl",void 0);var h=a.ccclass,N=a.property;t("DiamondNodeCtrl",(D=h("DiamondNodeCtrl"),f=N(d),D((C=i((m=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(o(i),"tickCtrl",C,o(i)),i}n(i,t);var r=i.prototype;return r.onEnable=function(){l.addObserver(s.LOCALDATA_DIAMOND,this.onDiamond,this),this.tickCtrl.tickLabel(u.diamond,u.diamond,.5)},r.onDisable=function(){l.removeObserver(s.LOCALDATA_DIAMOND,this)},r.onDiamond=function(t){this.tickCtrl.tickLabel(null,u.diamond,1)},i}(c)).prototype,"tickCtrl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/diamond_lv_config.ts",["cc"],(function(f){"use strict";var e;return{setters:[function(f){e=f.cclegacy}],execute:function(){e._RF.push({},"a1363YrMotNu4qWPZyLZB3y","diamond_lv_config",void 0);f("diamond_lv_config",[{buffer:1,cost:50},{buffer:1.1,cost:150},{buffer:1.2,cost:250},{buffer:1.3,cost:400},{buffer:1.4,cost:500},{buffer:1.5,cost:550},{buffer:1.6,cost:600},{buffer:1.7,cost:650},{buffer:1.8,cost:700},{buffer:1.9,cost:750},{buffer:2,cost:800},{buffer:2.1,cost:810},{buffer:2.2,cost:820},{buffer:2.3,cost:830},{buffer:2.4,cost:840},{buffer:2.5,cost:850},{buffer:2.6,cost:860},{buffer:2.7,cost:870},{buffer:2.8,cost:880},{buffer:2.9,cost:890},{buffer:3,cost:900},{buffer:3.1,cost:910},{buffer:3.2,cost:920},{buffer:3.3,cost:930},{buffer:3.4,cost:940},{buffer:3.5,cost:950},{buffer:3.6,cost:960},{buffer:3.7,cost:970},{buffer:3.8,cost:980},{buffer:3.9,cost:990},{buffer:4,cost:1e3},{buffer:4.1,cost:1100},{buffer:4.2,cost:1200},{buffer:4.3,cost:1300},{buffer:4.4,cost:1400},{buffer:4.5,cost:1500},{buffer:4.6,cost:1600},{buffer:4.7,cost:1700},{buffer:4.8,cost:1800},{buffer:4.9,cost:1900},{buffer:5,cost:2e3},{buffer:5.1,cost:2100},{buffer:5.2,cost:2200},{buffer:5.3,cost:2300},{buffer:5.4,cost:2400},{buffer:5.5,cost:2500},{buffer:5.6,cost:2600},{buffer:5.7,cost:2700},{buffer:5.8,cost:2800},{buffer:5.9,cost:2900},{buffer:6,cost:3e3},{buffer:6.1,cost:3100},{buffer:6.2,cost:3200},{buffer:6.3,cost:3300},{buffer:6.4,cost:3400},{buffer:6.5,cost:3500},{buffer:6.6,cost:3600},{buffer:6.7,cost:3700},{buffer:6.8,cost:3800},{buffer:6.9,cost:3900},{buffer:7,cost:4e3},{buffer:7.1,cost:4100},{buffer:7.2,cost:4200},{buffer:7.3,cost:4300},{buffer:7.4,cost:4400},{buffer:7.5,cost:4500},{buffer:7.6,cost:4600},{buffer:7.7,cost:4700},{buffer:7.8,cost:4800},{buffer:7.9,cost:4900},{buffer:8,cost:0}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerItemCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,l,c,p,h,u,f,d,y,_,b,g,L,m,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,l=t.SpriteAtlas,c=t.Sprite,p=t.Node,h=t.Label,u=t.Tween,f=t.Vec3,d=t.Component},function(t){y=t.CLIP},function(t){_=t.AudioHelper},function(t){b=t.NotificationCenter,g=t.NCKeys},function(t){L=t.LocalData},function(t){m=t.PlatformManager},function(t){S=t.Utils}],execute:function(){var C,N,v,I,T,x,A,D,E,P,w;a._RF.push({},"a45b0ucHEtEjZRD5eVhe/Dh","ShopLayerItemCtrl",void 0);var z=s.ccclass,H=s.property;t("ShopLayerItemCtrl",(C=z("ShopLayerItemCtrl"),N=H(l),v=H(c),I=H(p),T=H(h),C((D=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"atlas",D,r(e)),n(r(e),"iconSprite",E,r(e)),n(r(e),"selectedNode",P,r(e)),n(r(e),"tipLabel",w,r(e)),o(r(e),"_type","hat"),o(r(e),"_index",0),o(r(e),"_info",void 0),e}i(e,t);var a=e.prototype;return a.init=function(t,e,i,n){this._type=t,this._index=e,this._info=i,u.stopAllByTarget(this.node),this.node.scale=f.ONE,this.refresh(n)},a.refresh=function(t){this.iconSprite.spriteFrame=this.atlas.getSpriteFrame(this._type+this._index),L.itemUnlocked(this._type,this._index)?(this.iconSprite.grayscale=!1,this.tipLabel.string=""):(this.iconSprite.grayscale=!0,"signin"==this._info.access?this.tipLabel.string="签到解锁":this.tipLabel.string="未解锁"),this.selectedNode.active=t},a.onSelfClick=function(){_.play("audio",y.CLICK_NORMAL_BUTTON),m.getInstance().vibrateShort("light"),L.itemUnlocked(this._type,this._index)?b.postNotice(g.SHOP_LAYER_ITEM_SELECTED,{type:this._type,index:this._index}):"diamond"==this._info.access?S.popToast("可花费钻石解锁本道具"):S.popToast("本道具需签到解锁")},e}(d)).prototype,"atlas",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(A.prototype,"iconSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(A.prototype,"selectedNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(A.prototype,"tipLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShareLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./BaseUILayerFromMainPageCtrl.ts"],(function(t){"use strict";var e,r,a,i,n,o,s,c,l,u,f,h,p,d,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.Label,c=t.find,l=t.Vec3},function(t){u=t.PlatformJudge},function(t){f=t.CLIP},function(t){h=t.AudioHelper},function(t){p=t.LocalData},function(t){d=t.PlatformManager},function(t){y=t.Utils},function(t){g=t.BaseUILayerFromMainPageCtrl}],execute:function(){var L,C,m,S,v;n._RF.push({},"a5d56So7pJKDoA6xhVvXg/k","ShareLayerCtrl",void 0);var b=o.ccclass,B=o.property;t("ShareLayerCtrl",(L=b("ShareLayerCtrl"),C=B(s),L((v=e((S=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(i(e),"remainLabel",v,i(e)),e}r(e,t);var n=e.prototype;return n.onLoad=function(){u.isStrict&&(c("bg/wxButton",this.node).position=new l(117,-282,0),c("bg/strictNode",this.node).active=!0)},n.start=function(){this.refresh()},n.refresh=function(){this.remainLabel.string="(今日还可领取"+(5-p.todayShareSucessTime)+"次)"},n.onFriendButtonClick=function(){var t=this;h.play("audio",f.CLICK_NORMAL_BUTTON),d.getInstance().vibrateShort("light"),d.getInstance().share((function(e,r){e?p.todayShareSucessTime<5&&(p.todayShareSucessTime++,p.diamond+=100,p.save(),t.refresh()):y.popToast(r)}),{type:"wx"})},n.onCloseButtonClick=function(){h.play("audio",f.CLICK_BACK_BUTTON),d.getInstance().vibrateShort("light"),this.playOutAction()},e}(g)).prototype,"remainLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=S))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/TouchForShotNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./RemoteConfig.ts","./PlatformManager.ts"],(function(t){"use strict";var i,e,o,r,n,s,a,c,h,l,u,p,S,d,T,g,b,m,N,f,O,v,_,y,E,C,w,P,B,I,F,k;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.defineProperty},function(t){s=t.cclegacy,a=t.geometry,c=t._decorator,h=t.Vec3,l=t.Sprite,u=t.Node,p=t.SpriteFrame,S=t.Label,d=t.Camera,T=t.Canvas,g=t.ProgressBar,b=t.Vec2,m=t.log,N=t.view,f=t.Tween,O=t.find,v=t.Animation,_=t.Component},function(t){y=t.CLIP},function(t){E=t.AudioHelper},function(t){C=t.ShotState,w=t.Config,P=t.GameState},function(t){B=t.NotificationCenter,I=t.NCKeys},function(t){F=t.RemoteConfig},function(t){k=t.PlatformManager}],execute:function(){var A,H,D,L,R,z,M,U,G,V,x,K,j,W,J,q,Q,X,Y,Z,$,tt,it;s._RF.push({},"a710bVyc0hA3Jjf44p56Sde","TouchForShotNodeCtrl",void 0);var et=a.Ray,ot=c.ccclass,rt=c.property,nt=new h(0,0,0);t("TouchForShotNodeCtrl",(A=ot("TouchForShotNodeCtrl"),H=rt(l),D=rt(u),L=rt([p]),R=rt(S),z=rt(d),M=rt(u),U=rt(T),G=rt(u),V=rt(u),x=rt(g),A((W=i((j=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(r(i),"collimatorSpr",W,r(i)),o(r(i),"tipNode",J,r(i)),o(r(i),"frames",q,r(i)),o(r(i),"remainLabel",Q,r(i)),o(r(i),"camera",X,r(i)),o(r(i),"test",Y,r(i)),o(r(i),"canvas",Z,r(i)),o(r(i),"clickButtonNode",$,r(i)),o(r(i),"progressFatherNode",tt,r(i)),o(r(i),"bar",it,r(i)),n(r(i),"clickStartTimeStamp",0),n(r(i),"barTicked",!1),n(r(i),"bannerShowed",!1),n(r(i),"state",C.NONE),n(r(i),"touchStartPos",new b),n(r(i),"touchLastPos",new b),n(r(i),"collimatorStartPos",new h),n(r(i),"diamondProjectivePosition",new b),n(r(i),"touchSensitivity",1),n(r(i),"isFirstTouch",!0),i}e(i,t);var s=i.prototype;return s.onEnable=function(){this.node.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this.onFingerSliding,this),this.node.on(u.EventType.TOUCH_END,this.onFingerSliding,this),this.node.on(u.EventType.TOUCH_CANCEL,this.onFingerSliding,this),this.collimatorSpr.node.active=!1,this.tipNode.active=!0,this.clickButtonNode.active=!1,this.progressFatherNode.active=!1,this.barTicked=!1,this.bannerShowed=!1,this.clickStartTimeStamp=0,F.bannerInShot&&k.getInstance().outViewBanner()},s.onDisable=function(){this.node.off(u.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this.onFingerSliding,this),this.node.off(u.EventType.TOUCH_END,this.onFingerSliding,this),this.node.off(u.EventType.TOUCH_CANCEL,this.onFingerSliding,this),this.unschedule(this.updateForBarTick),B.removeObserver(I.EVENT_SHOW,this)},s.onTouchStart=function(t){t.getUILocation(this.touchStartPos),this.collimatorSpr.node.getPosition(this.collimatorStartPos),this.isFirstTouch&&(B.postNotice(I.SHOT_BEGIN,null),this.isFirstTouch=!1,this.collimatorSpr.node.active=!0,this.tipNode.active=!1)},s.onFingerSliding=function(t){if(this.state!=C.SHOT_DIAMOND||!w.CLICK_BUTTON_TO_SHOT_DIAMOND)if(-1e4!=this.touchStartPos.x){t.getUILocation(this.touchLastPos);var i=this.touchLastPos.x-this.touchStartPos.x,e=this.touchLastPos.y-this.touchStartPos.y;nt.x=this.collimatorStartPos.x+i*this.touchSensitivity,nt.y=this.collimatorStartPos.y+e*this.touchSensitivity,this.collimatorSpr.node.position=nt}else t.getUILocation(this.touchStartPos)},s.startShotCastle=function(t,i){this.state=C.SHOT_CASTLE,this.touchSensitivity=1.5,this.collimatorSpr.spriteFrame=this.frames[t],this.collimatorSpr.node.position=new h(0,0,0),this.isFirstTouch=!0,this.remainLabel.string=i},s.startShotDiamond=function(t){if(m("collimatorPos",this.touchLastPos),this.state=C.SHOT_DIAMOND,this.touchSensitivity=.3,this.collimatorSpr.node.position=t,this.collimatorStartPos.set(t),this.touchStartPos.x=-1e4,w.CLICK_BUTTON_TO_SHOT_DIAMOND){var i;this.clickButtonNode.active=!0;var e=N.getVisibleSize(),o=new h(0,-e.height/2+90,0);0==F.bannerInShot&&(o.y+=210),this.clickButtonNode.active=!0,this.clickButtonNode.position=new h(0,-e.height/2-100,0);var r=new f(this.clickButtonNode);r.to(1,{position:o},{easing:"backOut"}).start(),O("finger",this.clickButtonNode).active=!0,null===(i=this.clickButtonNode.getComponent(v))||void 0===i||i.play(),this.progressFatherNode.active=!0,this.progressFatherNode.position=new h(0,e.height/2+100,0),(r=new f(this.progressFatherNode)).to(1,{position:new h(0,e.height/2-238,0)},{easing:"backOut"}).start(),this.bar.progress=0,this.unschedule(this.updateForBarTick),this.barTicked=!1}},s.setRemainShotNum=function(t){this.remainLabel.string=t},s.getShotEndPosition=function(){var t;null===(t=this.canvas.cameraComponent)||void 0===t||t.worldToScreen(this.collimatorSpr.node.worldPosition,nt);var i=this.camera.screenPointToRay(nt.x,nt.y,et.create()),e=(w.constant.HERO_SHOT_POSITION.z-13.5-i.o.z)/i.d.z,o=i.o.x+e*i.d.x,r=i.o.y+e*i.d.y;return nt.x=o,nt.y=r,nt.z=w.constant.HERO_SHOT_POSITION.z-13.5,nt},s.onClickButtonClick=function(){var t=this;E.play("audio",y.CLICK_NORMAL_BUTTON),B.postNotice(I.CLCIK_SHOT_DIAMOND_BUTTON,null);var i,e=O("finger",this.clickButtonNode);e.active&&(null===(i=this.clickButtonNode.getComponent(v))||void 0===i||i.stop(),e.active=!1);this.bar.progress+=.1,B.postNotice(I.BIG_DIAMOND_BREAK_PROGRESS,this.bar.progress),0==this.barTicked&&this.bar.progress>=.2&&(this.barTicked=!0,this.schedule(this.updateForBarTick),this.clickStartTimeStamp=dayjs().unix()),F.bannerInShot&&0==this.bannerShowed&&this.bar.progress>=.5&&(this.bannerShowed=!0,k.getInstance().inViewBanner(),this.scheduleOnce((function(){B.removeObserver(I.EVENT_SHOW,t),k.getInstance().outViewBanner()}),1.5+1*Math.random()),this.unschedule(this.updateForBarTick),B.addObserver(I.EVENT_SHOW,this.onGameShow,this)),this.bar.progress>=1&&B.postNotice(I.GAME_STATE,{state:P.SHOT_END})},s.updateForBarTick=function(t){var i=this.bar.progress;i-=.001,this.bar.progress=i,i<=0?B.postNotice(I.GAME_STATE,{state:P.SHOT_END}):(this.bar.progress=i,B.postNotice(I.BIG_DIAMOND_BREAK_PROGRESS,this.bar.progress))},s.onGameShow=function(){B.removeObserver(I.EVENT_SHOW,this),this.bar.progress=1,B.postNotice(I.BIG_DIAMOND_BREAK_PROGRESS,this.bar.progress),B.postNotice(I.GAME_STATE,{state:P.SHOT_END})},i}(_)).prototype,"collimatorSpr",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(j.prototype,"tipNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(j.prototype,"frames",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(j.prototype,"remainLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(j.prototype,"camera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(j.prototype,"test",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(j.prototype,"canvas",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(j.prototype,"clickButtonNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(j.prototype,"progressFatherNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(j.prototype,"bar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=j))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterMZ.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts","./Utils.ts"],(function(t){"use strict";var n,e,i,o,r,a,s,l,c,h,d;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.view,s=t.Prefab},function(t){l=t.PlatformNotify},function(t){c=t.AdapterBase},function(t){h=t.PlatformConfig},function(t){d=t.Utils}],execute:function(){o._RF.push({},"a947aIUzl1GtYVmqup6lUmr","AdapterMZ",void 0);r.ccclass,r.property,t("AdapterMZ",function(t){function o(){var n;return n=t.call(this)||this,e(i(n),"_video",null),e(i(n),"_banner",null),e(i(n),"_nativeBannerPrefab",null),e(i(n),"_native",null),e(i(n),"_bannerNative",null),e(i(n),"_interstitial",null),e(i(n),"_cb",null),n._createVideo(),n._createBanner(),n._createNative(),n._createInterstitial(),console.log("AdapterMZ 构造成功"),n}n(o,t);var r=o.prototype;return r._createVideo=function(){var t=this;this._video=qg.createRewardedVideoAd({adUnitId:h.mz.videoId}),this._video.onLoad((function(){console.log("video onLoad"),t._video.show()})),this._video.onError((function(n){console.log("video onError",n),t._cb&&t._cb(!1,"暂无广告"),t._cb=null})),this._video.onClose((function(n){console.log("video onClose",n),t._cb&&t._cb(!0,null),t._cb=null}))},r.showVideo=function(t,n){this._cb=n,this._video.load()},r._createBanner=function(){var t=this;if(!h.mz.bannerId)return console.log("bannerId为空，不执行banner");var n=a.getVisibleSize(),e=o.convertToMZStyle(n.width/2,50,n.width,100);this._banner=qg.createBannerAd({adUnitId:h.mz.bannerId,style:e}),this._banner.onClose((function(){console.log("banner 被关闭了，需要重新创建"),t._banner=null,setTimeout((function(){t._createBanner()}),1e3)})),this._banner.onLoad((function(){console.log("banner onLoad")})),this._banner.onError((function(t){console.log("banner onError",t)})),this._banner.onResize((function(n){console.log("banner onResize",n,t._banner);var e=t._banner.style,i=window.qg.getSystemInfoSync(),o=i.screenWidth,r=i.screenHeight;(Math.abs(o-(e.width+2*e.left))>=5||Math.abs(r-e.top-e.height)>=5)&&(t._banner.style.left=(o-e.width)/2,t._banner.style.top=r-e.height)}))},r.hadShareAbility=function(){return!1},r.hadCollectAbility=function(){return!1},r.getNativeBannerPrefab=function(t){if(this._nativeBannerPrefab)return t(this._nativeBannerPrefab);d.loadResWithCorrection("Platform/prefab/nativeBanner",s,(function(n,e){return t(n?null:e)}))},r.showBanner=function(t){this._showDefaultBanner()},r._showDefaultBanner=function(){var t=this,n=window.qg.getSystemInfoSync(),e=(n.screenWidth,n.screenHeight),i=a.getVisibleSize().height/e;this._banner?(this._banner.show(),l.postNotice(l.BANNER_SHOW_HEIGHT,{height:this._banner.style.height*i})):(this._createBanner(),setTimeout((function(){t._showDefaultBanner()}),2e3))},r.hideBanner=function(t){this._banner&&(t.tryDestroy?(this._banner.destroy(),this._banner=null,this._createBanner()):this._banner.hide()),l.postNotice(l.BANNER_SHOW_HEIGHT,{height:0})},r._createNative=function(){this._native=this.__createNativeWithId(h.mz.nativeId)},r.__createNativeWithId=function(t){var n=qg.createNativeAd({adUnitId:t});return console.log("native 创建成功",t),n.onLoad((function(t){console.log("native onLoad",t),n.adList=t.adList,l.postNotice(l.NATIVE_AD_LOADED,null)})),n.onError((function(t){console.log("native onError",t)})),setTimeout((function(){n.load()}),5e3),n},r.hadNativeAdInfo=function(){var t=this._native;return!!(t.adList&&t.adList.length>0)||(this.tryLoadNativeAdInfo({}),!1)},r.getNativeAdInfo=function(t){var n=this._native;if(n.adList&&n.adList.length>0){var e=n.adList.shift(),i={native:n,info:e};return console.log("消耗了native info",e),i}return null},r.tryLoadNativeAdInfo=function(t){var n=this._native;n.adList&&0!=n.adList.length||n.load()},r._createInterstitial=function(){var t=this;this._interstitial=qg.createInsertAd({adUnitId:h.mz.interstitialId}),this._interstitial.onLoad((function(){t._interstitial.show()})),this._interstitial.onError((function(t){console.log("_interstitial onError",t)}))},r.showInterstitialAd=function(){this._interstitial||this._createInterstitial(),this._interstitial.load()},o.convertToMZStyle=function(t,n,e,i){var o=window.qg.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight),s=a.getVisibleSize().height/r,l=e/s,c=i/s;return{left:t/s-l/2,top:r-n/s-c/2,width:l,height:c}},o}(c));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabelsCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LanguageConfig.ts"],(function(e){"use strict";var a,t,n,r,i,l,o,u,s,g;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.Label,u=e.CCString,s=e.Component},function(e){g=e.LanguageConfig}],execute:function(){var c,b,p,f,L,y,h,m,C,v,d,P;i._RF.push({},"ab130qLUEZOHq0fa9dHce3w","LanguageLabelsCtrl",void 0);var w=l.ccclass,z=l.property,_=(c=w("LanguageParam"),b=z(o),p=z(u),c((y=a((L=function(){t(this,"label",y,this),t(this,"languageKey",h,this)}).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=a(L.prototype,"languageKey",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=L))||f);e("LanguageLabelsCtrl",(m=w("LanguageLabelsCtrl"),C=z([_]),m((P=a((d=function(e){function a(){for(var a,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return a=e.call.apply(e,[this].concat(i))||this,t(r(a),"labelParams",P,r(a)),a}return n(a,e),a.prototype.onLoad=function(){for(var e=0;e<this.labelParams.length;e++){var a=this.labelParams[e];a.languageKey&&(a.label.string=g.get(a.languageKey))}},a}(s)).prototype,"labelParams",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=d))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts"],(function(t){"use strict";var e,i,a,r,n,o,c,l,s,u,p,y,f,C,v,d,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,c=t.Node,l=t.Prefab,s=t.log,u=t.find,p=t.instantiate},function(t){y=t.CLIP},function(t){f=t.AudioHelper},function(t){C=t.LocalData},function(t){v=t.PlatformManager},function(t){d=t.BaseUILayerCtrl},function(t){L=t.Utils}],execute:function(){var g,h,N,b,I,_,A,B,P;n._RF.push({},"b01a5aFzMlCjY4Kq4nWBlCi","PrivacyLayerCtrl",void 0);var O=o.ccclass,T=o.property;t("PrivacyLayerCtrl",(g=O("PrivacyLayerCtrl"),h=T(c),N=T(c),b=T(c),g((A=e((_=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(r(e),"closeNode",A,r(e)),a(r(e),"rejectNode",B,r(e)),a(r(e),"acceptNode",P,r(e)),e}i(e,t);var n=e.prototype;return n.start=function(){},n.setFirstIn=function(){this.closeNode.active=!1,this.rejectNode.active=!0,this.acceptNode.active=!0},n.onCloseButtonClick=function(){f.play("audio",y.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),this.playOutAction()},n.onAcceptButtonClick=function(){f.play("audio",y.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),C.acceptPrivacy=!0,C.save(),this.playOutAction()},n.onRejectButtonClick=function(){f.play("audio",y.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),L.popAlert({msg:"拒绝隐私政策将无法进行游戏，确定退出游戏吗？",sureCb:function(){v.getInstance().exitGame()}})},n.onLinkButtonClick=function(){f.play("audio",y.CLICK_NORMAL_BUTTON),v.getInstance().vibrateShort("light"),L.loadResWithCorrection("pages/privacyLayer/privacyDetailLayer",l,(function(t,e){if(t)return s(t);u("Canvas/privacyDetailLayer")||(p(e).parent=u("Canvas"))}))},e}(d)).prototype,"closeNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(_.prototype,"rejectNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(_.prototype,"acceptNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=_))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/QQIconNode.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./PlatformManager.ts"],(function(o){"use strict";var e,t,n,i,r,a,c,l,s,u,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,c=o.Node,l=o.Vec3,s=o.Component},function(o){u=o.PlatformJudge},function(o){p=o.PlatformManager}],execute:function(){var d,f,Q,b,g,h,y;r._RF.push({},"b0831EECZ1GCa25FhoK6vWx","QQIconNode",void 0);var B=a.ccclass,v=a.property;o("QQIconNode",(d=B("QQIconNode"),f=v(c),Q=v(c),d((h=e((g=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=o.call.apply(o,[this].concat(r))||this,n(i(e),"appBoxNodeButton",h,i(e)),n(i(e),"blockAd",y,i(e)),e}t(e,o);var r=e.prototype;return r.onLoad=function(){u.isQQ&&(this.appBoxNodeButton.active=!0)},r.onEnable=function(){if(u.isQQ){var o=new l(this.blockAd.worldPosition);o.x=520,p.getInstance().showBlockAd({center:o,size:80})}},r.onDisable=function(){u.isQQ&&p.getInstance().hideBlockAd({tryDestroy:!0})},r.onAppBoxButtonClick=function(){p.getInstance().showAppBox()},e}(s)).prototype,"appBoxNodeButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(g.prototype,"blockAd",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopLayerHeroCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){"use strict";var t,o,n,i,r,a,s,h,d,l,c,u,f,p,g,_,y,I,S,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,h=e.Node,d=e.Animation,l=e.Tween,c=e.Vec3,u=e.Prefab,f=e.isValid,p=e.log,g=e.instantiate,_=e.Layers,y=e.MeshRenderer,I=e.UIMeshRenderer,S=e.Component},function(e){N=e.Utils}],execute:function(){var m,v,b,w,F,A,x,H,L,C,U;a._RF.push({},"b1ba5fV03ZEmZkN49Otx8zL","ShopLayerHeroCtrl",void 0);var M=s.ccclass,R=s.property;e("ShopLayerHeroCtrl",(m=M("ShopLayerHeroCtrl"),v=R(h),b=R(h),w=R(h),F=R(d),m((H=t((x=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(i(t),"headNode",H,i(t)),n(i(t),"leftFootNode",L,i(t)),n(i(t),"rightFootNode",C,i(t)),n(i(t),"animation",U,i(t)),r(i(t),"_curHatIndex",-1),r(i(t),"_curShoesIndex",-1),t}o(t,e);var a=t.prototype;return a.start=function(){var e=this;this.animation.on(d.EventType.FINISHED,this.onAnimationFinish,this),new l(this.node).to(15,{eulerAngles:new c(0,360,0)}).call((function(){e.node.eulerAngles=c.ZERO})).union().repeatForever().start()},a.onDestroy=function(){this.animation.off(d.EventType.FINISHED,this.onAnimationFinish,this)},a.onAnimationFinish=function(){this.animation.crossFade("shop_idle")},a.showHat=function(){l.stopAllByTag(528,this.node);var e=new l(this.node);e.to(.75,{position:new c(100,-100,0)},{easing:"cubicOut"}).to(.75,{position:new c(0,-100,0)},{easing:"cubicIn"}).tag(528).start(),(e=new l(this.node)).to(1.5,{scale:new c(250,250,250)}).tag(528).start()},a.showShoes=function(){l.stopAllByTag(528,this.node);var e=new l(this.node);e.to(.75,{position:new c(-100,-100,0)},{easing:"cubicOut"}).to(.75,{position:new c(0,-100,0)},{easing:"cubicIn"}).tag(528).start(),(e=new l(this.node)).to(1.5,{scale:new c(900,900,900)}).tag(528).start()},a.setHatIndex=function(e){var t=this;if(this._curHatIndex!=e&&-1!=e){this.animation.crossFade("shop_look"),this._curHatIndex=e;var o=e;N.loadResWithCorrection("hat/hat"+o,u,(function(e,n){if(f(t.node))return e?p(e):void(o==t._curHatIndex&&(t._hatNode&&t._hatNode.destroy(),t._hatNode=g(n),t._hatNode.parent=t.headNode,t.changedNodeLayerAndUIMesh(t._hatNode)))}))}},a.setShoesIndex=function(e){var t=this;if(this._curShoesIndex!=e&&-1!=e){this.animation.crossFade("shop_look"),this._curShoesIndex=e;var o=e;N.loadResWithCorrection("shoes/shoes"+o+"_left",u,(function(e,n){if(f(t.node))return e?p(e):void(o==t._curShoesIndex&&(t._leftShoes&&t._leftShoes.destroy(),t._leftShoes=g(n),t._leftShoes.parent=t.leftFootNode,t.changedNodeLayerAndUIMesh(t._leftShoes)))})),N.loadResWithCorrection("shoes/shoes"+o+"_right",u,(function(e,n){if(f(t.node))return e?p(e):void(o==t._curShoesIndex&&(t._rightShoes&&t._rightShoes.destroy(),t._rightShoes=g(n),t._rightShoes.parent=t.rightFootNode,t.changedNodeLayerAndUIMesh(t._rightShoes)))}))}},a.changedNodeLayerAndUIMesh=function(e){if(e.layer=_.Enum.UI_2D,e.getComponent(y)&&e.addComponent(I),e.children.length>0)for(var t=e.children,o=0;o<t.length;o++)this.changedNodeLayerAndUIMesh(t[o])},t}(S)).prototype,"headNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(x.prototype,"leftFootNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(x.prototype,"rightFootNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"animation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=x))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./LocalData.ts","./BaseUILayerCtrl.ts","./AlertLayerCtrl.ts","./ToastCtrl.ts"],(function(e){"use strict";var t,r,n,o,a,i,s,u,c,l,f,h,d,p,m,v,g,C,y;return{setters:[function(e){t=e.cclegacy,r=e.Prefab,n=e.log,o=e.instantiate,a=e.find,i=e.isValid,s=e.assetManager,u=e.SpriteFrame,c=e.UITransform,l=e.resources,f=e.Quat,h=e.v3,d=e.BlockInputEvents,p=e.Tween,m=e.Vec3},function(e){v=e.LocalData},function(e){g=e.BaseUILayerCtrl},function(e){C=e.AlertLayerCtrl},function(e){y=e.ToastCtrl}],execute:function(){t._RF.push({},"b251eJz1BFFDZ4QYAyjnxrv","Utils",void 0);var T=e("Utils",{popAlert:function(e){this.loadResWithCorrection("pages/alertLayer/alertLayer",r,(function(t,r){if(t)return n(t);o(r).getComponent(C).init(e)}))},popToast:function(e){this.loadResWithCorrection("pages/toast/toast",r,(function(t,r){if(t)return n(t);var i=o(r);i.parent=a("Canvas"),i.getComponent(y).init(e)}))},isValid:function(e){return i(e,!0)&&null!=e.parent},formatSecondToHMS:function(e){var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return t>0?t+"时"+r+"分":r>0?r+"分"+n+"秒":n+"秒"},formatSecondToHMS2:function(e){var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return t>0?t+":"+r+":"+n:r>0?r+":"+numeral(n).format("00"):"0:"+numeral(n).format("00")},offsetDay:function(e,t){var r=dayjs(1e3*e).format("YYYY-MM-DD"),n=dayjs(1e3*t).format("YYYY-MM-DD");return dayjs(n).diff(dayjs(r),"day")},getCurTime:function(){return dayjs().unix()},secondOfDay:function(e){return(e+=28800)%86400},todayBeganTimeStamp:function(){var e=dayjs().format("YYYY-MM-DD");return dayjs(e,"YYYY-MM-DD").unix()},loadHeadIcon:function(e,t,r){""!=t&&null!=t&&s.loadRemote(t,(function(t,o){if(t)return n(t);if(i(e.node)){var a=new u;a.texture=o._texture,e.spriteFrame=a,e.node.getComponent(c).width=r,e.node.getComponent(c).height=r}}))},loadHeadIconAndVerification:function(e,t,r,o){""!=t&&null!=t&&s.load(t,(function(t,a){if(t)return n(t);if(i(e.node)&&o()){var s=new u;s.texture=a._texture,e.spriteFrame=s,e.node.getComponent(c).width=r,e.node.getComponent(c).height=r}}))},loadAdIcon:function(e,t,r){""!=t&&null!=t&&s.loadRemote(t,(function(t,o){if(t)return n(t);if(i(e.node)){var a=e.__imageAsset,c=new u;c.texture=o._texture,e.spriteFrame=c,e.__imageAsset=o,r&&r(o.width,o.height),a&&s.releaseAsset(a)}}))},formatString:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0==arguments.length)return"";for(var n=arguments[0],o=1;o<arguments.length;o++){var a=new RegExp("\\{"+(o-1)+"\\}","gm");n=n.replace(a,arguments[o])}return n},parseObjectToQuery:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+"="+e[r]);return t.join("&")},path2repeatTime:{},loadResWithCorrection:function(e,t,r){this.path2repeatTime[e]=3,this._loadResWithCorrection(e,t,r)},_loadResWithCorrection:function(e,t,r){var o=this;l.load(e,t,(function(a,i){if(a)return o.path2repeatTime[e]--,0==o.path2repeatTime[e]?PlatformJudge.isWX||PlatformJudge.isQQ?(window.wx.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",success:function(n){o.path2repeatTime[e]=3,o._loadResWithCorrection(e,t,r)}}),console.log(e,"加载失败啦")):PlatformJudge.isOppo?qg.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",showCancel:!1,success:function(){this.path2repeatTime[e]=3,this._loadResWithCorrection(e,t,r)}.bind(o)}):PlatformJudge.isVivo?qg.showDialog({title:"错误",message:"加载资源失败，请检查网络后点击确定按钮重试",buttons:[{text:"确定"}],complete:function(){o.path2repeatTime[e]=3,o._loadResWithCorrection(e,t,r)}}):PlatformJudge.isTT?tt.showModal({title:"错误",content:"下载资源失败，请检查网络，并且重启游戏",showCancel:!1,success:function(n){o.path2repeatTime[e]=3,o._loadResWithCorrection(e,t,r)}}):T.popAlert({msg:"下载资源失败，请检查网络，并且重启游戏",sureCb:function(n){o.path2repeatTime[e]=3,o._loadResWithCorrection(e,t,r)},cancelCb:function(n){o.path2repeatTime[e]=3,o._loadResWithCorrection(e,t,r)}},null):(n("重试:"+e+" 还剩"+o.path2repeatTime[e]),o._loadResWithCorrection(e,t,r)),n(a);r(a,i)}))},pathArray2repeatTime:{},loadResArrayWithCorrection:function(e,t){this.pathArray2repeatTime[e.join("_")]=3,this._loadResArrayWithCorrection(e,t)},_loadResArrayWithCorrection:function(e,t){var r=this;l.load(e,(function(o,a){if(o)return r.pathArray2repeatTime[e.join("_")]--,0==r.pathArray2repeatTime[e.join("_")]?PlatformJudge.isWX||PlatformJudge.isQQ?window.wx.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",success:function(n){r.pathArray2repeatTime[e.join("_")]=3,r._loadResArrayWithCorrection(e,t)}}):PlatformJudge.isOppo?qg.showModal({title:"错误",content:"加载资源失败，请检查网络后点击确定按钮重试",showCancel:!1,success:function(){this.pathArray2repeatTime[e.join("_")]=3,this._loadResArrayWithCorrection(e,t)}.bind(r)}):PlatformJudge.isVivo?qg.showDialog({title:"错误",message:"加载资源失败，请检查网络后点击确定按钮重试",buttons:[{text:"确定"}],complete:function(){r.pathArray2repeatTime[e.join("_")]=3,r._loadResArrayWithCorrection(e,t)}}):PlatformJudge.isTT?tt.showModal({title:"错误",content:"下载资源失败，请检查网络，并且重启游戏",showCancel:!1,success:function(n){r.pathArray2repeatTime[e.join("_")]=3,r._loadResArrayWithCorrection(e,t)}}):T.popAlert({msg:"下载资源失败，请检查网络，并且重启游戏",sureCb:function(n){r.pathArray2repeatTime[e.join("_")]=3,r._loadResArrayWithCorrection(e,t)},cancelCb:function(n){r.pathArray2repeatTime[e.join("_")]=3,r._loadResArrayWithCorrection(e,t)}},null):(n("重试:"+e.join("_")+" 还剩"+r.pathArray2repeatTime[e.join("_")]),r._loadResArrayWithCorrection(e,t)),n(o);t(o,a)}))},httpGet:function(e,t,r){e=e+"?"+this.parseObjectToQuery(t),n(e);var o=new XMLHttpRequest;o.onloadend=function(){200==o.status?(n("GET 得到",o.responseText),r(null,JSON.parse(o.responseText))):r(!0)},o.open("GET",e,!0),o.send()},randomWeighted:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];for(var n=Math.random()*t,o=0,a=0;a<e.length;a++)if(n<=(o+=e[a]))return a;return e.length-1},timeToMinute:function(e){if(e<=0)return"00:00";var t="";if(e>-1){var r=Math.floor(e/60)%60,n=e%60;r<10&&(t+="0"),t+=r+":",n<10&&(t+="0"),t+=n.toFixed(2)}return t=t.substring(0,t.length-3)},createUUID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},shuffle:function(e){for(var t=e.length-1;t>=0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[r];e[r]=e[t],e[t]=n}return e},formatNumber:function(e,t){if(e<1e4)return e.toFixed(0);var r=function(e){var t=e.toExponential(8).split("e"),r=parseInt(t[1]),n=Math.floor(r/3),o=r-3*n,a=parseFloat(t[0]);return{preNum:a*=Math.pow(10,o),threeZeroMu:n}}(e);if(r.threeZeroMu<5){return r.preNum.toFixed(1)+["","K","M","B","T"][r.threeZeroMu]}var n=r.threeZeroMu-5,o=Math.floor(n/26),a=n%26;if(o>26)return"999999zz";var i=String.fromCharCode(o+97)+String.fromCharCode(a+97);return r.preNum.toFixed(2)+i},popMeteorLayer:function(){T.loadResWithCorrection("prefabs/meteorLayer/meteorLayer",r,(function(e,t){if(!a("Canvas/meteorLayer")){if(e)return n(e);o(t).parent=a("Canvas")}}))},radianFromQ1SubQ2:function(e,t){var r=2*Math.acos(Math.abs(f.dot(e,t)));return n(r),r},tryPopRuinsLayer:function(e){T.isGuiding()||Math.random()>e||T.loadResWithCorrection("prefabs/ruinsLayer/ruinsLayerWX",r,(function(e,t){if(!a("Canvas/ruinsLayerWX")){if(e)return n(e);o(t).parent=a("Canvas")}}))},offsetNodePos:function(e,t){var r=h(e.position);r.add(t),e.position=r},hasBaseUILayerInCanvas:function(){for(var e=a("Canvas").children,t=0;t<e.length;t++)if(e[t].getComponent(g))return!0;return!1},number2percentage:function(e,t){return void 0===t&&(t=0),e<1?(100*e).toFixed(t)+"%":(100*e).toFixed(0)+"%"},_roman:["","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"],number2roman:function(e){return this._roman[e]},isGuiding:function(){var e;if(a("Canvas/dialog").active)return!0;var t=a("Canvas/gudieLayer");if(null===(e=t.getComponent(d))||void 0===e?void 0:e.enabled)return!0;var r=a("grayLayer",t);return!!r.active||!!(r=a("person",t)).active},randomAchieveComplete:function(){for(var e=Math.floor(Math.random()*v.achieveTipState.length),t=e;t<v.achieveTipState.length;t++)if(v.achieveTipState[t]>0)return{achieveIndex:t,achieveLv:v.achieveTipState[t]-1};for(var r=0;r<e;r++)if(v.achieveTipState[r]>0)return{achieveIndex:r,achieveLv:v.achieveTipState[r]-1};return{achieveIndex:0,achieveLv:0}},scaleNode:function(e,t,r,n){new p(e).to(t,{scale:new m(r,r,r)}).call(n).start()}});globalThis.Utils=T,t._RF.pop()}}}));

System.register("chunks:///_virtual/nine_lottery_config.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b34aceHsRNM2abvRa2QsQtI","nine_lottery_config",void 0);e("nine_lottery_config",[{type:"hat",index:4},{type:"hat",index:8},{type:"shoes",index:4},{type:"cannon",index:0},{type:"hat",index:13},{type:"hat",index:16},{type:"shoes",index:7},{type:"cannon",index:4},{type:"hat",index:19},{type:"hat",index:24},{type:"cannon",index:9},{type:"hat",index:28},{type:"hat",index:33},{type:"hat",index:36}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/MutualPushItemCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./HtsHelper.ts","./AudioCtrl.ts","./AudioHelper.ts","./Utils.ts"],(function(e){"use strict";var t,r,i,n,a,o,l,s,u,c,f,m,p,h,d,b,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Sprite,u=e.Label,c=e.SpriteFrame,f=e.assert,m=e.Component},function(e){p=e.PlatformJudge},function(e){h=e.HtsHelper},function(e){d=e.CLIP},function(e){b=e.AudioHelper},function(e){I=e.Utils}],execute:function(){var g,k,y,v,C,S,L,F,w,M,P,H,T,z,x;o._RF.push({},"b482dH9f2NMMaZve+RJMsy6","MutualPushItemCtrl",void 0);var _=l.ccclass,A=l.property;e("MutualPushItemCtrl",(g=_("MutualPushItemCtrl"),k=A(s),y=A(u),v=A(s),C=A(c),S=A(c),L=A(u),g((M=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(n(t),"icon",M,n(t)),i(n(t),"nameLabel",P,n(t)),i(n(t),"markSprite",H,n(t)),i(n(t),"redFrame",T,n(t)),i(n(t),"orangeFrame",z,n(t)),i(n(t),"markLabel",x,n(t)),a(n(t),"bid",""),a(n(t),"currentInfo",null),a(n(t),"totalInfo",[]),a(n(t),"currentIndex",0),a(n(t),"cancelCb",null),a(n(t),"sureCb",null),t}r(t,e);var o=t.prototype;return o.start=function(){},o.init=function(e,t){f(null!=t,"bid不能为空呀"),this.bid=t,this.totalInfo=e,this.currentInfo=e[0],this.refreshSelf(this.currentInfo),e.length>1?this.schedule(this.turnInfo,3):this.unschedule(this.turnInfo)},o.refreshSelf=function(e){I.loadAdIcon(this.icon,e.iconUrl,null),this.nameLabel.string=e.txt,"热门"==e.mark?(this.markSprite.spriteFrame=this.redFrame,this.markSprite.node.active=!0,this.markLabel.string=e.mark):"NEW"==e.mark?(this.markSprite.spriteFrame=this.orangeFrame,this.markSprite.node.active=!0,this.markLabel.string=e.mark):null!=e.mark&&""!=e.mark?(this.markSprite.spriteFrame=this.redFrame,this.markSprite.node.active=!0,this.markLabel.string=e.mark):this.markSprite.node.active=!1},o.turnInfo=function(){this.currentIndex++,this.currentInfo=this.totalInfo[this.currentIndex%this.totalInfo.length],this.refreshSelf(this.currentInfo)},o.onSelfClick=function(){var e=this;b.play("audio",d.CLICK_NORMAL_BUTTON);var t=h.getHtsIds().gid;p.isWX?window.wx.navigateToMiniProgram({appId:this.currentInfo.jumpKey,path:"?"+this.currentInfo.query,success:function(){console.log("navTo 成功",t,e.bid,e.currentInfo.mid)},fail:function(r){console.log("navTo 失败",t,e.bid,e.currentInfo.mid),e.cancelCb&&e.cancelCb()}}):p.isOppo&&window.qg.navigateToMiniGame({pkgName:this.currentInfo.jumpKey,path:"?"+this.currentInfo.query,extraData:{},success:function(){console.log("navTo 成功",t,e.bid,e.currentInfo.mid)},fail:function(r){console.log("navTo 失败",t,e.bid,e.currentInfo.mid),e.cancelCb&&e.cancelCb()}})},t}(m)).prototype,"icon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(w.prototype,"nameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(w.prototype,"markSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(w.prototype,"redFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"orangeFrame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(w.prototype,"markLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=w))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlTT.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./PlatformManager.ts"],(function(t){"use strict";var e,n,r,o,a,s,i,c,l,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.game,a=t.PhysicsSystem,s=t.Component},function(t){i=t.GameState},function(t){c=t.NotificationCenter,l=t.NCKeys},function(t){u=t.PlatformManager}],execute:function(){var f;n._RF.push({},"b5588Fl/WVAtI27/TxtvEhG","BannerCtrlTT",void 0);var T=r.ccclass;r.property,t("BannerCtrlTT",T("BannerCtrlTT")(f=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){var t=this;"ios"==tt.getSystemInfoSync().platform&&(o.setFrameRate(30),a.instance.fixedTimeStep=.0333333),u.getInstance().addRemoteInitFinishListener((function(){c.addObserver(l.GAME_STATE,t.onGameState,t)}))},r.onDestroy=function(){c.removeObserver(l.GAME_STATE,this)},r.onGameState=function(t){var e=t.state;e==i.WAIT?(console.log("BannerCtrlTT Wait"),u.getInstance().hideBanner({tryDestroy:!0})):e==i.RESULT&&(console.log("BannerCtrlTT RESULT"),u.getInstance().showBanner({}))},n}(s))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/sawDeadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Deadly.ts"],(function(e){"use strict";var t,n,o,r,i,a,s,l,u,c,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,u=e.CCFloat,c=e.Tween,p=e.Vec3},function(e){y=e.Deadly}],execute:function(){var d,b,f,w,g,h,P,v,m,D,O,_;a._RF.push({},"b5990Z2QLZBo4rFGgBHOQ9G","sawDeadly",void 0);var z=s.ccclass,A=s.property;e("SawDeadly",(d=z("SawDeadly"),b=A(l),f=A({type:u,tooltip:"电锯的尺寸"}),w=A({type:u,tooltip:"终点的位置，控制着齿轮是从左到右还是从右到做, -3或者+3比较合适"}),g=A({type:u,tooltip:"动起来的延迟时间"}),h=A({type:u,tooltip:"来回一个周期的时间"}),d((m=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(r(t),"body",m,r(t)),o(r(t),"_endPos",D,r(t)),o(r(t),"delay",O,r(t)),o(r(t),"time",_,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.startAction()},a.startAction=function(){var e=this;this.scheduleOnce((function(){var t=new c(e.body);t.to(e.time/2,{position:new p(e.endPos,0,0)},{easing:"quadInOut"}).to(e.time/2,{position:new p(-e.endPos,0,0)},{easing:"quadInOut"}).union().repeatForever().start(),t=new c(e.body);var n=1;e.endPos>0&&(n=-1),e.body.eulerAngles=new p(0,0,360*-n),t.to(e.time/2,{eulerAngles:new p(0,0,360*n)},{easing:"quadInOut"}).to(e.time/2,{eulerAngles:new p(0,0,360*-n)},{easing:"quadInOut"}).union().repeatForever().start()}),this.delay)},i(t,[{key:"scale",get:function(){return this.body.scale.x},set:function(e){this.body.scale=new p(e,e,e)}},{key:"endPos",get:function(){return this._endPos},set:function(e){this._endPos=e,this.body.position=new p(-e,0,0)}}]),t}(y)).prototype,"body",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(v.prototype,"scale",[f],Object.getOwnPropertyDescriptor(v.prototype,"scale"),v.prototype),D=t(v.prototype,"_endPos",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(v.prototype,"endPos",[w],Object.getOwnPropertyDescriptor(v.prototype,"endPos"),v.prototype),O=t(v.prototype,"delay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(v.prototype,"time",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=v))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/toolGameInnerNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./HtsHelper.ts","./PlatformManager.ts","./Utils.ts","./MutualPushItemCtrl.ts"],(function(t){"use strict";var e,n,o,i,r,l,a,s,c,u,p,f,h,d,m,v,g,P,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Prefab,s=t.Node,c=t.CCFloat,u=t.Vec3,p=t.instantiate,f=t.macro,h=t.UITransform,d=t.Component},function(t){m=t.PlatformJudge},function(t){v=t.HtsHelper},function(t){g=t.PlatformManager},function(t){P=t.Utils},function(t){b=t.MutualPushItemCtrl}],execute:function(){var y,C,I,w,F,H,M,R,S;r._RF.push({},"b7d348ELsRBTZGPMIuQLKX3","toolGameInnerNodeCtrl",void 0);var T=l.ccclass,_=l.property;t("ToolGameInnerNodeCtrl",(y=T("ToolGameInnerNodeCtrl"),C=_(a),I=_(s),w=_(c),y((M=e((H=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(i(e),"itemPrefab",M,i(e)),o(i(e),"content",R,i(e)),o(i(e),"itemScale",S,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){if((m.isOppo||m.isVivo)&&g.getInstance().hideBanner({}),v.toolArray.length>0){for(var t=P.shuffle(v.toolArray),e=v.getHtsIds().toolBid,n=new u(this.itemScale,this.itemScale,this.itemScale),o=0;o<t.length;o++){var i,r=p(this.itemPrefab);r.scale=n,null===(i=r.getComponent(b))||void 0===i||i.init(t[o],e),r.parent=this.content}this.schedule(this.updateForPos,0,f.REPEAT_FOREVER,2)}else this.node.active=!1},r.onDestroy=function(){},r.updateForPos=function(t){var e,n,o,i=null===(e=this.content.getComponent(h))||void 0===e?void 0:e.width,r=null===(n=this.content.parent)||void 0===n||null===(o=n.getComponent(h))||void 0===o?void 0:o.width;if(i<=r)this.unschedule(this.updateForPos);else{var l=new u(this.content.position);l.x-=.5,l.x<-(i-r+300)&&(l.x=-r/2),this.content.position=l}},e}(d)).prototype,"itemPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(H.prototype,"content",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(H.prototype,"itemScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=H))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlVivo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RemoteConfig.ts","./PlatformManager.ts","./NativeNodeCtrl.ts"],(function(n){"use strict";var e,t,r,a,o,i,s,c,u;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,a=n.game,o=n.PhysicsSystem,i=n.Component},function(n){s=n.RemoteConfig},function(n){c=n.PlatformManager},function(n){u=n.NativeNodeCtrl}],execute:function(){var l;t._RF.push({},"b9165Z+xI9PhLl23TBAjWSZ","BannerCtrlVivo",void 0);var f=r.ccclass;r.property,n("BannerCtrlVivo",f("BannerCtrlVivo")(l=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var r=t.prototype;return r.start=function(){var n=this;a.setFrameRate(30),o.instance.fixedTimeStep=.0333333,c.getInstance().addRemoteInitFinishListener((function(){n.schedule(n.takeTurnBanner,s.bannerTakeTurnInterval),c.getInstance().showBanner({type:"native"})}))},r.takeTurnBanner=function(){u.instance?console.log("当前插屏存在，不显示banner"):(c.getInstance().hideBanner({tryDestroy:!1}),c.getInstance().showBanner({type:"native"}))},t}(i))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondLvNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./diamond_lv_config.ts"],(function(t){"use strict";var e,o,i,n,a,r,s,l,c,d,b,f,u,h,m,p,L,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,l=t.Node,c=t.Vec3,d=t.Component},function(t){b=t.CLIP},function(t){f=t.AudioHelper},function(t){u=t.PlatformConfig},function(t){h=t.NotificationCenter,m=t.NCKeys},function(t){p=t.LocalData},function(t){L=t.PlatformManager},function(t){v=t.Utils},function(t){g=t.diamond_lv_config}],execute:function(){var D,I,A,C,_,y,N,O,w,T,V,z,M;a._RF.push({},"ba407U1NF5FQpmHLyOlzDoy","DiamondLvNodeCtrl",void 0);var P=r.ccclass,k=r.property;t("DiamondLvNodeCtrl",(D=P("DiamondLvNodeCtrl"),I=k(s),A=k(s),C=k(l),_=k(l),y=k(l),D((w=e((O=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(n(e),"bufferLabel",w,n(e)),i(n(e),"bottomLabel",T,n(e)),i(n(e),"diamondIcon",V,n(e)),i(n(e),"videoIcon",z,n(e)),i(n(e),"finger",M,n(e)),e}o(e,t);var a=e.prototype;return a.onEnable=function(){h.addObserver(m.LOCALDATA_DIAMOND_LV,this.refresh,this),h.addObserver(m.LOCALDATA_DIAMOND,this.refresh,this),this.refresh()},a.onDisable=function(){h.removeObserver(m.LOCALDATA_DIAMOND_LV,this),h.removeObserver(m.LOCALDATA_DIAMOND,this)},a.refresh=function(){var t=p.diamondLV;this.bufferLabel.string="x"+g[t].buffer+"倍",t<g.length-1?p.diamond<g[t].cost?(this.videoIcon.active=!0,this.diamondIcon.active=!1,this.bottomLabel.string="免费升级",this.bottomLabel.fontSize=24,this.bottomLabel.node.position=new c(24,-71,0),this.finger.active=!1,L.getInstance().trackEvent("wx",{branchId:u.wx.tracks.DIAMOND_LV,eventType:1})):(this.videoIcon.active=!1,this.diamondIcon.active=!0,this.bottomLabel.fontSize=30,this.bottomLabel.string="  "+v.formatNumber(g[t].cost),this.bottomLabel.node.position=new c(18,-71,0),this.finger.active=!0):(this.videoIcon.active=!1,this.diamondIcon.active=!1,this.bottomLabel.node.position=new c(0,-71,0),this.bottomLabel.string="已达满级",this.bottomLabel.fontSize=30,this.finger.active=!1)},a.onSelfButtonClick=function(){f.play("audio",b.CLICK_UPGRADE_BUTTON),L.getInstance().vibrateShort("light");var t=p.diamondLV;t<g.length-1?this.videoIcon.active?(L.getInstance().trackEvent("wx",{branchId:u.wx.tracks.DIAMOND_LV,eventType:2}),L.getInstance().showVideo({branchId:u.wx.tracks.DIAMOND_LV},this.onAdComplete.bind(this))):p.diamond<g[t].cost?v.popToast("钻石不足"):(p.diamond-=g[t].cost,p.diamondLV++):v.popToast("已达满级")},a.onAdComplete=function(t,e){t?(p.diamondLV++,p.cumVideoConunt++,v.popToast("恭喜获得免费升级")):v.popToast(e)},e}(d)).prototype,"bufferLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(O.prototype,"bottomLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(O.prototype,"diamondIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(O.prototype,"videoIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(O.prototype,"finger",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=O))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalTemp.ts",["cc"],(function(e){"use strict";var t,o;return{setters:[function(e){t=e.cclegacy,o=e._decorator}],execute:function(){t._RF.push({},"bc12f9f49RLObJWMgpgudVU","GlobalTemp",void 0);o.ccclass,o.property,e("GlobalTemp",{achievePoint:40,totalParticleProduceSpeed:0,particleAdMul:1,totalDustProduceSpeed:0,dustAdMul:1,totalThunderProduceSpeed:0,thunderAdMul:1,totalBrainCapacity:0,totalWisdomProduceSpeed:0,wisdomAdMul:1,neuronBuffer:0,technoBuffer:0,freeLayerRewardInfo:null,lotteryRewardInfos:[],cumVideoRewardInfo:null,shareRewardInfo:null,showResNotEoughtCount:0,redPointActives:{particle:!1,dust:!1,chaos:!1,material:!1,secret:!1,brain:!1,thought:!1,neuron:!1,technogy:!1}});t._RF.pop()}}}));

System.register("chunks:///_virtual/GrabBallColor.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,l,a,i,o,n,s,c,u;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,l=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){i=r.cclegacy,o=r._decorator,n=r.SpriteFrame,s=r.Sprite,c=r.math,u=r.Component}],execute:function(){var p,f,h,m,b,B,d,v,y;i._RF.push({},"bc837Xx4vBLvLSWqPCVVQYY","GrabBallColor",void 0);var g=o.ccclass,C=o.property;r("GrabBallColor",(p=g("GrabBallColor"),f=C([n]),h=C([s]),m=C([s]),p((d=e((B=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i))||this,l(a(e),"frames",d,a(e)),l(a(e),"normalBalls",v,a(e)),l(a(e),"selectedBalls",y,a(e)),e}return t(e,r),e.prototype.start=function(){for(var r=this.frames.length,e=0;e<this.normalBalls.length;e++){var t=Math.floor(c.random()*r);this.normalBalls[e].spriteFrame=this.frames[t]}for(var l=Math.floor(c.random()*r),a=0;a<this.selectedBalls.length;a++)this.selectedBalls[a].spriteFrame=this.frames[l]},e}(u)).prototype,"frames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(B.prototype,"normalBalls",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(B.prototype,"selectedBalls",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=B))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/shoes_config.ts",["cc"],(function(c){"use strict";var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"bd2e3FEcYZNiI93tJVPwcf4","shoes_config",void 0);c("shoes_config",[{name:"钉刺鞋",access:"ad"},{name:"小飞鞋",access:"ad"},{name:"运动鞋",access:"diamond"},{name:"吱吱鞋",access:"diamond"},{name:"木屐",access:"diamond"},{name:"拖鞋",access:"diamond"},{name:"兔子鞋",access:"diamond"},{name:"武士鞋",access:"diamond"},{name:"小丑鞋",access:"diamond"},{name:"黄金靴",access:"diamond"}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterHW.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformNotify.ts","./AdapterBase.ts","./PlatformConfig.ts","./Utils.ts"],(function(n){"use strict";var t,e,o,i,a,s,c,r,l,u,f,d;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,s=n.find,c=n.instantiate,r=n.Prefab},function(n){l=n.PlatformNotify},function(n){u=n.AdapterBase},function(n){f=n.PlatformConfig},function(n){d=n.Utils}],execute:function(){i._RF.push({},"bf42d3OcVJKOZn8D/US55jn","AdapterHW",void 0);a.ccclass,a.property,n("AdapterHW",function(n){function i(){var t;return t=n.call(this)||this,e(o(t),"_video",null),e(o(t),"_nativesMap",{}),e(o(t),"_nativeLoadAsyncCbMap",{}),e(o(t),"_transactionId",""),t._initOther(),t._createVideo(),t._createNative(),console.log("AdapterHW 初始化成功了"),t}t(i,n);var a=i.prototype;return a._initOther=function(){var n=this;hbs.onShow((function(){""===n._transactionId&&(console.log("onShow"),hbs.submitPlayerEvent({eventType:"GAMEBEGIN",eventId:dayjs().unix().toString(),success:function(t){console.log("游戏onShow上报成功了"),n._transactionId=t.transactionId},fail:function(n,t){console.log("游戏onShow上报失败了",n,t)}}),l.postNotice(l.ON_SHOW,null))})),hbs.onHide((function(){""!=n._transactionId&&(console.log("onHide"),hbs.submitPlayerEvent({eventType:"GAMEEND",eventId:n._transactionId,success:function(t){console.log("游戏onHide上报结束成功了"),n._transactionId=""},fail:function(n,t){console.log("游戏onHide上报失败了",n,t)}}),l.postNotice(l.ON_HIED,null))})),setInterval((function(){hbs.getPlayerExtraInfo({transactionId:n._transactionId,success:function(){},fail:function(){}})}),9e5),hbs.requestConsentUpdate&&hbs.requestConsentUpdate({success:function(n){consolg.log("询问用户意见状态",JSON.stringify(n));var t=n.consentStatus;hbs.setConsentStatus(t);n.isNeedConsent},fail:function(n){console.log("requestConsentUpdate fail data "+JSON.stringify(n))},complete:function(){}})},a.login=function(n){this.__gameLogin(n)},a.__gameLogin=function(n){var t=this,e={forceLogin:0,appid:f.hw.appId,success:function(t){console.log(" game login with real success:"+JSON.stringify(t)),n&&n()},fail:function(e,o){console.log("game login with real fail:"+e+", code:"+o),7004!=o&&2012!=o?7021!=o?d.popAlert({msg:"账户登录失败，请重新再试",sureCb:function(){t.__gameLogin(n)},cancelCb:t.exitGame.bind(t)}):d.popAlert({msg:"必须实名认证才能进行游戏。点击确定重新实名认证",sureCb:function(){t.__gameLogin(n)},cancelCb:t.exitGame.bind(t)}):d.popAlert({msg:"必须登录才能进行游戏。点击确定重新登录游戏",sureCb:function(){t.__gameLogin(n)},cancelCb:t.exitGame.bind(t)})}};hbs.gameLoginWithReal(e)},a._createVideo=function(){var n=this;this._video=hbs.createRewardedVideoAd({adUnitId:f.hw.videoId,success:function(){console.log("video创建成功"),n._video.load()},fail:function(n){console.log("video创建失败",n)}}),this._video.onLoad((function(){console.log("video onLoad")})),this._video.onError((function(n){console.log("video onError"+JSON.stringify(n))})),this._video.onClose((function(t){t.isEnded?n._cb&&n._cb(!0):n._cb&&n._cb(!1,"观看完整视频广告才能获得奖励"),n._video.load()}))},a.showVideo=function(n,t){this._cb=t;var e=this._video;if(null==e)return this._createVideo(),this._cb&&this._cb(!1,"暂无广告"),this._cb=null,console.log("视频广告不存在,现在开始创建，本次不不会展示");e.show()},a.showBanner=function(n){var t=this;this.getNativeAdInfo({asyncCb:function(n){if(n){var e=s("Canvas/nativeBanner");e?(e.active=!0,e.getComponent("NativeBannerCtrl").init(n),l.postNotice(l.BANNER_SHOW_HEIGHT,{height:102})):t.getNativeBannerPrefab((function(t){if(t&&!s("Canvas/nativeBanner")){var e=c(t);e.getComponent("NativeBannerCtrl").init(n),e.parent=s("Canvas"),l.postNotice(l.BANNER_SHOW_HEIGHT,{height:102})}}))}else console.log("没有拉取到native的数据，所以banner不显示了")},pos:"banner"})},a.hideBanner=function(n){var t=s("Canvas/nativeBanner");t&&(n.tryDestroy?t.destroy():t.active=!1,this.tryLoadNativeAdInfo())},a.getNativeBannerPrefab=function(n){if(this._nativeBannerPrefab)return n(this._nativeBannerPrefab);d.loadResWithCorrection("Platform/prefab/nativeBanner",r,(function(t,e){return n(t?null:e)}))},a._createNative=function(){var n=this,t=f.hw.nativeIds,e=function(e){var o=t[e];console.log("开始创建native",o);var i=hbs.createNativeAd({adUnitId:o,success:function(){console.log("native创建成功",e)},fail:function(n,t){console.log("native创建失败",n,t,e)}});i.onLoad((function(t){console.log("native load成功 "+JSON.stringify(t),e);var o=t.adList;if(o&&o[0]){var a={native:i,info:t.adList[0]};n._nativeLoadAsyncCbMap[e]&&n._nativeLoadAsyncCbMap[e](a),n._nativeLoadAsyncCbMap[e]=null}else n._nativeLoadAsyncCbMap[e]&&n._nativeLoadAsyncCbMap[e](null),n._nativeLoadAsyncCbMap[e]=null})),i.onError((function(t){console.log("native load失败"+JSON.stringify(t),e),n._nativeLoadAsyncCbMap[e]&&n._nativeLoadAsyncCbMap[e](null),n._nativeLoadAsyncCbMap[e]=null})),n._nativesMap[e]=i};for(var o in t)e(o)},a.getNativeAdInfo=function(n){var t=n.pos,e=n.asyncCb;this._nativeLoadAsyncCbMap[t]=e,this._nativesMap[t].load(),console.log("开始拉取原生的广告了")},a.tryLoadNativeAdInfo=function(){console.log("华为原生不允许预加载")},a.share=function(n,t){},a.hadShareAbility=function(){return!1},a.hadCollectAbility=function(){return!0},a.tryShortcutIndesktop=function(n){hbs.hasInstalled({success:function(t){t?n&&n(!1,"桌面图标已经存在"):hbs.install({message:"添加游戏图标到桌面即可获得奖励哦",success:function(){n&&n(!0)},fail:function(){n&&n(!1,"添加桌面取消")}})}})},a.needPrivacyAgreement=function(){return!0},a.exitGame=function(){hbs.exitApplication({})},i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/CumVideoNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./Utils.ts"],(function(e){"use strict";var t,o,i,n,r,a,u,l,c,s,d,b,p,C,m,f,V,N,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Label,l=e.ProgressBar,c=e.Node,s=e.Tween,d=e.Vec3,b=e.Component},function(e){p=e.CLIP},function(e){C=e.AudioHelper},function(e){m=e.NotificationCenter,f=e.NCKeys},function(e){V=e.LocalData},function(e){N=e.RemoteConfig},function(e){h=e.PlatformManager},function(e){g=e.Utils}],execute:function(){var w,y,T,v,L,_,O,z,D,R,P,U,A;r._RF.push({},"bf6e5PJzs1H/p9bKiZfHTQ/","CumVideoNodeCtrl",void 0);var I=a.ccclass,M=a.property;e("CumVideoNodeCtrl",(w=I("CumVideoNodeCtrl"),y=M(u),T=M(l),v=M(u),L=M(c),_=M(c),w((D=t((z=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(n(t),"desLabel",D,n(t)),i(n(t),"bar",R,n(t)),i(n(t),"rewardLabel",P,n(t)),i(n(t),"buttonNode",U,n(t)),i(n(t),"redNode",A,n(t)),t}o(t,e);var r=t.prototype;return r.onEnable=function(){m.addObserver(f.CUM_VIDEO_COUNT,this.onCumVideoCount,this),this.onCumVideoCount(V.cumVideoConunt)},r.onDisable=function(){m.removeObserver(f.CUM_VIDEO_COUNT,this)},r.onCumVideoCount=function(e){(this.desLabel.string="累计观看"+N.cumVideoTotal+"次视频即可获得奖励",this.rewardLabel.string="+"+N.cumVideoReward,this.bar.progress=V.cumVideoConunt/N.cumVideoTotal,s.stopAllByTarget(this.buttonNode),V.cumVideoConunt>=N.cumVideoTotal)?(this.redNode.active=!0,new s(this.buttonNode).to(.75,{scale:new d(1.1,1.1,1.1)}).to(.75,{scale:new d(.9,.9,.9)}).union().repeatForever().start()):(this.redNode.active=!1,this.buttonNode.scale=d.ONE)},r.onButtonClick=function(){C.play("audio",p.CLICK_NORMAL_BUTTON),h.getInstance().vibrateShort("light"),V.cumVideoConunt>=N.cumVideoTotal?(V.diamond+=N.cumVideoReward,g.popToast("恭喜获得"+N.cumVideoReward+"钻石"),V.cumVideoConunt=0):g.popToast("累计观看"+N.cumVideoTotal+"次视频即可获得奖励")},t}(b)).prototype,"desLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"bar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(z.prototype,"rewardLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"buttonNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"redNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSpritesCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(r){"use strict";var t,e,i,n,a,s,o,p,u,l;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.initializerDefineProperty,i=r.inheritsLoose,n=r.assertThisInitialized},function(r){a=r.cclegacy,s=r._decorator,o=r.Sprite,p=r.SpriteFrame,u=r.Component},function(r){l=r.Config}],execute:function(){var c,f,g,h,m,y,b,v,S,C,L,d;a._RF.push({},"c0d58Ag2ehD2LMpEZE3tDuY","LanguageSpritesCtrl",void 0);var z=s.ccclass,D=s.property,_=(c=z("SpriteParam"),f=D(o),g=D([p]),c((y=t((m=function(){e(this,"sprite",y,this),e(this,"frames",b,this)}).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"frames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h);r("LanguageSpritesCtrl",(v=z("LanguageSpritesCtrl"),S=D([_]),v((d=t((L=function(r){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=r.call.apply(r,[this].concat(a))||this,e(n(t),"params",d,n(t)),t}return i(t,r),t.prototype.start=function(){for(var r=0;r<this.params.length;r++){var t=this.params[r];t.sprite.spriteFrame=t.frames[l.language]}},t}(u)).prototype,"params",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=L))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameSceneMapCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./LocalData.ts","./Utils.ts","./CastleCtrl.ts"],(function(n){"use strict";var o,t,e,a,i,r,c,s,l,u,p,f,C,d,v,y,_,h,A,P;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,i=n.defineProperty},function(n){r=n.cclegacy,c=n._decorator,s=n.Node,l=n.Prefab,u=n.log,p=n.instantiate,f=n.Vec3,C=n.find,d=n.Component},function(n){v=n.Config},function(n){y=n.NotificationCenter,_=n.NCKeys},function(n){h=n.LocalData},function(n){A=n.Utils},function(n){P=n.CastleCtrl}],execute:function(){var O,S,N,L,R;r._RF.push({},"c42a7+ygfpCcZkS9/Cf7Qog","GameSceneMapCtrl",void 0);var D=c.ccclass,b=c.property;n("GameSceneMapCtrl",(O=D("GameSceneMapCtrl"),S=b(s),O((R=o((L=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,e(a(o),"cannonPos",R,a(o)),i(a(o),"lv",0),o}t(o,n);var r=o.prototype;return r.init=function(n){var o=this;this.lv=n,v.constant.HERO_SHOT_POSITION.z=this.cannonPos.position.z+1,v.constant.CAMERA_PLACE.SHOT.position.z=this.cannonPos.position.z+4;var t=h.curCannonIndex;A.loadResWithCorrection("cannon/cannon"+t,l,(function(n,e){var a;if(n)return u(n);if(t==h.curCannonIndex){var i=p(e);i.scale=new f(2.5,2.5,2.5),i.parent=o.cannonPos,o.cannonBody&&(null===(a=o.cannonBody.parent)||void 0===a||a.destroy()),o.cannonBody=C("body",i),y.postNotice(_.MAP_RES_LOAD_PROGRESS,null),u("加载进度增加 40%")}}));var e=n%v.constant.CASTLE_TOTAL;A.loadResWithCorrection("castle/castle"+e,l,(function(n,t){var e=p(t);e.parent=o.node,e.position=new f(0,1,o.cannonPos.position.z-14),o.castleCtrl=e.getComponent(P),y.postNotice(_.MAP_RES_LOAD_PROGRESS,null),u("加载进度增加 40%")}))},r.onEnable=function(){y.addObserver(_.LOCALDATA_CANNON_INDEX,this.onCannonIndex,this)},r.onDisable=function(){y.removeObserver(_.LOCALDATA_CANNON_INDEX,this)},r.onCannonIndex=function(n){var o=this,t=n;A.loadResWithCorrection("cannon/cannon"+t,l,(function(n,e){var a;if(n)return u(n);if(t==h.curCannonIndex){var i=p(e);i.scale=new f(2.5,2.5,2.5),i.parent=o.cannonPos,o.cannonBody&&(null===(a=o.cannonBody.parent)||void 0===a||a.destroy()),o.cannonBody=C("body",i),u("大炮index"+t+"加载成功")}}))},o}(d)).prototype,"cannonPos",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=L))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/Base64.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"c5c3c8Uz/hIs6C0haYAAHKV","Base64",void 0);r("Base64",{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(r){var t,e,o,h,a,n,c,i="",d=0;for(r=this._utf8_encode(r);d<r.length;)h=(t=r.charCodeAt(d++))>>2,a=(3&t)<<4|(e=r.charCodeAt(d++))>>4,n=(15&e)<<2|(o=r.charCodeAt(d++))>>6,c=63&o,isNaN(e)?n=c=64:isNaN(o)&&(c=64),i=i+this._keyStr.charAt(h)+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(c);return i},decode:function(r){var t,e,o,h,a,n,c="",i=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<r.length;)t=this._keyStr.indexOf(r.charAt(i++))<<2|(h=this._keyStr.indexOf(r.charAt(i++)))>>4,e=(15&h)<<4|(a=this._keyStr.indexOf(r.charAt(i++)))>>2,o=(3&a)<<6|(n=this._keyStr.indexOf(r.charAt(i++))),c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(e)),64!=n&&(c+=String.fromCharCode(o));return c=this._utf8_decode(c)},_utf8_encode:function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var o=r.charCodeAt(e);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(r){for(var t="",e=0,o=0,h=0,a=0;e<r.length;)(o=r.charCodeAt(e))<128?(t+=String.fromCharCode(o),e++):o>191&&o<224?(h=r.charCodeAt(e+1),t+=String.fromCharCode((31&o)<<6|63&h),e+=2):(h=r.charCodeAt(e+1),a=r.charCodeAt(e+2),t+=String.fromCharCode((15&o)<<12|(63&h)<<6|63&a),e+=3);return t}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ObstaclePick.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ServantCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(t){"use strict";var e,r,o,n,i,c,s,l,a;return{setters:[function(t){e=t.inheritsLoose,r=t.defineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,i=t._decorator},function(t){c=t.HeroState},function(t){s=t.ServantCtrl},function(t){l=t.HeroCtrl},function(t){a=t.ObstacleBase}],execute:function(){var f;n._RF.push({},"ca71b/x4/FPBbPJitLt+8P9","ObstaclePick",void 0);var u=i.ccclass;i.property,t("ObstaclePick",u("ObstaclePick")(f=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,r(o(e),"effected",!0),e}e(n,t);var i=n.prototype;return i.onTriggerEnter=function(t){var e;if(0!=this.effected&&t.otherCollider&&t.otherCollider.node){if(null===(e=t.otherCollider.node.parent)||void 0===e?void 0:e.getComponent(s))return this.effected=!1,void this.onPicked();var r=t.otherCollider.node.getComponent(l);return r&&r.state==c.RUN?(this.effected=!1,void this.onPicked()):void 0}},i.onPicked=function(){},n}(a))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/NineChoiceItemCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./nine_lottery_config.ts"],(function(e){"use strict";var t,i,r,n,a,o,l,c,s,u,p,f,d,h,y,C,m,g,b,w,N,_,I,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,c=e.Sprite,s=e.SpriteAtlas,u=e.CCString,p=e.CCInteger,f=e.Node,d=e.Animation,h=e.Vec3,y=e.Tween,C=e.Button,m=e.Component},function(e){g=e.CLIP},function(e){b=e.AudioHelper},function(e){w=e.NotificationCenter,N=e.NCKeys},function(e){_=e.LocalData},function(e){I=e.PlatformManager},function(e){v=e.nine_lottery_config}],execute:function(){var z,O,P,S,T,L,A,R,V,k,x,D,E,F,H;o._RF.push({},"caa6ckDNVlHPaksrGmNaNzj","NineChoiceItemCtrl",void 0);var M=l.ccclass,B=l.property;e("NineChoiceItemCtrl",(z=M("NineChoiceItemCtrl"),O=B(c),P=B(s),S=B(u),T=B(p),L=B(f),A=B(f),z((k=t((V=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"icon",k,n(t)),r(n(t),"atlas",x,n(t)),r(n(t),"rewardType",D,n(t)),r(n(t),"rewardValue",E,n(t)),r(n(t),"chest",F,n(t)),r(n(t),"front",H,n(t)),a(n(t),"orderIndex",0),a(n(t),"isOpend",!1),a(n(t),"_fun",null),t}i(t,e);var o=t.prototype;return o.start=function(){},o.initReward=function(){var e=v[_.nineLotteryIndex];this.rewardType=e.type,this.rewardValue=e.index,this.icon.spriteFrame=this.atlas.getSpriteFrame(""+e.type+e.index)},o.onSelfClick=function(){if(b.play("audio",g.PLUS_BUFFER),I.getInstance().vibrateShort("light"),this._fun(this.orderIndex)){var e;null===(e=this.chest.getComponent(d))||void 0===e||e.play("nineChoicePageChestOpen"),this.front.active=!0,this.front.scale=h.ZERO,new y(this.front).to(.5,{scale:h.ONE},{easing:"backOut"}).start(),_.addOrUnlockItem(this.rewardType,this.rewardValue);var t=this.rewardType,i=this.rewardValue;"diamond"!=t&&(_.equipItem(t,i),w.postNotice(N.NINE_LOTTERY_CHECKMARK_SHOW,!0)),this.getComponent(C).destroy(),this.isOpend=!0}},t}(m)).prototype,"icon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(V.prototype,"atlas",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(V.prototype,"rewardType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"diamond"}}),E=t(V.prototype,"rewardValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=t(V.prototype,"chest",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(V.prototype,"front",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=V))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/shot_lv_config.ts",["cc"],(function(s){"use strict";var f;return{setters:[function(s){f=s.cclegacy}],execute:function(){f._RF.push({},"cc496UQx3xDc4qwoGTx6E87","shot_lv_config",void 0);s("shot_lv_config",[{buffer:1,cost:50,mass:.5},{buffer:1.1,cost:150,mass:.6},{buffer:1.2,cost:250,mass:.7},{buffer:1.3,cost:400,mass:.8},{buffer:1.4,cost:500,mass:.9},{buffer:1.5,cost:550,mass:1},{buffer:1.6,cost:600,mass:1.1},{buffer:1.7,cost:650,mass:1.2},{buffer:1.8,cost:700,mass:1.3},{buffer:1.9,cost:750,mass:1.4},{buffer:2,cost:800,mass:1.5},{buffer:2.1,cost:810,mass:1.6},{buffer:2.2,cost:820,mass:1.7},{buffer:2.3,cost:830,mass:1.8},{buffer:2.4,cost:840,mass:1.9},{buffer:2.5,cost:850,mass:2},{buffer:2.6,cost:860,mass:2.1},{buffer:2.7,cost:870,mass:2.2},{buffer:2.8,cost:880,mass:2.3},{buffer:2.9,cost:890,mass:2.4},{buffer:3,cost:900,mass:2.5},{buffer:3.1,cost:910,mass:2.6},{buffer:3.2,cost:920,mass:2.7},{buffer:3.3,cost:930,mass:2.8},{buffer:3.4,cost:940,mass:2.9},{buffer:3.5,cost:950,mass:3},{buffer:3.6,cost:960,mass:3.1},{buffer:3.7,cost:970,mass:3.2},{buffer:3.8,cost:980,mass:3.3},{buffer:3.9,cost:990,mass:3.4},{buffer:4,cost:0,mass:3.5}]);f._RF.pop()}}}));

System.register("chunks:///_virtual/AudioCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,r,n,c,u,l,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,u=t.CCString,l=t.AudioClip,s=t.AudioSource,a=t.Component}],execute:function(){var p,S,C,_,h,A,L,I,O;t("CLIP",void 0),n._RF.push({},"cd349GwEcJOf7Vww4yXLpqq","AudioCtrl",void 0);var f,T=c.ccclass,y=c.property;!function(t){t[t.BGM=0]="BGM",t[t.CLICK_NORMAL_BUTTON=1]="CLICK_NORMAL_BUTTON",t[t.CLICK_BACK_BUTTON=2]="CLICK_BACK_BUTTON",t[t.CLICK_UPGRADE_BUTTON=3]="CLICK_UPGRADE_BUTTON",t[t.BIG_DIAMOND_EXPLOSE=4]="BIG_DIAMOND_EXPLOSE",t[t.HIT_CASTLE=6]="HIT_CASTLE",t[t.PLUS_BUFFER=7]="PLUS_BUFFER",t[t.SMALL_DIAMOND=8]="SMALL_DIAMOND",t[t.SUCESS=9]="SUCESS",t[t.HIT_DIAMOND=10]="HIT_DIAMOND"}(f||(f=t("CLIP",{})));t("AudioCtrl",(p=T("AudioCtrl"),S=y(u),C=y([l]),_=y(s),p((L=e((A=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,o(r(e),"sceneName",L,r(e)),o(r(e),"clips",I,r(e)),o(r(e),"bgmSource",O,r(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.oneShotSource=this.node.addComponent(s)},n.play=function(t){t==f.BGM?this.bgmSource.play():this.clips[t]&&this.oneShotSource.playOneShot(this.clips[t])},n.playOnShot=function(t){this.clips[t]&&this.oneShotSource.playOneShot(this.clips[t])},n.stop=function(t){t==f.BGM&&this.bgmSource.stop()},e}(a)).prototype,"sceneName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=e(A.prototype,"clips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(A.prototype,"bgmSource",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=A))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/ServantCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./Config.ts","./NotificationCenter.ts","./PlatformManager.ts","./Mankind.ts","./ServantPool.ts","./ServantContainerCtrl.ts","./HeroCtrl.ts"],(function(t){"use strict";var e,o,i,s,n,r,a,l,h,d,f,c,_,p,S,u,w,v,y,A,m,g,C,E,N,b,R,T,L,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.defineProperty},function(t){r=t.cclegacy,a=t._decorator,l=t.Vec3,h=t.Material,d=t.Color,f=t.Tween,c=t.BoxCollider,_=t.game,p=t.find,S=t.log,u=t.isValid},function(t){w=t.PlatformJudge},function(t){v=t.MankindColor,y=t.ServantState,A=t.FollowState,m=t.Config,g=t.HeroState},function(t){C=t.NotificationCenter,E=t.NCKeys},function(t){N=t.PlatformManager},function(t){b=t.Mankind},function(t){R=t.servantPool},function(t){T=t.ServantAliveUtils},function(t){L=t.HeroPosRecordUtil,P=t.HeroCtrl}],execute:function(){var D,F,O,H,I;r._RF.push({},"cdff6Vwc8NODY93uXwvVZeB","ServantCtrl",void 0);var M=a.ccclass,x=a.property,V=new l;t("ServantCtrl",(D=M("ServantCtrl"),F=x([h]),D((I=e((H=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(s(e),"mats",I,s(e)),n(s(e),"color",v.BLUE),n(s(e),"state",y.WAIT),n(s(e),"_followState",A.NORMAL),n(s(e),"_servantIndex",-1),n(s(e),"_delayFrameAfterHero",0),n(s(e),"_delayFrameAfterHeroX",0),n(s(e),"_bearableDistance",0),n(s(e),"_followAcc",0),n(s(e),"_offsetXFromHero",0),n(s(e),"_followSpeed",0),n(s(e),"_followStartSpeed",0),n(s(e),"chaseInvincibled",!1),e}o(e,t);var r=e.prototype;return r.onLoad=function(){},r.setColor=function(t,e){var o=this;if(this.color!=t)if(this.color=t,e){this.initMatHandle();var i=new d;this.pass.getUniform(this.hMainColor,i);var s=m.constant.COLORS[this.color];new f(this.node).to(.5,{},{onUpdate:function(t,e){var n=new d;d.lerp(n,i,s,e),o.pass.setUniform(o.hMainColor,n)}}).start()}else this.meshRenderer.material=this.mats[this.color]},r.reset=function(){this.bodyNode.getComponent(c).enabled=!1,this.animation.stop(),this.color=v.NONE,this.meshRenderer.material=this.mats[this.color],this.unschedule(this._putSelfInPool),f.stopAllByTarget(this.bodyNode.position),f.stopAllByTarget(this.node),this.bodyNode.position=l.ZERO,this.bodyNode.eulerAngles=l.ZERO,this.state=y.WAIT,this._servantIndex=-1,this._followState=A.NORMAL,this._followSpeed=0},r.setServantIndex=function(t){if(this._servantIndex!=t){this._servantIndex=t;var e=t%4,o=Math.floor(t/4),i=(o%2==0?-.1:.1)-.675;this._offsetXFromHero=i+.45*e;var s=1;30==_.getFrameRate()&&(s=2),this._delayFrameAfterHero=Math.floor((3*o+6)/s),this._delayFrameAfterHeroX=Math.ceil(1.5*(o+1)/s),this._bearableDistance=.1,this._followStartSpeed=m.constant.SERVANT_VERTICAL_SPEED-2.5*(o+1),this._followStartSpeed<1&&(this._followStartSpeed=1),this._followAcc=50-3*(o+1),this._followAcc<2&&(this._followAcc=2)}},r.startChase=function(t){var e=this;if(void 0===t&&(t=0),L.get(this._delayFrameAfterHero,V)){var o=L.getX(this._delayFrameAfterHeroX);V.x=o+this._offsetXFromHero;var i=new l(this.node.position),s=l.subtract(new l,i,V).length();if(s>.2){var n=new l(this.bodyNode.worldPosition);this.bodyNode.worldPosition=n;var r=s/(1.5*m.constant.VERTICAL_SPEED);if(r<.1&&(r=.1),this.chaseInvincibled&&(this.state=y.CHASE,this.chaseInvincibled=!1),f.stopAllByTarget(this.bodyNode),new f(this.bodyNode).delay(t).call((function(){e.bodyNode.eulerAngles=new l(0,180,0)})).to(r,{position:l.ZERO}).call((function(){e.state=y.FOLLOW})).start(),t>0)new f(this.bodyNode).to(t,{},{onUpdate:function(){e.bodyNode.worldPosition=n}}).start()}else this.bodyNode.eulerAngles=new l(0,180,0)}else this.bodyNode.eulerAngles=new l(0,180,0)},r.startFollow=function(){this.state=y.FOLLOW,this.bodyNode.getComponent(c).enabled=!0,this.animation.play("run"),this.animation.getState("run").setTime(.5*Math.random())},r.startHurt=function(t){this.state=y.HURT,this._targetCtrl=t,this._heroNode=p("hero"),this.animation.play("run")},r.startDead=function(t){if(void 0===t&&(t=!1),this.state==y.DEAD)return S("servant already");(N.getInstance().vibrateShort("medium"),f.stopAllByTarget(this.bodyNode),this.state=y.DEAD,t&&!w.isTT)?(new l(this.bodyNode.worldPosition).y+=.5,C.postNotice(E.DEAD_EFFECT,{pos:this.bodyNode.worldPosition,color:this.color}),this.reset(),R.put(this.node)):(this.animation.play("dead"),this.scheduleOnce(this._putSelfInPool,6))},r._putSelfInPool=function(){this.reset(),R.put(this.node)},r.update=function(t){if(this.state==y.FOLLOW||this.state==y.CHASE){if(L.get(this._delayFrameAfterHero,V)){var e=L.getX(this._delayFrameAfterHeroX)+this._offsetXFromHero,o=this.node.position.x;if(this._followState==A.NORMAL)if(Math.abs(o-e)>this._bearableDistance){this._followState=A.FOLLOW;var i=1;o-e>0&&(i=-1),this._followSpeed=this._followStartSpeed*i}else V.x=o,this.node.position=V;else{var s=e-o;e-o>0?(this._followSpeed<0&&(this._followSpeed*=-1),s<.5?(this._followSpeed=3*s,this._followSpeed<.2&&(this._followSpeed=.2)):(this._followSpeed+=t*this._followAcc,this._followSpeed>m.constant.SERVANT_VERTICAL_SPEED&&(this._followSpeed=m.constant.SERVANT_VERTICAL_SPEED))):(this._followSpeed>0&&(this._followSpeed*=-1),s>-.5?(this._followSpeed=3*s,this._followSpeed>-.2&&(this._followSpeed=-.2)):(this._followSpeed-=t*this._followAcc,this._followSpeed<-m.constant.SERVANT_VERTICAL_SPEED&&(this._followSpeed=-m.constant.SERVANT_VERTICAL_SPEED)));var n=this._followSpeed*t;Math.abs(s)<Math.abs(n)?(V.x=e,this._followState=A.NORMAL):V.x=o+n,this.node.position=V}}}else if(this.state==y.HURT){var r,a=null;if(this._targetCtrl&&u(this._targetCtrl)&&this._targetCtrl.state==y.FOLLOW)a=this._targetCtrl.node;else this._targetCtrl=T.getRandomOne(),this._targetCtrl?a=this._targetCtrl.node:(null===(r=this._heroNode.getComponent(P))||void 0===r?void 0:r.state)==g.RUN&&(a=this._heroNode);var h=m.constant.VERTICAL_SPEED*t*2;if(a){var d,f=a.position,c=new l(this.node.position),_=new l;if(_.x=f.x-c.x,_.y=f.y-c.y,_.z=f.z-c.z,_.length()>h&&(_.normalize(),_.x*=h,_.y*=h,_.z*=h),c.x+=_.x,c.y+=_.y,c.z+=_.z,this.node.setPosition(c),l.distance(f,c)<.3)null===(d=a.getComponent(b))||void 0===d||d.startDead(!1),this.startDead(!1),C.postNotice(E.RESORT_SERVANT_DIRTY,1)}else{var p=this.node.position;p.z+=h,this.node.position=p}}},e}(b)).prototype,"mats",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=H))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/ServantCreate.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./PlatformManager.ts","./Mankind.ts","./ManKindCountCtrl.ts","./ServantPool.ts","./ServantCtrl.ts","./ServantContainerCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(t){"use strict";var e,r,n,o,i,a,l,s,c,u,p,f,h,d,C,v,g,y,b,m,S,w,P,M,_,N,z,O,I,R,k,L,A,E,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.defineProperty,a=t.createClass},function(t){l=t.cclegacy,s=t._decorator,c=t.Prefab,u=t.Material,p=t.Node,f=t.Enum,h=t.CCFloat,d=t.CCInteger,C=t.find,v=t.warn,g=t.instantiate,y=t.Vec3,b=t.Tween,m=t.MeshRenderer,S=t.SphereCollider},function(t){w=t.CLIP},function(t){P=t.AudioHelper},function(t){M=t.MankindColor,_=t.ServantState},function(t){N=t.NotificationCenter,z=t.NCKeys},function(t){O=t.PlatformManager},function(t){I=t.Mankind},function(t){R=t.ManKindCountCtrl},function(t){k=t.servantPool},function(t){L=t.ServantCtrl},function(t){A=t.ServantAliveUtils},function(t){E=t.HeroCtrl},function(t){D=t.ObstacleBase}],execute:function(){var H,T,F,x,j,B,K,U,Z,q,J,V,G,W,Q,X,Y,$;l._RF.push({},"ce76bKLqoJGDqRZLJHatSgt","ServantCreate",void 0);var tt=s.ccclass,et=s.property;t("ServantCreate",(H=tt("ServantCreate"),T=et(c),F=et([u]),x=et(p),j=et(R),B=et({type:f(M),tooltip:"小人的颜色"}),K=et({type:h,tooltip:"底下圆圈的大小"}),U=et({type:h,tooltip:"小人站位的范围，这个值应该比圆圈要小一些才合理"}),Z=et({type:d,tooltip:"圈子里会有多少小人"}),H((V=e((J=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"servantPrefab",V,o(e)),n(o(e),"materials",G,o(e)),n(o(e),"circleNode",W,o(e)),n(o(e),"countCtrl",Q,o(e)),n(o(e),"_color",X,o(e)),n(o(e),"range",Y,o(e)),n(o(e),"_num",$,o(e)),i(o(e),"effected",!0),i(o(e),"servantCtrls",[]),e}r(e,t);var l=e.prototype;return l.onLoad=function(){var t=C("servantContainer");if(!t)return v("没有发现servantContainer节点");for(var e=this.range/2,r=this.node.position.x,n=this.node.position.y,o=this.node.position.z,i=Math.sin(this.node.eulerAngles.x/180*Math.PI),a=0;a<this.num;a++){var l=Math.random()*e,s=2*Math.random()*Math.PI,c=Math.cos(s)*l,u=-Math.sin(s)*l,p=-u*i,f=k.get()||g(this.servantPrefab);f.position=new y(c+r,p+n,u+o),f.parent=t;var h=f.getComponent(L);h.reset(),h.state=_.WAIT,h.animation.play("idle"),h.setColor(this._color,!1),this.servantCtrls.push(h)}},l.onTriggerEnter=function(t){var e,r=this;if(this.effected&&t.otherCollider&&t.otherCollider.node&&(t.otherCollider.node.getComponent(I)||(null===(e=t.otherCollider.node.parent)||void 0===e?void 0:e.getComponent(I)))){if(C("hero").getComponent(E).color==this.color){O.getInstance().vibrateShort("medium"),P.play("audio",w.PLUS_BUFFER);for(var n=0;n<this.servantCtrls.length;n++){this.servantCtrls[n].startFollow()}N.postNotice(z.RESORT_SERVANT,null)}else{var o,i;O.getInstance().vibrateShort("heavy");var a=null===(o=t.otherCollider.node.parent)||void 0===o?void 0:o.getComponent(L);i=a?A.getTargets(a._servantIndex,this.servantCtrls.length):[];for(var l=0;l<this.servantCtrls.length;l++){this.servantCtrls[l].startHurt(i[l]||null)}}this.countCtrl.setLabel(0),new b(this.circleNode).to(.4,{scale:y.ZERO},{easing:"backIn"}).start(),new b(this.countCtrl.node).to(.4,{scale:y.ZERO},{easing:"backIn"}).call((function(){r.node.destroy()})).start(),this.effected=!1}},a(e,[{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.circleNode.getComponent(m).material=this.materials[t],this.countCtrl.setColor(t)}},{key:"size",get:function(){return this.circleNode.scale.x},set:function(t){this.circleNode.scale=new y(t,t,t),this.node.getComponent(S).radius=t/2}},{key:"num",get:function(){return this._num},set:function(t){this._num=t,this.countCtrl.setLabel(t)}}]),e}(D)).prototype,"servantPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(J.prototype,"materials",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(J.prototype,"circleNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(J.prototype,"countCtrl",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(J.prototype,"_color",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.NONE}}),e(J.prototype,"color",[B],Object.getOwnPropertyDescriptor(J.prototype,"color"),J.prototype),e(J.prototype,"size",[K],Object.getOwnPropertyDescriptor(J.prototype,"size"),J.prototype),Y=e(J.prototype,"range",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=e(J.prototype,"_num",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(J.prototype,"num",[Z],Object.getOwnPropertyDescriptor(J.prototype,"num"),J.prototype),q=J))||q));l._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleContainerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./NotificationCenter.ts"],(function(e){"use strict";var t,r,n,i,o,a,s,c,l,p,f,u,C,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,c=e.Prefab,l=e.NodePool,p=e.instantiate,f=e.ParticleSystem,u=e.Component},function(e){C=e.NotificationCenter,h=e.NCKeys}],execute:function(){var y,P,b,d,v;a._RF.push({},"cf976+XzfJAU4ajsnfWsp5o","ParticleContainerCtrl",void 0);var D=s.ccclass,E=s.property;e("ParticleContainerCtrl",(y=D("ParticleContainerCtrl"),P=E([c]),y((v=t((d=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(i(t),"particlePrefabs",v,i(t)),o(i(t),"pools",[new l,new l,new l]),t}r(t,e);var a=t.prototype;return a.onEnable=function(){C.addObserver(h.DEAD_EFFECT,this.onDeadEffect,this)},a.onDisable=function(){C.removeObserver(h.DEAD_EFFECT,this)},a.onDeadEffect=function(e){var t=this,r=e.pos,n=e.color,i=this.pools[n].get()||p(this.particlePrefabs[n]);i.parent=this.node,i.position=r,i.getComponent(f).play(),setTimeout((function(){t.pools[n].put(i)}),1e3)},t}(u)).prototype,"particlePrefabs",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=d))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/FailedPageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./NotificationCenter.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,c,l,u,p,d,f,h,N,g,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Vec3,l=t.Tween},function(t){u=t.PlatformJudge},function(t){p=t.CLIP},function(t){d=t.AudioHelper},function(t){f=t.PlatformConfig},function(t){h=t.NotificationCenter,N=t.NCKeys},function(t){g=t.PlatformManager},function(t){y=t.BaseUILayerCtrl},function(t){b=t.Utils}],execute:function(){var C,w,v,I,R,O,m,A,P;r._RF.push({},"cfc21cbsfhHa7NTt68qCNzQ","FailedPageCtrl",void 0);var k=a.ccclass,B=a.property;t("FailedPageCtrl",(C=k("FailedPageCtrl"),w=B(s),v=B(s),I=B(s),C((m=e((O=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(o(e),"rebornNode",m,o(e)),i(o(e),"resetNode",A,o(e)),i(o(e),"strictNode",P,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){t.prototype.start.call(this),g.getInstance().trackEvent("wx",{branchId:f.wx.tracks.REBORN,eventType:1})},r.playInAction=function(){var e=this;if(t.prototype.playInAction.call(this),u.isStrict){this.strictNode.active=!0,this.strictNode.position=new c(-135,-1050,0),this.rebornNode.position=new c(135,-1050,0);var n=new l(this.strictNode);n.delay(.15).to(.45,{position:new c(-135,-237,0)},{easing:"backOut"}).start(),(n=new l(this.rebornNode)).delay(.15).to(.45,{position:new c(135,-237,0)},{easing:"backOut"}).start()}else{new l(this.rebornNode).delay(.15).to(.45,{position:new c(0,-237,0)},{easing:"backOut"}).call((function(){e.resetNode.active=!0})).start()}},r.onRebornButtonClick=function(){d.play("audio",p.CLICK_NORMAL_BUTTON),g.getInstance().trackEvent("wx",{branchId:f.wx.tracks.REBORN,eventType:2}),g.getInstance().vibrateShort("light"),g.getInstance().showVideo({branchId:f.wx.tracks.REBORN},this.onAdComplete.bind(this))},r.onAdComplete=function(t,e){t?(LocalData.cumVideoConunt++,this.playOutAction(),h.postNotice(N.REBOREN_HERO,null)):b.popToast(e)},r.onResetButtonClick=function(){d.play("audio",p.CLICK_NORMAL_BUTTON),g.getInstance().vibrateShort("light"),this.playOutAction(),h.postNotice(N.RESET_GAME,null)},e}(y)).prototype,"rebornNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(O.prototype,"resetNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(O.prototype,"strictNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=O))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformConfig.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d0678oodrRPw4S3PIF46KHp","PlatformConfig",void 0);e("PlatformConfig",{dev:{},wx:{videoId:"",bottomBannerId:"",interstitialId:"",customAd:"",shareTitle:"兄弟们，跟我向前冲",shareImage:"https://run-man-hit-castle-1258495086.file.myqcloud.com/share.png",tracks:{SIGN_IN_DOUBLE:"",SIGN_IN_PATCH:"",FREE_DIAMOND:"",SHOP_ADD_DIAMOND:"",DIAMOND_LV:"",SHOT_LV:"",REBORN:"",RESULT_N_DIAMOND:"",PROGRESS_LOTTERY:"",THREE_LOTTERY:"",NINE_LOTTERY:"",SHOP_AD_GET_ITEM:"",TRY_OUT_ITEM:""}},qq:{videoId:"",bannerId:"",interstitialId:"",appBoxId:"",blockId:"",shareTitle:"兄弟们，跟我向前冲",shareImage:"https://run-man-hit-castle-1258495086.file.myqcloud.com/share.png"},tt:{videoId:"",bannerId:"",shareId:"",shareTitle:"兄弟们，跟我向前冲",shareImage:"https://run-man-hit-castle-1258495086.file.myqcloud.com/share.png"},oppo:{videoId:"",bannerId:"",nativeIds:{interstitial:"",banner:""}},vivo:{videoId:"",bannerId:"",nativeIds:{interstitial0:"",banner0:""}},mz:{videoId:"",bannerId:"",nativeId:"",interstitialId:""},hw:{appId:"",videoId:"",nativeIds:{banner:"",interstitial:""}},bd:{appSid:"",videoId:"",bannerId:"",shareTitle:"兄弟们，跟我向前冲",shareImageUrl:"https://run-man-hit-castle-1258495086.file.myqcloud.com/share.png"}});t._RF.pop()}}}));

System.register("chunks:///_virtual/lightNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,r,n,s,l,a,c,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.defineProperty},function(t){s=t.cclegacy,l=t._decorator,a=t.Vec3,c=t.Node,f=t.Component}],execute:function(){var p,u,d,h,y;s._RF.push({},"d7db84DNoFDUJJeh3885BK8","lightNodeCtrl",void 0);var N=l.ccclass,g=l.property,v=new a;t("LightNodeCtrl",(p=N("LightNodeCtrl"),u=g(c),p((y=e((h=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(r(e),"followNode",y,r(e)),n(r(e),"offset",new a),e}o(e,t);var s=e.prototype;return s.start=function(){a.subtract(this.offset,this.followNode.position,this.node.position)},s.lateUpdate=function(){var t=this.followNode.position;v.x=t.x-this.offset.x,v.y=t.y-this.offset.y,v.z=t.z-this.offset.z,this.node.position=v},e}(f)).prototype,"followNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressLotteryToolCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./BaseUILayerCtrl.ts","./progress_lottery_config.ts","./LabelTickCtrl.ts","./ProgressBarTickCtrl.ts","./ResultPageCtrl.ts"],(function(e){"use strict";var t,r,o,i,a,n,l,s,c,p,u,g,b,f,y,L,d,C,P,T,h,k,m,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.SpriteAtlas,s=e.Sprite,c=e.Label,p=e.Font,u=e.Node,g=e.Prefab,b=e.Tween,f=e.Vec3,y=e.instantiate,L=e.find},function(e){d=e.PlatformJudge},function(e){C=e.CLIP},function(e){P=e.AudioHelper},function(e){T=e.LocalData},function(e){h=e.BaseUILayerCtrl},function(e){k=e.progress_lottery_config},function(e){m=e.LabelTickCtrl},function(e){v=e.ProgressBarTickCtrl},function(e){w=e.ResultPageCtrl}],execute:function(){var R,F,z,B,I,_,A,S,D,N,H,x,U,W,J,O,X,j,q;a._RF.push({},"d86026tbD1HWITkFBBNqK1a","ProgressLotteryToolCtrl",void 0);var E=n.ccclass,K=n.property;e("ProgressLotteryToolCtrl",(R=E("ProgressLotteryToolCtrl"),F=K(l),z=K(s),B=K(c),I=K(m),_=K(v),A=K(p),S=K(u),D=K(g),R((x=t((H=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,o(i(t),"atlas",x,i(t)),o(i(t),"icon",U,i(t)),o(i(t),"title",W,i(t)),o(i(t),"progressTick",J,i(t)),o(i(t),"barTick",O,i(t)),o(i(t),"orangeFont",X,i(t)),o(i(t),"orangeNode",j,i(t)),o(i(t),"pagePrefab",q,i(t)),t}r(t,e);var a=t.prototype;return a.start=function(){var e=k[T.progressLotteryIndex];this.icon.spriteFrame=this.atlas.getSpriteFrame(""+e.type+e.index),this.barTick.progressBar.progress=T.progressLotteryRate/100,this.progressTick.label.string=T.progressLotteryRate+"%"},a.onInActionFinish=function(){var e=this;this.barTick.tickProgress(T.progressLotteryRate/100,(T.progressLotteryRate+25)/100,1),this.progressTick.tickLabel(T.progressLotteryRate,T.progressLotteryRate+25,1),T.progressLotteryRate+=25,this.scheduleOnce((function(){T.progressLotteryRate>=100?(e.title.font=e.orangeFont,e.progressTick.label.font=e.orangeFont,e.orangeNode.active=!0,new b(e.node).to(1,{scale:new f(1.1,1.1,1.1)},{easing:"elasticOut"}).delay(.5).call((function(){y(e.pagePrefab).parent=L("Canvas"),d.isWX&&L("Canvas/resultPage").getComponent(w).playBottomInAction()})).start(),P.play("audio",C.SUCESS)):d.isWX&&L("Canvas/resultPage").getComponent(w).playBottomInAction()}),1.5)},t}(h)).prototype,"atlas",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(H.prototype,"icon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(H.prototype,"title",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(H.prototype,"progressTick",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(H.prototype,"barTick",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(H.prototype,"orangeFont",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(H.prototype,"orangeNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(H.prototype,"pagePrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=H))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/Drop.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,o,e,n;return{setters:[function(t){r=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.Component}],execute:function(){var c;o._RF.push({},"da341pJQpVFEZIr4mTcwDAl","Drop",void 0);var p=e.ccclass;e.property,t("Drop",p("Drop")(c=function(t){function o(){return t.apply(this,arguments)||this}return r(o,t),o.prototype.start=function(){},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ManKindCountCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LabelTickCtrl.ts"],(function(t){"use strict";var e,i,r,n,o,a,l,u,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,u=t.SpriteFrame,c=t.Sprite,s=t.Component},function(t){p=t.LabelTickCtrl}],execute:function(){var b,f,m,h,y,C,L,d,g,k,v,w;o._RF.push({},"dab79w9GbVNOK63FZMIi2et","ManKindCountCtrl",void 0);var z=a.ccclass,M=a.property;t("ManKindCountCtrl",(b=z("ManKindCountCtrl"),f=M(l),m=M(p),h=M([u]),y=M(c),b((d=e((L=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"countNum",d,n(e)),r(n(e),"countLabel",g,n(e)),r(n(e),"countLabelTick",k,n(e)),r(n(e),"frames",v,n(e)),r(n(e),"sprite",w,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.setLabel=function(t){t<0&&(t=0),this.countNum!=t&&(this.countLabelTick.tickLabel(this.countNum,t,.5),this.countNum=t)},o.setColor=function(t){this.sprite.spriteFrame=this.frames[t]},e}(s)).prototype,"countNum",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=e(L.prototype,"countLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(L.prototype,"countLabelTick",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(L.prototype,"frames",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(L.prototype,"sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyDetailLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts"],(function(n){"use strict";var t,e,i,r,o,P,a,c,l,A,s,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.defineProperty},function(n){P=n.cclegacy,a=n._decorator,c=n.Label},function(n){l=n.CLIP},function(n){A=n.AudioHelper},function(n){s=n.PlatformManager},function(n){p=n.BaseUILayerCtrl}],execute:function(){var I,u,d,h,D,y,C;P._RF.push({},"dc70eJYxtxBxJ6gMQ/AFNLl","PrivacyDetailLayerCtrl",void 0);var g=a.ccclass,M=a.property,v=["欢迎您选择由北京天舒互娱科技有限公司（以下简称“我们”）提供的游戏或应用APP（以下统称“APP”）。建议您完整地阅读本隐私政策，以帮助您了解维护自己隐私权的方式。如您对本隐私政策有任何疑问，您可以通过平台公布的联系方式与我们联系。我们重视未成年人的个人信息保护，如您为未成年人，建议您请您的监护人仔细阅读本隐私政策,并在征得您的监护人 同意的前提下使用我们的服务或向我们提供信息。本隐私政策主要从以下几个方面帮您详细了解我们或我们合作的第三方如何收集、使用、存储、传输、共享与保护个人信息；帮您了解查询、访问、删除、更正、撤回授权个人信息的方式。\n \n  一、如何收集和使用您的个人信息\n  二、如何使用cookie或同类技术\n  三、如何共享、转让、披露您的个人信息\n  四、如何存储您的个人信息\n  五、如何保护您的个人信息\n  六、如何管理您的个人信息\n  七、未成年人使用条款\n  八、隐私政策的修订和通知\n  九、如何联系我们","一、如何收集和使用您的个人信息\n \n  1.1.您主动提供的信息\n   \n  （1）您在接受或使用我们所提供的服务时主动向我们提供的信息，包括：\n  ①您在注册成为我们的用户时所提供的个人信息；\n  ②您在获取我们特定服务或功能时所上传、发布或提供的信息；\n  ③您参与我们所举办的线上、线下活动时所提交的信息；\n  ④您向我们客服或其他官方渠道所提供的信息。\n  我们在您接受或使用我们服务时所获取的信息，包括：\n  ①日志信息：当您获得我们服务时，我们可能会自动收集相关信息并存储为服务日志信息。\n  ②位置信息：当您获得我们服务或接受服务中的特定功能时，我们可能会收集您所使用设备的地理位置信息。\n  ③其他信息：我们为更好地向您提供服务，提升我们的服务质量，我们可能需要收集经您同意的您的其他相关信息。\n  （3）其他方向我们提供或分享的您的信息。\n  \n  ①其他用户在获得我们服务时所提供的您的信息或可能包含的与您有关的信息。","②第三方合作伙伴向我们所共享的您在获得第三方合作伙伴服务时所产生、提供或分享的信息。在此种情况下，请您仔细阅读第三方合作伙伴服务的用户协议或隐私政策，我们将同时遵守本政策及第三方合作伙伴的隐私政策，以对您的用户信息达到“最小化利用最大化保护”的目的。\n \n  1.2. 我们或我们合作的第三方平台收集和使用的信息及获取的权限\n   \n  为了给您提供更好的产品或服务，我们在APP内接入了第三方服务（包括但不限于实名认证、数据分析、第三方支付、投放广告等），当您使用我们的产品或服务时，为了确保您能正常使用APP和优化用户体验，我们和我们合作的第三方平台可能在APP安装和使用过程中通过调用设备权限收集部分设备相关信息和个人信息（包含：设备信息，读写外置存储器，位置信息）。\n   \n  1）设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、必要的软件列表等）\n   \n  为保障您正常使用我们的产品或服务，实现APP数据的统计和分析以及提升设备账号的安全性，我们合作的第三方平台会在获得您同意的情况下收集您的设备ID、设备名称、设备类型和版本、系统版本、IP地","址、MAC地址、IMEI、应用ID、网络连接状态、软件列表、接入网络的方式和类型等信息。拒绝授权我们合作的第三方平台获取您的上述信息，可能会导致您无法正常使用我们的APP或在使用我们APP的过程中受到相应限制。\n \n  如您使用OPPO、VIVO、华为、小米、魅族等品牌手机，我们的APP可能会接入上述手机厂商联运所需的SDK，需要收集手机唯一标识信息（例如IMEI），并可能会收集您的手机型号、系统类型、系统版本、设备屏幕尺寸等参数用于实现产品功能，具体情况请参见SDK运营方的隐私政策或相关声明。\n   \n  2）存储权限\n   \n  为保障您能充分使用APP的各项功能和保存玩家的数据，我们和我们合作的第三方平台会在获得您同意的情况下获取您移动设备的存储权限。拒绝授权我们或我们合作的第三方平台获取您移动设备的存储权限，可能会导致您无法正常使用我们的APP或在使用我们APP的过程中受到相应限制。\n   \n  3）地理位置信息","为了丰富APP体验，实现内容多样性，我们合作的第三方平台在获得您同意的情况下会收集您的地理位置信息。拒绝提供地理位置信息仅会使您无法使用与位置信息相关的功能，但不影响您正常使用我们APP的其他功能。您也可以随时取消授权我们合作的第三方平台获取您的地理位置信息。\n \n  4）实名身份信息\n   \n  为符合相关法律法规政策及相关主管部门的要求，我们的游戏用户需进行实名认证以继续使用我们的游戏。我们合作的第三方平台会在获得您同意的情况下要求您填写您的实名身份信息，该信息属于敏感信息，拒绝提供实名身份信息可能会导致您无法登陆我们的游戏或在使用我们的游戏过程中受到相应限制。若您希望了解第三方服务提供商收集个人信息的具体规则，请参阅您选择的第三方付款服务提供商的隐私政策。\n   \n  5）支付信息\n   \n  您可能会通过付款的方式获取我们APP相关的虚拟产品，包括游戏币、游戏道具、游戏装备等。上述付款服务由第三方提供，该第三方可能会收集您的充值记录、消费记录等交易信息。我们不会获取与您付款相关的支付账号、密码等信息。在您成功付款后，我们仅会从该第三方付款服务提供商处获取您已完成付款的信息，进而向您提供相应虚拟产品。","若您希望了解第三方服务提供商收集个人信息的具体规则，请参阅您选择的第三方付款服务提供商的隐私政策。\n \n \n  6)第三方平台SDK主要获取的权限以及对应的用途如下：\n   ①第三方SDK：友盟+统计\n  用途：App数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.获取网络信息状态，访问网络连接，可能产生GPRS流量\n  适用范围：所有渠道包\n  隐私说明：https://www.umeng.com/page/policy\n  ②第三方SDK：奇虎360加固保插件\n  用途：代码加固混淆，防止被破解泄露\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.获取网络信息状态，访问网络连接，可能产生GPRS流量\n  适用范围：所有渠道包\n  隐私说明：https://jiagu.360.cn/#/global/help/295\n  ③第三方SDK：穿山甲广告SDK\n  用途：在APP中投放广告与数据分析\n  收集的信息：1.允许程序写入外部存储","2.获取粗略位置\n  3.获取精确位置\n  4.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  适用范围：TAPTAP、好游快报、360等渠道包等\n  隐私说明：https://www.pangle.cn/privacy\n  ④第三方SDK：优量汇广告SDK\n  用途：在APP中投放广告与数据分析\n  收集的信息：1.允许程序写入外部存储\n  2.获取粗略位置\n  3.获取精确位置\n  4.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  适用范围：TAPTAP、360、好游快报等渠道包\n  隐私说明：https://www.tencent.com/zh-cn/privacy-policy.html\n  ⑤第三方SDK：OPPO应用市场联运SDK（内含支付宝,OPPO安全支付,易联支付,现在支付聚合平台）和广告SDK\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序读取外部存储","4.获取粗略位置\n  5.获取精确位置\n  适用范围：OPPO渠道包\n  隐私说明：https://privacy.oppo.com/cn/overview/\n  ⑥第三方SDK：VIVO应用市场联运和广告SDK（其可能集成头条sdk，和快手广告sdk）\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序读取外部存储\n  4.获取粗略位置\n  5.获取精确位置\n  适用范围：VIVO渠道包\n  隐私说明：https://www.vivo.com.cn/about-vivo/privacy-policy\n  ⑦第三方SDK：华为应用市场联运和广告SDK\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序读取外部存储\n  4.获取粗略位置","5.获取精确位置\n  适用范围：华为渠道包\n  隐私说明：https://www.huawei.com/cn/privacy-policy\n  ⑧第三方SDK：小米应用市场联运和广告SDK\n  用途：1.联运市场必须接入；2.在App中投放广告与数据分析\n  收集的信息：1.设备标识信息（例如硬件型号、操作系统版本、设备设置、IMEI、MAC地址、AndroidID、必要的软件列表等）\n  2.允许程序写入外部存储\n  3.允许程序在手机屏幕关闭后后台进程仍然运行\n  4.获取粗略位置，获取精确位置\n  5.挂载、反挂载外部文件系统\n  6.读写系统设置，允许读写系统设置项\n  适用范围：小米渠道包\n  隐私说明：https://privacy.mi.com/all/zh_CN/\n  \n  1.3.收集和使用信息的例外和特殊情况\n   \n  1.3.1例外情况\n   \n  根据相关法律法规及国家标准，以下情形中，我们或我们合作的第三方平台可能会收集、使用您的相关个人信息而无需征求您的授权同意：","1）与国家安全、国防安全等国家利益直接相关的；与公共安全、公共卫生、公共知情等重大公共利益直接相关的；\n \n  2）与犯罪侦查、起诉、审判和判决执行等直接相关的；\n   \n  3）出于维护您或其他个人的生命、财产、声誉等重大合法权益但又很难得到本人同意的；\n   \n  4）所收集的个人信息是您自行向社会公众公开的；\n   \n  5）从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道；\n   \n  6）根据您要求签订和履行合同所必需的；\n   \n  7）用于维护所提供的产品或服务的安全稳定运行所必需的，例如发现、处置产品或服务的故障；\n   \n  8）出于公共利益开展统计或学术研究所必要，且其对外提供学术研究或描述的结果时，对结果中所包含的个人信息进行去标识化处理的；\n   \n  9）法律法规规定的其他情形。","1.3.2特殊情况\n \n  请您理解，我们及我们合作的第三方平台向您提供的功能和服务是不断更新和发展的，如果我们提供的某一功能或服务需要获取新的权限而未在前述说明中，我们会在APP中通过弹窗的方式另行提示您选择是否授权，并在APP的隐私政策中进行更新与说明；如果第三方平台提供的某一功能或服务需要获取您新的权限，第三方平台可能会在其发布的隐私政策中进行更新与说明，如您想要了解第三方平台获取您权限的最新情况，您可以查询第三方平台最新的隐私政策。\n   \n   \n   \n  二、如何使用cookie或同类技术\n   \n  2.1. Cookie或同类技术是互联网中普遍使用的技术。当您体验、登录、使用我们的APP时，我们或我们合作的第三方平台可能会使用相关技术向您的设备发送一个或多个 Cookie或匿名标识符，以收集和存储您访问、使用本APP时的信息，用于分析您使用我们APP的偏好情况，","从而优化用户体验。我们承诺，不会将 Cookie用于本隐私政策所述目的之外的任何其他用途。\n \n  2.2. 我们在使用Cookie或同类技术时会严格遵守移动互联网应用安全相关法律法规的规定，并提供有效的安全措施以保护您的个人信息。如您想要详细了解我们合作的第三方平台如何使用Cookie或同类技术，您可以查阅第三方平台的隐私政策。\n   \n   \n   \n  三、如何共享、转让、披露您的个人信息\n   \n  我们将严格遵守相关法律法规，对您的个人信息予以保密，不会将您的个人信息出售给第三方。我们仅会在以下情况下，处于合法、正当、必要、特定、明确的目的，且采取符合业界标准的安全防护措施的前提下共享、转让、披露您的个人数据。用于共享、转让、披露的个人信息是去标识化处理后的信息，且共享第三方无法重新识别此类信息的自然人主体。\n   \n  3.1  共享\n   \n  1）  事先获得您明确的同意或授权；","2）  根据适用的法律法规规定，或基于司法或行政主管部门的强制性要求进行提供；\n \n  3）  在法律法规允许的范围内，为维护您或其他用户或其他个人的生命、财产等合法权益或是社会公共利益而有必要提供；\n   \n  4）  应您的监护人的合法要求而提供您的信息；\n   \n  5）  根据与您签署的相关协议（包括服务协议）或其他的法律文件约定而提供；\n   \n  6）  可能会基于您的相应授权将您的个人信息与关联方共享。但只会共享必要的个人信息，且受本隐私政策所述目的之约束。关联方如要改变个人信息的处理目的，将适时向您征得明示同意。\n   \n   \n   \n  3.2  转让\n   \n  1）  事先获得您明确的同意或授权；","2）  根据适用的法律法规、法律程序的要求、强制性的行政或司法要求而必须进行提供；\n \n  3）  根据与您签署的相关协议（包括服务协议）或其他的法律文件约定而提供；\n   \n  4）  在涉及收购、兼并、破产清算、重组等变更时，如涉及到个人信息转让，会要求新的持有您个人信息的公司或组织继续履行本隐私政策项下的责任和义务。如变更后的主体需变更个人信息使用目的，我们会要求其事先获得您的明示同意。\n   \n   \n   \n  3.3  公开披露\n   \n  1）  根据您的需求，在您明确同意的披露方式下披露您所指定的个人信息；\n   \n  2）  根据法律、法规的要求、行政或司法机关的强制性要求，我们可能会公开披露您的个人信息。当收到上述披露请求时，我们会依法要求请求方出具相关法律文件，如传票或调查函等。我们会慎重审查每一披","露请求，以确保该等披露请求符合相关法律规定。在法律法规许可的前提下，我们会对包含披露信息的文件进行加密保护。\n \n \n \n  四、如何存储您的个人信息\n   \n  4.1.   我们仅在本隐私政策所述目的所必需期间和法律法规要求的最短时限内储存您的个人信息。如我们终止服务或运营，我们及我们合作的第三方平台将及时停止继续收集您个人信息的活动，同时会遵守相关法律法规要求提前向您通知，并在终止服务或运营后对您的个人信息进行删除或匿名化处理，但法律法规或监管部门另有规定的除外。\n   \n  4.2.   我们在中华人民共和国境内运营中收集和产生的个人信息，储存在中华人民共和国境内，以下情形除外：\n   \n  1） 法律法规有明确规定；\n   \n  2） 获得您的授权同意；\n   \n  3） 目前我们不会将上述信息传输至境外，如果我们向境外传输，我们将会遵循相关国家规定或者征求您的同意。","4） 针对以上情形，我们会确保依据本隐私政策及国家法律法规要求对您的个人信息提供足够的保护。\n \n \n \n  五、如何保护您的个人信息\n   \n  5.1. 我们将采用严格的安全制度以及行业通行的安全技术和程序来确保您的个人信息不被丢失、泄露、毁损或滥用。\n   \n  5.2. 我们的服务采取同行业要求水平的加密技术、匿名化处理等合理手段对您的个人信息进行加密保存，并通过隔离技术进行隔离。我们还会采用严格的数据访问权限控制和多重身份认证技术保护个人信息，避免数据被违规使用。\n   \n  5.3. 我们通过建立数据安全管理规范、采用严格的数据访问权限控制等方式加强员工的安全意识以及对于保护信息重要性的认识。\n   \n  5.4. 我们仅允许有必要知晓这些信息的人员访问个人信息数据，并为此设置了严格的访问权限控制和监控机制。我们同时要求可能接触到您的","个人信息的所有人员履行相应的保密义务。如果未能履行这些义务，可能会被追究法律责任或被中止与我们的合作关系。\n \n  5.5. 我们将采取一切合理可行的措施，确保不收集与我们的APP服务无关的个人信息。\n   \n  5.6. 互联网环境并非百分之百安全，我们会尽力保护您个人信息的安全性。当您的个人信息出现泄露、损毁或丢失等安全事件时，我们将按照法律法规的要求，及时向您告知：安全事件的基本情况和可能的影响、我们已采取或将要采取的处置措施、您可自主防范和降低风险的建议、对您的补救措施等。我们同时将及时将事件相关情况以邮件、信函、电话、推送通知等方式告知您，难以逐一告知信息主体时，我们会采取合理、有效的方式发布公告。同时，我们还将按照监管部门要求，主动上报信息安全事件的处置情况。\n   \n  5.7. 您通过付款的方式获取我们APP相关的虚拟产品时，将通过第三方付款服务商进行交易。届时您不可避免的要向交易对方或潜在的交易对方披露自己的信息，如联络方式、银行账户或者邮箱等。请您妥善保护自己的信息，仅在必要的情形下向他人提供。","5.8. 如果我们监测到您将我们的APP及服务以及相关信息用于欺诈或非法目的，我们将会采取相应措施，包括但不限于中止或终止您使用我们的APP或服务。\n \n \n \n  六、如何管理您的个人信息\n   \n  6.1. 访问、更新和删除个人信息\n   \n  我们非常重视您对个人信息管理的权利。您可根据我们APP内的指引，在APP内或在APP中接入的第三方服务中访问、更新和删除您的个人信息。在访问、更新和删除前述信息时，我们可能会要求您进行身份验证，以保障信息安全。\n   \n  6.2. 注销账号\n   \n  如您想要注销APP账号，您可以按照我们APP中的指引提交账号注销申请，或者通过我们在本隐私政策第九条中所列明的联系方式联系我们，我们将详细的向您告知如何注销APP账号。","6.3. 除法律法规另有规定，当您更新、删除您的个人信息或申请注销帐号时，我们可能不会立即从备份系统中更新或删除相应的信息，但会在备份更新时更新或删除这些信息。\n \n \n \n  七、未成年人使用条款\n   \n  7.1.   若您是未满18周岁的未成年人，在使用我们的APP及相关服务前，应在您的父母或其他监护人监护、指导下共同阅读并同意本隐私政策。\n   \n  7.2.   我们根据国家相关法律法规的规定保护未成年人的个人信息，只会在法律允许、父母或其他监护人明确同意或保护未成年人所必要的情况下收集、使用、储存、共享、转让或披露未成年人的个人信息；如果我们发现在未事先获得可证实的父母同意的情况下收集了未成年人的个人信息，则会设法尽快删除相关信息。\n   \n  7.3.   若您是未成年人的监护人，当您对您所监护的未成年人的个人信息有相关疑问时，请通过公司本隐私政策公示的联系方式与我们联系。","八、《隐私政策》变更\n \n  8.1.   我们的隐私政策会根据运营情况及国家法律、政策进行调整，更新后将需要您在启动游戏时重新仔细阅读并选择是否同意。\n  隐私政策发布日期：2021年9月26日\n   \n   \n  九、如何联系我们\n   \n  9.1.   我们非常尊重每一位用户的隐私，并竭力保护用户的个人信息，如果您对本隐私政策有任何疑问、意见或建议，欢迎在工作日时间9:00-18:00联系我们，我们会尽快做出回复。\n                                                                                   \n  反馈邮箱：beijingtianshu@126.com\n  联系地址：北京市朝阳区双井富力双子座A座2503A"];n("PrivacyDetailLayerCtrl",(I=g("PrivacyDetailLayerCtrl"),u=M(c),d=M(c),I((y=t((D=function(n){function t(){for(var t,e=arguments.length,P=new Array(e),a=0;a<e;a++)P[a]=arguments[a];return t=n.call.apply(n,[this].concat(P))||this,i(r(t),"msgLabel",y,r(t)),i(r(t),"indexLabel",C,r(t)),o(r(t),"_curIndex",0),t}e(t,n);var P=t.prototype;return P.start=function(){this.onIndexChanged(0)},P.onLeftButtonClick=function(){A.play("audio",l.CLICK_NORMAL_BUTTON),s.getInstance().vibrateShort("light"),this.onIndexChanged(-1)},P.onRightButtonClick=function(){A.play("audio",l.CLICK_NORMAL_BUTTON),s.getInstance().vibrateShort("light"),this.onIndexChanged(1)},P.onIndexChanged=function(n){this._curIndex+=n,this._curIndex<0?this._curIndex=v.length-1:this._curIndex>=v.length&&(this._curIndex=0),this.msgLabel.string=v[this._curIndex],this.indexLabel.string="第"+(this._curIndex+1)+"/"+v.length+"页"},t}(p)).prototype,"msgLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"indexLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=D))||h));P._RF.pop()}}}));

System.register("chunks:///_virtual/NineChoicePageCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./Config.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./Utils.ts","./nine_lottery_config.ts","./NineChoiceItemCtrl.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,l,c,h,u,d,p,f,y,m,C,g,b,N,k,v,w,T,I,_,O,E,A,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,l=e.Sprite,c=e.SpriteAtlas,h=e.Node,u=e.UITransform,d=e.find,p=e.Vec3,f=e.Layout,y=e.Tween,m=e.view,C=e.Animation},function(e){g=e.PlatformJudge},function(e){b=e.CLIP},function(e){N=e.AudioHelper},function(e){k=e.PlatformConfig},function(e){v=e.Config},function(e){w=e.NotificationCenter,T=e.NCKeys},function(e){I=e.LocalData},function(e){_=e.PlatformManager},function(e){O=e.BaseUILayerCtrl},function(e){E=e.Utils},function(e){A=e.nine_lottery_config},function(e){L=e.NineChoiceItemCtrl}],execute:function(){var F,P,K,R,S,x,z,M,B,H,U,D,V,Y,Z,j,J,W,G,q,Q;r._RF.push({},"dc924jripVKxbTAnR6e0m4x","NineChoicePageCtrl",void 0);var X=s.ccclass,$=s.property;e("NineChoicePageCtrl",(F=X("NineChoicePageCtrl"),P=$(l),K=$(c),R=$(h),S=$([h]),x=$(u),z=$(h),M=$(h),B=$(h),H=$(L),F((V=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"icon",V,o(t)),n(o(t),"atlas",Y,o(t)),n(o(t),"keyFatherNode",Z,o(t)),n(o(t),"keys",j,o(t)),n(o(t),"maskTrans",J,o(t)),n(o(t),"topNode",W,o(t)),n(o(t),"buttonNodes",G,o(t)),n(o(t),"diamondNode",q,o(t)),n(o(t),"specialItemCtrl",Q,o(t)),a(o(t),"itemCtrls",[]),a(o(t),"itemAniCtrls",[]),a(o(t),"aniTick",0),a(o(t),"_remainKeys",3),t}i(t,e);var r=t.prototype;return r.onLoad=function(){var e;if(g.isStrict){var t=d("buttons/green",this.node),i=d("buttons/normal",this.node);d("buttons/strict",this.node).active=!0,i.active=!1,t.position=new p(125,0,0)}this.specialItemCtrl.initReward();var n=d("mask/nine",this.node);E.shuffle(n.children);for(var o=0;o<9;o++){var a=n.children[o].getComponent(L);a.orderIndex=o,a._fun=this.onItemBeClick.bind(this),this.itemCtrls.push(a)}null===(e=n.getComponent(f))||void 0===e||e.updateLayout();var r=A[I.nineLotteryIndex];this.icon.spriteFrame=this.atlas.getSpriteFrame(""+r.type+r.index);var s=d("topNode/light",this.node);new y(s).to(10,{eulerAngles:new p(0,0,360)}).call((function(){s.eulerAngles=p.ZERO})).union().repeatForever().start(),this.schedule(this.updateForPlayChestAni,.1)},r.onEnable=function(){e.prototype.onEnable.call(this),w.addObserver(T.NINE_LOTTERY_CHECKMARK_SHOW,this.onCheckMarkShow,this)},r.onDisable=function(){w.removeObserver(T.NINE_LOTTERY_CHECKMARK_SHOW,this)},r.onCheckMarkShow=function(){d("topNode/check",this.node).active=!0},r.playInAction=function(){var e=m.getVisibleSize();this.maskTrans.height=0,this.topNode.position=new p(0,e.height/2+50,0),this.diamondNode.position=new p(453,e.height/2-v.ui.TOP_OFFSET,0),this.keyFatherNode.position=p.ZERO,this.keyFatherNode.scale=new p(2,2,2);for(var t=0;t<3;t++){this.keys[t].scale=p.ZERO,new y(this.keys[t]).delay(.2*t).to(.3,{scale:p.ONE},{easing:"backOut"}).start()}var i=new y(this.keyFatherNode);i.delay(.8).to(.8,{position:new p(0,-283,0)},{easing:"backIn"}).start(),(i=new y(this.keyFatherNode)).delay(.8).to(.5,{scale:new p(1.5,1.5,1.5)},{easing:"backInOut"}).start(),new y(this.maskTrans).delay(1.1).to(1,{height:560}).start(),(i=new y(this.topNode)).delay(1.8).to(.5,{position:new p(0,366,0)},{easing:"backOut"}).start(),(i=new y(this.diamondNode)).delay(2).to(.5,{position:new p(253,e.height/2-v.ui.TOP_OFFSET)},{easing:"backOut"}).start()},r.onItemBeClick=function(e){var t=this;return this._remainKeys>0?(this._remainKeys--,new y(this.keys[this._remainKeys]).to(.5,{scale:p.ZERO},{easing:"backIn"}).call((function(){t.itemCtrls.every((function(e){return e.isOpend}))?t.gotoNextLevel():t._remainKeys<=0&&(t.keyFatherNode.active=!1,t.buttonNodes.active=!0,_.getInstance().trackEvent("wx",{branchId:k.wx.tracks.NINE_LOTTERY,eventType:1}))})).start(),!0):(E.popToast("钥匙不足!"),!1)},r.onAddKeyButtonClick=function(){N.play("audio",b.CLICK_NORMAL_BUTTON),_.getInstance().trackEvent("wx",{branchId:k.wx.tracks.NINE_LOTTERY,eventType:2}),_.getInstance().vibrateShort("light"),_.getInstance().showVideo({branchId:k.wx.tracks.NINE_LOTTERY},this.onAdComplete.bind(this))},r.onAdComplete=function(e,t){e?(I.cumVideoConunt++,this._remainKeys=3,this.keys[0].scale=p.ONE,this.keys[1].scale=p.ONE,this.keys[2].scale=p.ONE,this.keyFatherNode.active=!0,this.buttonNodes.active=!1):E.popToast(t)},r.onCancelButtonClick=function(){N.play("audio",b.CLICK_BACK_BUTTON),_.getInstance().vibrateShort("light"),this.gotoNextLevel()},r.gotoNextLevel=function(){I.pickKeyNum=0,this.node.destroy(),w.postNotice(T.RESET_GAME,null)},r.updateForPlayChestAni=function(e){if(this.aniTick-=e,this.aniTick<=0){if(0==this.itemAniCtrls.length){for(var t=0;t<this.itemCtrls.length;t++)0==this.itemCtrls[t].isOpend&&this.itemAniCtrls.push(this.itemCtrls[t]);return E.shuffle(this.itemAniCtrls),void(this.aniTick=.7*Math.random()+.7)}var i,n=this.itemAniCtrls.pop();if(n&&0==n.isOpend)null===(i=n.chest.getComponent(C))||void 0===i||i.play("nineChoicePageChestNormal");this.aniTick=.1*Math.random()+.1}},t}(O)).prototype,"icon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(D.prototype,"atlas",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(D.prototype,"keyFatherNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(D.prototype,"keys",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(D.prototype,"maskTrans",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(D.prototype,"topNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(D.prototype,"buttonNodes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(D.prototype,"diamondNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(D.prototype,"specialItemCtrl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=D))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var o,t,e;return{setters:[function(n){o=n.defineProperty},function(n){t=n.cclegacy,e=n.warn}],execute:function(){t._RF.push({},"df59f5pfXZAUJeLT1J51sr+","AdapterBase",void 0);n("AdapterBase",function(){function n(){o(this,"_cb",null)}var t=n.prototype;return t.showVideo=function(n,o){o&&o(!0,"非特定平台直接给奖励")},t.showBanner=function(n){console.log("显示banner")},t.hideBanner=function(n){console.log("隐藏baner")},t.inViewBanner=function(){console.log("banner 进入视野")},t.outViewBanner=function(){console.log("banner 移除视野")},t.showInterstitialAd=function(n){console.log("显示插屏广告")},t.share=function(n,o){console.log("开始拉起分享了"),n&&n(!0)},t.showGameClub=function(n){},t.showAppBox=function(){},t.showBlockAd=function(n){},t.hideBlockAd=function(n){},t.addColorSign=function(){},t.hadShareAbility=function(){return!0},t.hadCollectAbility=function(){return!0},t.hadColorSignAbility=function(){return!1},t.hadNativeAdInfo=function(){return e("hadNativeAdInfo 未实现"),!1},t.trackEvent=function(n,o){console.log("发起了事件追踪",o)},t.tryShortcutIndesktop=function(n){n&&n(!0),console.log("尝试添加图标到桌面")},t.getNativeAdInfo=function(n){return null},t.tryLoadNativeAdInfo=function(n){},t.hadRecordAbility=function(){return!1},t.startRecord=function(){},t.endRecord=function(){},t.isRecording=function(){return!1},t.shareRecordVideo=function(n){n&&n(!0)},t.needPrivacyAgreement=function(){return!1},t.vibrateShort=function(n){},t.triggerGC=function(){console.log("触发了gc")},t.exitGame=function(){},t.login=function(n){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameSceneCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./Config.ts","./NotificationCenter.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./Utils.ts","./ServantPool.ts","./ServantContainerCtrl.ts","./HeroCtrl.ts","./DiamondCtrl.ts","./ServantBulletCtrl.ts","./GameCameraCtrl.ts","./PrivacyLayerCtrl.ts","./GameSceneMapCtrl.ts","./CanvasCtrl.ts"],(function(t){"use strict";var e,n,a,r,o,i,s,l,c,h,C,u,m,d,p,v,S,f,y,T,E,b,g,_,P,O,B,D,A,w,R,H,N,I,G,z,L,x,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){i=t.cclegacy,s=t._decorator,l=t.Vec3,c=t.Quat,h=t.Prefab,C=t.Node,u=t.find,m=t.log,d=t.instantiate,p=t.director,v=t.CameraComponent,S=t.Tween,f=t.Component},function(t){y=t.PlatformJudge},function(t){T=t.CLIP},function(t){E=t.AudioHelper},function(t){b=t.GameState,g=t.ServantSortType,_=t.Config},function(t){P=t.NotificationCenter,O=t.NCKeys},function(t){B=t.LocalData},function(t){D=t.RemoteConfig},function(t){A=t.PlatformManager},function(t){w=t.Utils},function(t){R=t.servantPool},function(t){H=t.ServantContainerCtrl},function(t){N=t.HeroCtrl},function(t){I=t.DiamondCtrl},function(t){G=t.ServantBulletCtrl},function(t){z=t.GameCameraCtrl},function(t){L=t.PrivacyLayerCtrl},function(t){x=t.GameSceneMapCtrl},function(t){F=t.CanvasCtrl}],execute:function(){var M,U,W,k,K,Q,J,V,X,j,q,Y,Z,$,tt,et,nt,at,rt;i._RF.push({},"e01efUJIetH+oTsT5LERbyp","GameSceneCtrl",void 0);var ot=s.ccclass,it=s.property,st=new l,lt=new c;t("GameSceneCtrl",(M=ot("GameSceneCtrl"),U=it(N),W=it(z),k=it(H),K=it(F),Q=it(x),J=it(h),V=it(h),X=it(C),M((Y=e((q=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,a(r(e),"heroCtrl",Y,r(e)),a(r(e),"gameCameraCtrl",Z,r(e)),a(r(e),"servantContainerCtrl",$,r(e)),a(r(e),"canvasCtrl",tt,r(e)),a(r(e),"mapCtrl",et,r(e)),a(r(e),"servantBulletPrefab",nt,r(e)),a(r(e),"privacyLayerPrefab",at,r(e)),a(r(e),"bulletContainer",rt,r(e)),o(r(e),"state",b.WAIT),o(r(e),"servantBulletNum",0),o(r(e),"limitShotDiamondTime",1/0),e}n(e,t);var i=e.prototype;return i.onLoad=function(){if(console.log("GameSceneCtrl onLoad"),u("Canvas_back").active=!0,B.init(),A.getInstance(),E.init(),A.getInstance().trackEvent("",{branchId:"BCBgAAoXHx5d0rIBcVl4Wm",eventType:2}),y.isWX||y.isQQ||y.isTT){var t=window.wx.getLaunchOptionsSync().scene;console.log("scene",t),1001!=t&&1089!=t&&3003!=t&&"011005"!=t&&"011020"!=t&&"021001"!=t&&"021003"!=t&&"021020"!=t||B.todayGetedCollectReward||w.popAlert({msg:"从我的小程序进入游戏 获得钻石奖励100",sureCb:function(){B.todayGetedCollectReward=!0,B.diamond+=100,B.save(),w.popToast("恭喜领取100钻石奖励")},parent:u("Canvas")})}E.needLoadAudioNode()&&w.loadResWithCorrection("audio",h,(function(t,e){if(t)return m(t);d(e).parent=p.getScene()}))},i.start=function(){var t=this;console.log("GameSceneCtrl start"),this.reset(B.levelIndex),(y.isOppo||y.isHW||y.isQQ)&&!B.acceptPrivacy&&this.scheduleOnce((function(){var e=d(t.privacyLayerPrefab);e.parent=u("Canvas"),e.getComponent(L).setFirstIn()}),.5)},i.onEnable=function(){P.addObserver(O.GAME_STATE,this.onGameState,this),P.addObserver(O.SHOT_BEGIN,this.onShotBegin,this),P.addObserver(O.REBOREN_HERO,this.onReboreHero,this),P.addObserver(O.RESET_GAME,this.onResetGame,this)},i.onDisable=function(){P.removeObserver(O.GAME_STATE,this),P.removeObserver(O.SHOT_BEGIN,this),P.removeObserver(O.REBOREN_HERO,this),P.removeObserver(O.RESET_GAME,this)},i.onResetGame=function(t){null!==t&&(B.levelIndex=t),E.stop("audio",T.BGM),B.refreshTryOutItem(),this.reset(B.levelIndex)},i.reset=function(t){var e=this;this.limitShotDiamondTime=1/0,this.heroCtrl.reset(),this.gameCameraCtrl.reset(),this.servantContainerCtrl.reset(),this.canvasCtrl.reset(t),this.state=b.WAIT,P.postNotice(O.GAME_STATE,{state:b.WAIT}),this.scheduleOnce((function(){e.bulletContainer.destroyAllChildren(),e.mapCtrl&&e.mapCtrl.node.destroy(),e.mapCtrl=null,w.loadResWithCorrection("map/map"+t,h,(function(n,a){if(n)return m(n);var r=d(a);r.name="map",r.parent=p.getScene(),e.mapCtrl=r.getComponent(x),e.mapCtrl.init(t),m("加载进度 增加了30%"),P.postNotice(O.MAP_RES_LOAD_PROGRESS,null)}))}),.1),u("Canvas_back/cloud").position=new l(0,253,0)},i.onReboreHero=function(){this.servantContainerCtrl.clearHurtServant(),this.heroCtrl.reborn(),this.onGameState({state:b.RUN}),this.servantContainerCtrl.onResortServant(g.FILL)},i.onGameState=function(t){var e=this;if(this.state!=t.state)if(this.state=t.state,this.state==b.RUN)console.log("开始run"),E.play("audio",T.BGM),this.heroCtrl.startRun(),this.gameCameraCtrl.startRun(),this.canvasCtrl.startRun();else if(this.state==b.PREPARE){m("开始perpare"),this.gameCameraCtrl.startPerpare(),this.heroCtrl.startPerpare();var n=this.servantContainerCtrl.startPerpare();this.servantBulletNum=n+1,this.canvasCtrl.playPageCtrl.startPrepare(n+1)}else if(this.state==b.SHOT_CASTLE)m("开始 shot_castle"),this.canvasCtrl.startShotCastle(this.heroCtrl.color,0),this.unschedule(this.updateForCannonPos),this.schedule(this.updateForCannonPos,0);else if(this.state==b.SHOT_DIAMOND){m("开始 shot_diamond"),this.limitShotDiamondTime=70;var a=t.diamond,r=new l(a.worldPosition);r.y+=1,this.gameCameraCtrl.getComponent(v).convertToUINode(r,this.canvasCtrl.touchForShotCtrl.node,st),this.canvasCtrl.startShotDiamond(st),_.CLICK_BUTTON_TO_SHOT_DIAMOND&&(this.unschedule(this.updateForShotCastle),P.removeObserver(O.CLCIK_SHOT_DIAMOND_BUTTON,this),P.addObserver(O.CLCIK_SHOT_DIAMOND_BUTTON,this.onClickShotDiamondButton,this))}else if(this.state==b.SHOT_END)this.canvasCtrl.touchForMoveCtrl.node.active=!1,this.canvasCtrl.touchForShotCtrl.node.active=!1,this.unschedule(this.updateForCannonPos),P.removeObserver(O.CLCIK_SHOT_DIAMOND_BUTTON,this),this.scheduleOnce((function(){e.bulletContainer.destroyAllChildren(),P.postNotice(O.GAME_STATE,{state:b.RESULT})}),.2);else if(this.state==b.DEAD)this.canvasCtrl.popFailedPage();else if(this.state==b.RESULT){var o=u("diamond",this.mapCtrl.castleCtrl.node),i=1;if(o){m("大钻石碎裂成小钻石");var s=o.getComponent(I);s.stopPlayHitEffect(),this.canvasCtrl.playPageCtrl.setBigDiamondNum(s.getDiamondReward()),i=3.5}this.scheduleOnce((function(){var t=e.canvasCtrl.playPageCtrl.diamondNum;e.canvasCtrl.popResultPage(t,e.servantBulletNum)}),i)}},i.onShotBegin=function(){this.schedule(this.updateForCannonPos,0);var t=this.canvasCtrl.touchForShotCtrl.getShotEndPosition(),e=this.mapCtrl.cannonBody.worldPosition;st.x=t.x-e.x,st.y=t.y-e.y,st.z=t.z-e.z,st.normalize(),c.rotationTo(lt,new l(0,1,0),st),st.x*=_.constant.SHOT_SPEED_BASE,st.y*=_.constant.SHOT_SPEED_BASE,st.z*=_.constant.SHOT_SPEED_BASE,this.heroCtrl.startShot(e,st,lt),this.mapCtrl.castleCtrl.walkUp(),this.schedule(this.updateForShotCastle,.1)},i.updateForCannonPos=function(){var t=this.canvasCtrl.touchForShotCtrl.getShotEndPosition(),e=this.mapCtrl.cannonBody.worldPosition;st.x=t.x-e.x,st.y=t.y-e.y,st.z=t.z-e.z,st.normalize(),c.rotationTo(lt,new l(0,1,0),st),this.mapCtrl.cannonBody.setRotation(lt)},i.updateForShotCastle=function(){A.getInstance().vibrateShort("medium"),this.limitShotDiamondTime--;var t=this.servantContainerCtrl._waitShotVector.shift();if(t&&this.limitShotDiamondTime>0){var e=this.canvasCtrl.touchForShotCtrl.getShotEndPosition(),n=this.mapCtrl.cannonBody.worldPosition;st.x=e.x-n.x,st.y=e.y-n.y,st.z=e.z-n.z,st.normalize(),c.rotationTo(lt,new l(0,1,0),st),st.x*=_.constant.SHOT_SPEED_BASE,st.y*=_.constant.SHOT_SPEED_BASE,st.z*=_.constant.SHOT_SPEED_BASE;var a=d(this.servantBulletPrefab);a.parent=this.bulletContainer,a.getComponent(G).startShot(n,st,lt,this.heroCtrl.color);var r=this.servantContainerCtrl.sortWaitServant();this.canvasCtrl.playPageCtrl.setServantRemain(r),t.reset(),R.put(t.node),this.mapCtrl.cannonBody.scale=new l(1.1,.6,1.1),new S(this.mapCtrl.cannonBody).to(.09,{scale:new l(1,1,1)}).start()}else this.unschedule(this.updateForShotCastle),D.alwaysShowBigDiamond&&_.CLICK_BUTTON_TO_SHOT_DIAMOND?this.mapCtrl.castleCtrl.popBigDiamond(!0):this.onGameState({state:b.SHOT_END})},i.onClickShotDiamondButton=function(){A.getInstance().vibrateShort("medium");var t=this.canvasCtrl.touchForShotCtrl.getShotEndPosition(),e=this.mapCtrl.cannonBody.worldPosition;st.x=t.x-e.x,st.y=t.y-e.y,st.z=t.z-e.z,st.normalize(),c.rotationTo(lt,new l(0,1,0),st),st.x*=_.constant.SHOT_SPEED_BASE,st.y*=_.constant.SHOT_SPEED_BASE,st.z*=_.constant.SHOT_SPEED_BASE;var n=d(this.servantBulletPrefab);n.parent=this.bulletContainer,n.getComponent(G).startShot(e,st,lt,this.heroCtrl.color),this.mapCtrl.cannonBody.scale=new l(1.1,.6,1.1),new S(this.mapCtrl.cannonBody).to(.09,{scale:new l(1,1,1)}).start()},e}(f)).prototype,"heroCtrl",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(q.prototype,"gameCameraCtrl",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(q.prototype,"servantContainerCtrl",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(q.prototype,"canvasCtrl",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(q.prototype,"mapCtrl",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(q.prototype,"servantBulletPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(q.prototype,"privacyLayerPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(q.prototype,"bulletContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=q))||j));i._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleKey.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./LocalData.ts","./PlatformManager.ts","./ObstaclePick.ts"],(function(t){"use strict";var e,n,c,o,a,s,i,r,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator,o=t.Tween,a=t.Vec3},function(t){s=t.CLIP},function(t){i=t.AudioHelper},function(t){r=t.LocalData},function(t){u=t.PlatformManager},function(t){l=t.ObstaclePick}],execute:function(){var f;n._RF.push({},"e095bdtIZJPE7/tcN6zB1ng","ObstacleKey",void 0);var p=c.ccclass;c.property,t("ObstacleKey",p("ObstacleKey")(f=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onPicked=function(){var t=this;i.play("audio",s.PLUS_BUFFER),u.getInstance().vibrateShort("medium"),new o(this.node).to(.2,{scale:new a(2,2,2)},{easing:"backOut"}).to(.2,{scale:new a(0,0,0)}).call((function(){t.node.destroy()})).start(),r.pickKeyNum++},n}(l))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/SigninLayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./BaseUILayerFromMainPageCtrl.ts","./signin_config.ts","./SigninItemCtrl.ts"],(function(e){"use strict";var t,n,i,a,r,o,s,c,l,u,d,g,h,p,f,v,y,C,m,I,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,l=e.find,u=e.Tween,d=e.Vec3},function(e){g=e.PlatformJudge},function(e){h=e.CLIP},function(e){p=e.AudioHelper},function(e){f=e.PlatformConfig},function(e){v=e.LocalData},function(e){y=e.PlatformManager},function(e){C=e.Utils},function(e){m=e.BaseUILayerFromMainPageCtrl},function(e){I=e.signin_config},function(e){b=e.SigninItemCtrl}],execute:function(){var w,T,S,L,A,_,D,G,B;o._RF.push({},"e4fb0LVcvxBYrK4Ak3v535N","SigninLayerCtrl",void 0);var N=s.ccclass,k=s.property;e("SigninLayerCtrl",(w=N("SigninLayerCtrl"),T=k([b]),S=k(c),L=k(c),w((D=t((_=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(a(t),"items",D,a(t)),i(a(t),"doubleButtonLabel",G,a(t)),i(a(t),"anotherButtonLabel",B,a(t)),r(a(t),"canGetDay",0),t}n(t,e);var o=t.prototype;return o.start=function(){this.onSigninChanged()},o.onSigninChanged=function(){var e=v.signinCanGetDay,t=v.signinGetTime,n=C.offsetDay(t,C.getCurTime());if(n<0)v.signinAnotherReward=!0,this.refresh(0,1,v.signinAnotherReward),v.signinCanGetDay=1;else if(0==n){var i=e-1;this.refresh(i,0,v.signinAnotherReward)}else n>=1&&(v.signinAnotherReward=!0,8==e&&(e=1,v.signinCanGetDay=1),this.refresh(e-1,e,v.signinAnotherReward))},o.refresh=function(e,t,n){for(var i=1;i<=7;i++)this.items[i].setCantGet();if(e>0)for(var a=1;a<=e;a++)this.items[a].setAlreadyGet();var r=l("bg/mid/double",this.node),o=l("bg/mid/single",this.node),s=l("bg/mid/strictSingle",this.node),c=l("bg/mid/another",this.node),h=l("bg/mid/strictAnother",this.node),p=l("bg/mid/already",this.node);if(r.active=!1,o.active=!1,s.active=!1,c.active=!1,p.active=!1,h.active=!1,t>0){if(this.items[t].setCanGet(),this.canGetDay=t,r.active=!0,this.doubleButtonLabel.string="领取(额外 +"+I[t].extra+"      )",s.active=g.isStrict,o.active=!s.active,!g.isStrict)new u(r).to(.85,{scale:new d(1.05,1.05,1.05)}).to(.85,{scale:new d(.95,.95,.95)}).union().repeatForever().start();y.getInstance().trackEvent("wx",{branchId:f.wx.tracks.SIGN_IN_DOUBLE,eventType:1})}else if(n){if(this.canGetDay=e,c.active=!0,h.active=g.isStrict,this.anotherButtonLabel.string="额外+"+I[this.canGetDay].extra,!g.isStrict)new u(c).to(.85,{scale:new d(1.05,1.05,1.05)}).to(.85,{scale:new d(.95,.95,.95)}).union().repeatForever().start();y.getInstance().trackEvent("wx",{branchId:f.wx.tracks.SIGN_IN_PATCH,eventType:1})}else p.active=!0},o.onDoubleButtonClick=function(){p.play("audio",h.CLICK_NORMAL_BUTTON),y.getInstance().vibrateShort("light"),y.getInstance().trackEvent("wx",{branchId:f.wx.tracks.SIGN_IN_DOUBLE,eventType:2}),y.getInstance().showVideo({branchId:f.wx.tracks.SIGN_IN_DOUBLE},this.onAdComplete.bind(this))},o.onAdComplete=function(e,t){if(e){v.cumVideoConunt++;var n=I[this.canGetDay],i=n.extra;v.itemUnlocked(n.rewardType,n.value)?(i*=2,C.popToast("恭喜你领取了"+i+"钻石")):(v.addOrUnlockItem(n.rewardType,n.value),v.equipItem(n.rewardType,n.value),C.popToast("恭喜你领取了"+v.getItemName(n.rewardType,n.value)+"和额外"+i+"钻石")),v.diamond+=i;var a=v.signinCanGetDay+1,r=C.getCurTime();v.refreshSigninData(a,r),v.signinAnotherReward=!1,v.save(),this.onSigninChanged()}else C.popToast(t)},o.onSingleButtonClick=function(){if(p.play("audio",h.CLICK_NORMAL_BUTTON),y.getInstance().vibrateShort("light"),this.canGetDay<=0)return C.popToast("今天已经领取过了");var e=I[this.canGetDay];v.itemUnlocked(e.rewardType,e.value)?(v.diamond+=e.extra,C.popToast("恭喜你领取了"+e.extra+"钻石")):(v.addOrUnlockItem(e.rewardType,e.value),v.equipItem(e.rewardType,e.value),C.popToast("恭喜你领取了"+v.getItemName(e.rewardType,e.value)));var t=v.signinCanGetDay+1,n=C.getCurTime();v.refreshSigninData(t,n),v.save(),this.onSigninChanged()},o.onAnotherButtonClick=function(){p.play("audio",h.CLICK_NORMAL_BUTTON),y.getInstance().vibrateShort("light"),y.getInstance().trackEvent("wx",{branchId:f.wx.tracks.SIGN_IN_PATCH,eventType:2}),y.getInstance().showVideo({branchId:f.wx.tracks.SIGN_IN_PATCH},this.onAnotherRewardComplet.bind(this))},o.onAnotherRewardComplet=function(e,t){if(e){v.cumVideoConunt++;var n=I[this.canGetDay];v.diamond+=n.extra,C.popToast("恭喜你领取了"+n.extra+"钻石"),v.signinAnotherReward=!1,v.save(),this.onSigninChanged()}else C.popToast(t)},o.onCloseButtonClick=function(){p.play("audio",h.CLICK_BACK_BUTTON),y.getInstance().vibrateShort("light"),this.playOutAction()},t}(m)).prototype,"items",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(_.prototype,"doubleButtonLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"anotherButtonLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=_))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShotLvNodeCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioCtrl.ts","./AudioHelper.ts","./PlatformConfig.ts","./NotificationCenter.ts","./LocalData.ts","./PlatformManager.ts","./Utils.ts","./shot_lv_config.ts"],(function(t){"use strict";var e,o,i,n,r,a,s,l,c,b,f,h,u,d,p,v,L,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,l=t.Node,c=t.Vec3,b=t.Component},function(t){f=t.CLIP},function(t){h=t.AudioHelper},function(t){u=t.PlatformConfig},function(t){d=t.NotificationCenter,p=t.NCKeys},function(t){v=t.LocalData},function(t){L=t.PlatformManager},function(t){m=t.Utils},function(t){g=t.shot_lv_config}],execute:function(){var I,A,C,_,y,T,w,O,D,S,N,V,z;r._RF.push({},"e5038wqFtlGmqAg64qqMWyM","ShotLvNodeCtrl",void 0);var H=a.ccclass,P=a.property;t("ShotLvNodeCtrl",(I=H("ShotLvNodeCtrl"),A=P(s),C=P(s),_=P(l),y=P(l),T=P(l),I((D=e((O=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(n(e),"bufferLabel",D,n(e)),i(n(e),"bottomLabel",S,n(e)),i(n(e),"diamondIcon",N,n(e)),i(n(e),"videoIcon",V,n(e)),i(n(e),"finger",z,n(e)),e}o(e,t);var r=e.prototype;return r.onEnable=function(){d.addObserver(p.LOCALDATA_SHOT_LV,this.refresh,this),d.addObserver(p.LOCALDATA_DIAMOND,this.refresh,this),this.refresh()},r.onDisable=function(){d.removeObserver(p.LOCALDATA_SHOT_LV,this),d.removeObserver(p.LOCALDATA_DIAMOND,this)},r.refresh=function(){var t=v.shotLV;this.bufferLabel.string="x"+g[t].buffer+"倍",t<g.length-1?v.diamond<g[t].cost?(this.videoIcon.active=!0,this.diamondIcon.active=!1,this.bottomLabel.string="免费升级",this.bottomLabel.fontSize=24,this.bottomLabel.node.position=new c(24,-71,0),this.finger.active=!1,L.getInstance().trackEvent("wx",{branchId:u.wx.tracks.SHOT_LV,eventType:1})):(this.videoIcon.active=!1,this.diamondIcon.active=!0,this.bottomLabel.fontSize=30,this.bottomLabel.string="  "+m.formatNumber(g[t].cost),this.bottomLabel.node.position=new c(18,-71,0),this.finger.active=!0):(this.videoIcon.active=!1,this.diamondIcon.active=!1,this.bottomLabel.node.position=new c(0,-71,0),this.bottomLabel.string="已达满级",this.bottomLabel.fontSize=30,this.finger.active=!1)},r.onSelfButtonClick=function(){h.play("audio",f.CLICK_UPGRADE_BUTTON),L.getInstance().vibrateShort("light");var t=v.shotLV;t<g.length-1?this.videoIcon.active?(L.getInstance().trackEvent("wx",{branchId:u.wx.tracks.SHOT_LV,eventType:2}),L.getInstance().showVideo({branchId:u.wx.tracks.SHOT_LV},this.onAdComplete.bind(this))):v.diamond<g[t].cost?m.popToast("钻石不足"):(v.diamond-=g[t].cost,v.shotLV++):m.popToast("已达满级")},r.onAdComplete=function(t,e){t?(v.cumVideoConunt++,v.shotLV++,m.popToast("恭喜获得免费升级")):m.popToast(e)},e}(b)).prototype,"bufferLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(O.prototype,"bottomLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(O.prototype,"diamondIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(O.prototype,"videoIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(O.prototype,"finger",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlMZ.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RemoteConfig.ts","./PlatformManager.ts"],(function(n){"use strict";var e,t,r,a,o,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,a=n.Component},function(n){o=n.RemoteConfig},function(n){s=n.PlatformManager}],execute:function(){var c;t._RF.push({},"e946bd2sfNF1rJVgxJ0cybh","BannerCtrlMZ",void 0);var i=r.ccclass;r.property,n("BannerCtrlMZ",i("BannerCtrlMZ")(c=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var r=t.prototype;return r.start=function(){var n=this;s.getInstance().addRemoteInitFinishListener((function(){n.schedule(n.takeTurnBanner,o.bannerTakeTurnInterval),s.getInstance().showBanner({})}))},r.takeTurnBanner=function(){s.getInstance().hideBanner({tryDestroy:!0}),this.scheduleOnce((function(){s.getInstance().showBanner({type:"native"})}),2)},t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/signin_config.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"e9ca49YccRK5pUG6CGu88w5","signin_config",void 0);e("signin_config",[{rewardType:"diamond",value:0,extra:0},{rewardType:"hat",value:5,extra:100},{rewardType:"diamond",value:200,extra:200},{rewardType:"hat",value:25,extra:300},{rewardType:"diamond",value:400,extra:400},{rewardType:"cannon",value:2,extra:500},{rewardType:"diamond",value:600,extra:600},{rewardType:"cannon",value:12,extra:700}]);a._RF.pop()}}}));

System.register("chunks:///_virtual/TryOutHeroCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ShopLayerHeroCtrl.ts"],(function(t){"use strict";var r,e,o,n;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.ShopLayerHeroCtrl}],execute:function(){var u;e._RF.push({},"ed47euPJdlFV6qv48zt/H1e","TryOutHeroCtrl",void 0);var c=o.ccclass;o.property,t("TryOutHeroCtrl",c("TryOutHeroCtrl")(u=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.start=function(){this.animation.play()},o.onDestroy=function(){},e}(n))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTickCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,r,l,a,n,u,s,c,o,h,f,b,p,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.defineProperty},function(e){n=e.cclegacy,u=e._decorator,s=e.Label,c=e.CCString,o=e.CCInteger,h=e.CCBoolean,f=e.error,b=e.Vec3,p=e.Tween,d=e.Component}],execute:function(){var m,N,y,g,v,x,w,P,C,_,F,L,S;n._RF.push({},"edafcvfa0xMpJSm5mai9wUN","LabelTickCtrl",void 0);var z=u.ccclass,k=u.property;e("LabelTickCtrl",(m=z("LabelTickCtrl"),N=k(s),y=k({type:c}),g=k({type:c}),v=k(o),x=k(h),m((C=i((P=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return i=e.call.apply(e,[this].concat(n))||this,r(l(i),"label",C,l(i)),r(l(i),"prefix",_,l(i)),r(l(i),"suffix",F,l(i)),r(l(i),"decimalPlaces",L,l(i)),r(l(i),"withAction",S,l(i)),a(l(i),"curNumber",null),a(l(i),"intervalPerUpdate",null),a(l(i),"finalNumber",null),a(l(i),"_defaultScale",0),i}t(i,e);var n=i.prototype;return n.onLoad=function(){this._defaultScale=this.node.scale.x},n.tickLabel=function(e,i,t){if(void 0===t&&(t=1),"number"!=typeof i)return f("finalNumber 必须是数字哦");null===(e=null===e?this.curNumber:e)||e==i?(this.curNumber=i,this.finalNumber=i,this.label.string=""+this.prefix+this.finalNumber.toFixed(this.decimalPlaces)+this.suffix):(this.curNumber=e,this.finalNumber=i,this.intervalPerUpdate=(i-e)/(33*t),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix)},n.updateForNumber=function(e){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber));var i=this.label.string;if(this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix,this.withAction&&i!=this.label.string){var t=1.2*this._defaultScale;this.node.scale=new b(t,t,t),new p(this.node).to(.025,{scale:new b(this._defaultScale,this._defaultScale,this._defaultScale)}).start()}},n.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},i}(d)).prototype,"label",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(P.prototype,"prefix",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=i(P.prototype,"suffix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=i(P.prototype,"decimalPlaces",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=i(P.prototype,"withAction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=P))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/ServantPool.ts",["cc"],(function(e){"use strict";var t,o,r;return{setters:[function(e){t=e.cclegacy,o=e._decorator,r=e.NodePool}],execute:function(){t._RF.push({},"f05e3MZ/RBMK6grRzP+wCAm","ServantPool",void 0);o.ccclass,o.property,e("servantPool",new r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Deadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./NotificationCenter.ts","./ServantCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(t){"use strict";var e,i,r,o,n,l,a,s,c,u,d,f;return{setters:[function(t){e=t.inheritsLoose,i=t.defineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator},function(t){l=t.ServantState,a=t.HeroState},function(t){s=t.NotificationCenter,c=t.NCKeys},function(t){u=t.ServantCtrl},function(t){d=t.HeroCtrl},function(t){f=t.ObstacleBase}],execute:function(){var p;o._RF.push({},"f1214+p4ddMp6yeh37pGxxq","Deadly",void 0);var h=n.ccclass;n.property,t("Deadly",h("Deadly")(p=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(r(e),"killLimit",50),e}return e(o,t),o.prototype.onTriggerEnter=function(t){var e;if(0!=this.killLimit&&t.otherCollider&&t.otherCollider.node){var i=null===(e=t.otherCollider.node.parent)||void 0===e?void 0:e.getComponent(u);if(i)i.state==l.FOLLOW&&(i.startDead(!0),this.killLimit--,s.postNotice(c.RESORT_SERVANT_DIRTY,.2));else{var r=t.otherCollider.node.getComponent(d);r&&r.state==a.RUN&&(r.startDead(!0),this.killLimit--,s.postNotice(c.RESORT_SERVANT_DIRTY,.2))}}},o}(f))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformJudge.ts","./NotificationCenter.ts","./LocalData.ts","./RemoteConfig.ts","./PlatformManager.ts","./TouchForMoveNodeCtrl.ts","./TryOutLayerCtrl.ts","./MainPageCtrl.ts","./PlayPageCtrl.ts","./ResultPageCtrl.ts","./FreeForeverLayerCtrl.ts","./TouchForShotNodeCtrl.ts"],(function(t){"use strict";var e,a,r,i,n,o,l,s,u,c,h,g,P,f,d,p,C,y,v,b,O,m,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,l=t.Prefab,s=t.instantiate,u=t.find,c=t.Component},function(t){h=t.PlatformJudge},function(t){g=t.NotificationCenter,P=t.NCKeys},function(t){f=t.LocalData},function(t){d=t.RemoteConfig},function(t){p=t.PlatformManager},function(t){C=t.TouchForMoveNodeCtrl},function(t){y=t.TryOutLayerCtrl},function(t){v=t.MainPageCtrl},function(t){b=t.PlayPageCtrl},function(t){O=t.ResultPageCtrl},function(t){m=t.FreeForeverLayerCtrl},function(t){F=t.TouchForShotNodeCtrl}],execute:function(){var I,S,A,N,T,R,w,D,M,_,L,z,x,E,G,H,W,k,B,K,J,Q,U;n._RF.push({},"f249bSTKM1FbbtEsFHyLKdS","CanvasCtrl",void 0);var Y=o.ccclass,j=o.property;t("CanvasCtrl",(I=Y("CanvasCtrl"),S=j(C),A=j(F),N=j(v),T=j(b),R=j(l),w=j(l),D=j(l),M=j(l),_=j(l),L=j(l),I((E=e((x=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(i(e),"touchForMoveCtrl",E,i(e)),r(i(e),"touchForShotCtrl",G,i(e)),r(i(e),"mainPageCtrl",H,i(e)),r(i(e),"playPageCtrl",W,i(e)),r(i(e),"failedPagePrefab",k,i(e)),r(i(e),"resultPagePrefab",B,i(e)),r(i(e),"loadingPagePrefab",K,i(e)),r(i(e),"tryOutPagePrefab",J,i(e)),r(i(e),"tryOutPageWithNativeNdePrefab",Q,i(e)),r(i(e),"freeForeverPagePrefab",U,i(e)),e}a(e,t);var n=e.prototype;return n.onEnable=function(){g.addObserver(P.LOADING_PAGE_DISAPPEAR,this.onLoadingPageDisappear,this),g.addObserver(P.SHOW_TRY_OUT_PAGE,this.showTryOutPage,this)},n.onDisable=function(){g.removeObserver(P.LOADING_PAGE_DISAPPEAR,this),g.removeObserver(P.SHOW_TRY_OUT_PAGE,this)},n.onLoadingPageDisappear=function(){var t=this;if(this.mainPageCtrl.node.active=!0,this.mainPageCtrl.playInAction(),1==f.levelIndex)this.scheduleOnce((function(){t.mainPageCtrl.onSiginButtonClick()}),.1);else if(2==f.levelIndex)this.scheduleOnce((function(){t.mainPageCtrl.onFreeButtonClick()}),.1);else if(3==f.levelIndex){var e=f.tryOutHatIndex,a=f.tryOutShoesIndex;-1==e&&-1!=(e=f.getRandomTryOutHat())&&(a=f.getRandomTryOutShoesOrAlreadyGet()),-1!=e&&this.scheduleOnce((function(){var r=s(t.freeForeverPagePrefab),i=r.getComponent(m);r.parent=t.node,i.init(e,a),t.mainPageCtrl.playOutAction(),u("Canvas/touchForMoveNode").active=!1}),.1)}},n.reset=function(t){s(this.loadingPagePrefab).parent=this.node,this.touchForShotCtrl.node.active=!1,this.playPageCtrl.node.active=!1,this.touchForMoveCtrl.node.active=!0,this.touchForMoveCtrl.reset()},n.startRun=function(){this.mainPageCtrl.node.active&&this.mainPageCtrl.playOutAction(!0),0==this.playPageCtrl.node.active?this.playPageCtrl.node.active=!0:this.playPageCtrl.playInAction()},n.showTryOutPage=function(){var t=f.getRandomTryOutHat();if(-1!=t){var e=this.tryOutPagePrefab;d.interstitialDelayInTryOut>0&&(h.isMZ?p.getInstance().hadNativeAdInfo()?e=this.tryOutPageWithNativeNdePrefab:(p.getInstance().showInterstitialAd({}),p.getInstance().tryLoadNativeAdInfo({})):h.isQQ?p.getInstance().showInterstitialAd({}):(h.isOppo||h.isVivo)&&(e=this.tryOutPageWithNativeNdePrefab));var a=f.getRandomTryOutShoesOrAlreadyGet(),r=s(e);r.getComponent(y).init(t,a),r.parent=this.node,1==f.levelIndex&&(f.tryOutHatIndex=t,f.tryOutShoesIndex=a)}},n.startShotCastle=function(t,e){this.touchForMoveCtrl.node.active=!1,this.touchForShotCtrl.node.active=!0,this.touchForShotCtrl.startShotCastle(t,e)},n.startShotDiamond=function(t){this.playPageCtrl.progressNode.active=!1,this.touchForShotCtrl.startShotDiamond(t)},n.popFailedPage=function(){this.playPageCtrl.node.active&&this.playPageCtrl.playOutAction(),s(this.failedPagePrefab).parent=this.node},n.popResultPage=function(t,e){this.playPageCtrl.node.active=!1;var a=s(this.resultPagePrefab);a.getComponent(O).init(t,e),a.parent=this.node},e}(c)).prototype,"touchForMoveCtrl",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(x.prototype,"touchForShotCtrl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(x.prototype,"mainPageCtrl",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(x.prototype,"playPageCtrl",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(x.prototype,"failedPagePrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(x.prototype,"resultPagePrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(x.prototype,"loadingPagePrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(x.prototype,"tryOutPagePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(x.prototype,"tryOutPageWithNativeNdePrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(x.prototype,"freeForeverPagePrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=x))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/order_config.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f2ce1Eu8OhBqLoyI1xefIej","order_config",void 0);e("order_config",[{type:"hat",index:36},{type:"hat",index:33},{type:"hat",index:28},{type:"hat",index:26},{type:"hat",index:29},{type:"hat",index:34}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/BombDeadly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ServantCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts"],(function(t){"use strict";var e,o,r,i,n,a,s,d,l,c,u,f,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,d=t.CCFloat,l=t.find},function(t){c=t.HeroState,u=t.ServantState},function(t){f=t.ServantCtrl},function(t){p=t.HeroCtrl},function(t){h=t.ObstacleBase}],execute:function(){var v,y,m,C,b;a._RF.push({},"f805ayAsnFL6qHHoxMgQC9m","BombDeadly",void 0);var g=s.ccclass,D=s.property;t("BombDeadly",(v=g("BombDeadly"),y=D({type:d,tooltip:"杀伤半径，理论上如果炸弹很大，那么杀伤半径也应该很大"}),v((b=e((C=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(i(e),"diamondRadius",b,i(e)),n(i(e),"effected",!0),e}o(e,t);var a=e.prototype;return a.onTriggerEnter=function(t){var e;if(0!=this.effected&&t.otherCollider&&t.otherCollider.node){if(null===(e=t.otherCollider.node.parent)||void 0===e?void 0:e.getComponent(f))return this.effected=!1,void this.bombHurt();var o=t.otherCollider.node.getComponent(p);return o&&o.state==c.RUN?(this.effected=!1,void this.bombHurt()):void 0}},a.bombHurt=function(){for(var t=this.node.worldPosition,e=this.diamondRadius*this.diamondRadius,o=l("servantContainer"),r=[],i=(r=r.concat(o.children)).length,n=0;n<i;n++){var a=r[n].getComponent(f);if(a&&a.state!=u.DEAD){var s=r[n].position,d=s.x-t.x,h=s.y-t.y,v=s.z-t.z;d*d+h*h+v*v<=e&&a.startDead(!0)}}var y=l("hero"),m=y.getComponent(p);if(m.state==c.RUN){var C=y.position,b=C.x-t.x,g=C.y-t.y,D=C.z-t.z;b*b+g*g+D*D<=e&&m.startDead(!0),this.node.destroy()}},e}(h)).prototype,"diamondRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=C))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/BannerCtrlHW.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PlatformManager.ts","./NativeNodeCtrl.ts"],(function(n){"use strict";var t,e,r,a,o,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,a=n.Component},function(n){o=n.PlatformManager},function(n){c=n.NativeNodeCtrl}],execute:function(){var s;e._RF.push({},"f884fS0fU9DAqQvPMD1zE3h","BannerCtrlHW",void 0);var i=r.ccclass;r.property,n("BannerCtrlHW",i("BannerCtrlHW")(s=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var r=e.prototype;return r.start=function(){var n=this;this.scheduleOnce((function(){n.schedule(n.takeTurnBanner,30),o.getInstance().showBanner({type:"native"})}),5)},r.takeTurnBanner=function(){c.instance?console.log("当前插屏存在，不显示banner"):(o.getInstance().hideBanner({}),o.getInstance().showBanner({type:"native"}))},e}(a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/DiamondNumTickCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){"use strict";var t,i,r,n,u,l,a,s,o,c,h,b,f,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,u=e.defineProperty},function(e){l=e.cclegacy,a=e._decorator,s=e.Label,o=e.CCString,c=e.CCBoolean,h=e.error,b=e.Vec3,f=e.Tween,m=e.Component},function(e){p=e.Utils}],execute:function(){var d,N,v,y,g,w,_,C,F;l._RF.push({},"faf88osOxpFE6Fi2MBDukiX","DiamondNumTickCtrl",void 0);var x=a.ccclass,D=a.property;e("DiamondNumTickCtrl",(d=x("DiamondNumTickCtrl"),N=D(s),v=D({type:o}),y=D(c),d((_=t((w=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(n(t),"label",_,n(t)),r(n(t),"prefix",C,n(t)),r(n(t),"withAction",F,n(t)),u(n(t),"curNumber",null),u(n(t),"intervalPerUpdate",null),u(n(t),"finalNumber",null),u(n(t),"_defaultScale",0),t}i(t,e);var l=t.prototype;return l.onLoad=function(){this._defaultScale=this.node.scale.x},l.tickLabel=function(e,t,i){if(void 0===i&&(i=1),"number"!=typeof t)return h("finalNumber 必须是数字哦");null===(e=null===e?this.curNumber:e)||e==t?(this.curNumber=t,this.finalNumber=t,this.label.string=this.prefix+p.formatNumber(t)):(this.curNumber=e,this.finalNumber=t,this.intervalPerUpdate=(t-e)/(33*i),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.label.string=this.prefix+p.formatNumber(e))},l.updateForNumber=function(e){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber));var t=this.label.string;if(this.label.string=this.prefix+p.formatNumber(this.curNumber),this.withAction&&t!=this.label.string){var i=1.2*this._defaultScale;this.node.scale=new b(i,i,i),new f(this.node).to(.025,{scale:new b(this._defaultScale,this._defaultScale,this._defaultScale)}).start()}},l.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},t}(m)).prototype,"label",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"prefix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=t(w.prototype,"withAction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=w))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBannerSiblingIndexCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,i,t,r,o,s;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,t=n._decorator,r=n.find,o=n.Node,s=n.Component}],execute:function(){var l;i._RF.push({},"fcb64FjYGBHO7eu+GWa4t8b","NativeBannerSiblingIndexCtrl",void 0);var a=t.ccclass;t.property,n("NativeBannerSiblingIndexCtrl",a("NativeBannerSiblingIndexCtrl")(l=function(n){function i(){return n.apply(this,arguments)||this}e(i,n);var t=i.prototype;return t.onEnable=function(){var n=r("Canvas");n.on(o.EventType.CHILD_ADDED,this.fixedSiblingIndex,this),n.on(o.EventType.CHILD_REMOVED,this.fixedSiblingIndex,this),this.fixedSiblingIndex()},t.fixedSiblingIndex=function(){var n=r("Canvas").children.length;this.node.setSiblingIndex(n-1),console.log("fixedSiblingIndex 触发了")},t.onDisable=function(){var n=r("Canvas");n.off(o.EventType.CHILD_ADDED,this.fixedSiblingIndex,this),n.off(o.EventType.CHILD_REMOVED,this.fixedSiblingIndex,this)},i}(s))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/RemoteConfig.ts",["cc","./Base64.ts"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.cclegacy,n=e.sys},function(e){i=e.Base64}],execute:function(){t._RF.push({},"fe8ebn7njtIaYC8X+Snejc8","RemoteConfig",void 0);e("RemoteConfig",{init:function(e){e()},mix:function(e){for(var t in e){var n=e[t];if("string"==typeof n&&(n=i.decode(n)),console.log("key val selfVal",t,n,this[t]),void 0===this[t])this[t]=n;else{var o=typeof this[t];if("string"==o)this[t]=n;else if("number"==o)this[t]=Number(n);else if("boolean"==o)this[t]="0"!=n;else if("object"==o)try{this[t]=JSON.parse(n)}catch(e){console.log("obj key value is not json",t,n)}}}console.log("融合完毕，本地配置为",this)},save:function(){var e=JSON.stringify(this);n.localStorage.setItem("remote_config",e),console.log("获取到的配置保存到本地了")},load:function(){var e=n.localStorage.getItem("remote_config");if(e){var t=JSON.parse(e);return Object.assign(this,t),console.log("从本地读取了配置"),!0}return!1},inited:!1,cumVideoTotal:3,cumVideoReward:100,freeRefreshTime:300,shareDiamond:100,bannerInPlaying:!1,bannerInShot:!1,bannerInThreeLottery:!1,bannerInGrab:!1,alwaysShowBigDiamond:!1,bannerTakeTurnInterval:30,interstitialDelayInResult:.7,interstitialDelayInTryOut:-1});t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./PlatformJudge.ts","./HtsHelper.ts","./AudioCtrl.ts","./PlatformNotify.ts","./AudioHelper.ts","./AdapterBase.ts","./PlatformConfig.ts","./AdapterBD.ts","./AdapterHW.ts","./AdapterMZ.ts","./AdApterOppo.ts","./Config.ts","./NotificationCenter.ts","./hat_config.ts","./shoes_config.ts","./cannon_config.ts","./LocalData.ts","./AdapterQQ.ts","./AdapterTT.ts","./AdapterVivo.ts","./AdapterWX.ts","./Base64.ts","./RemoteConfig.ts","./PlatformManager.ts","./BaseUILayerCtrl.ts","./AlertLayerCtrl.ts","./ToastCtrl.ts","./Utils.ts","./MutualPushItemCtrl.ts","./PlayPagePushNodeCtrl.ts","./progress_lottery_config.ts","./Mankind.ts","./LabelTickCtrl.ts","./ManKindCountCtrl.ts","./ServantPool.ts","./ServantCtrl.ts","./ServantContainerCtrl.ts","./HeroCtrl.ts","./ObstacleBase.ts","./ObstaclePick.ts","./ObstacleDiamond.ts","./moreGameInnerNodeCtrl.ts","./RecordNodeCtrl.ts","./ShopLayerCannonCtrl.ts","./CustomSliderCtrl.ts","./ProgressBarTickCtrl.ts","./Cannon.ts","./BannerCtrlOppo.ts","./TouchForMoveNodeCtrl.ts","./YangQunHeroTest.ts","./YangQunHunmanTest.ts","./YangQunTouchNodeCtrl.ts","./ObstacleMath.ts","./LoadingPageCtrl.ts","./Deadly.ts","./PendulumDeadly.ts","./MoveBoxDeadly.ts","./PlayPageProgressCtrl.ts","./ShareRecordLayerCtrl.ts","./SeaCtrl.ts","./RotationDeadly.ts","./BannerCtrlBD.ts","./ShopLayerHeroCtrl.ts","./TryOutHeroCtrl.ts","./TryOutLayerCtrl.ts","./shot_lv_config.ts","./DiamondCtrl.ts","./ServantBulletCtrl.ts","./BaseUILayerFromMainPageCtrl.ts","./ShopLayerItemCtrl.ts","./ShopLayerCtrl.ts","./LanguageConfig.ts","./ProgressLotteryPageCtrl.ts","./AdapterTypeDefine.ts","./CastleCtrl.ts","./CheatNodeCtrl.ts","./MoreGameLayerCtrl.ts","./ObstcaleSpeedUp.ts","./three_lottery_config.ts","./RotationCtrl.ts","./FreeLayerCtrl.ts","./ThreeChoiceCardCtrl.ts","./ThreeChoicePageCtrl.ts","./NativeNodeCtrl.ts","./BannerCtrlHW.ts","./BannerCtrlMZ.ts","./BannerCtrlQQ.ts","./BannerCtrlTT.ts","./BannerCtrlVivo.ts","./BannerCtrlWX.ts","./BannerInitNodeCtrl.ts","./order_config.ts","./OrderLayerCtrl.ts","./InterstitialLayerCtrl.ts","./ObstacleColor.ts","./LanguageLabelTicksCtrl.ts","./HeroClothingCtrl.ts","./MainPageCtrl.ts","./mainPagePushNodeCtrl.ts","./TryOutNativeNodeCtrl.ts","./DoorDeadly.ts","./NativeBannerCtrl.ts","./ShopLayerItemSpecialCtrl.ts","./RevolutionCtrl.ts","./Lottery.ts","./HWLoginSceneCtrl.ts","./QQVideoIconCtrl.ts","./PlayPageCtrl.ts","./diamond_lv_config.ts","./nine_lottery_config.ts","./DiamondNumTickCtrl.ts","./ResultPageCtrl.ts","./GameCameraCtrl.ts","./signin_config.ts","./SigninItemCtrl.ts","./FreeForeverLayerCtrl.ts","./GrabLayerCtrl.ts","./DiamondNodeCtrl.ts","./ShareLayerCtrl.ts","./TouchForShotNodeCtrl.ts","./LanguageLabelsCtrl.ts","./PrivacyLayerCtrl.ts","./QQIconNode.ts","./sawDeadly.ts","./toolGameInnerNodeCtrl.ts","./DiamondLvNodeCtrl.ts","./GlobalTemp.ts","./GrabBallColor.ts","./CumVideoNodeCtrl.ts","./LanguageSpritesCtrl.ts","./GameSceneMapCtrl.ts","./NineChoiceItemCtrl.ts","./ServantCreate.ts","./ParticleContainerCtrl.ts","./FailedPageCtrl.ts","./lightNodeCtrl.ts","./ProgressLotteryToolCtrl.ts","./Drop.ts","./PrivacyDetailLayerCtrl.ts","./NineChoicePageCtrl.ts","./CanvasCtrl.ts","./GameSceneCtrl.ts","./ObstacleKey.ts","./SigninLayerCtrl.ts","./ShotLvNodeCtrl.ts","./BombDeadly.ts","./NativeBannerSiblingIndexCtrl.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});